(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const f of u.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&s(f)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();function $S(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var fm={exports:{}},Lo={};var Nv;function JS(){if(Nv)return Lo;Nv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,l,u){var f=null;if(u!==void 0&&(f=""+u),l.key!==void 0&&(f=""+l.key),"key"in l){u={};for(var m in l)m!=="key"&&(u[m]=l[m])}else u=l;return l=u.ref,{$$typeof:r,type:s,key:f,ref:l!==void 0?l:null,props:u}}return Lo.Fragment=e,Lo.jsx=n,Lo.jsxs=n,Lo}var Iv;function ZS(){return Iv||(Iv=1,fm.exports=JS()),fm.exports}var v=ZS(),dm={exports:{}},be={};var Dv;function WS(){if(Dv)return be;Dv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),f=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function j(M){return M===null||typeof M!="object"?null:(M=x&&M[x]||M["@@iterator"],typeof M=="function"?M:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},X=Object.assign,H={};function te(M,W,ae){this.props=M,this.context=W,this.refs=H,this.updater=ae||G}te.prototype.isReactComponent={},te.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},te.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function ne(){}ne.prototype=te.prototype;function ie(M,W,ae){this.props=M,this.context=W,this.refs=H,this.updater=ae||G}var Ee=ie.prototype=new ne;Ee.constructor=ie,X(Ee,te.prototype),Ee.isPureReactComponent=!0;var ge=Array.isArray;function xe(){}var w={H:null,A:null,T:null,S:null},R=Object.prototype.hasOwnProperty;function C(M,W,ae){var ue=ae.ref;return{$$typeof:r,type:M,key:W,ref:ue!==void 0?ue:null,props:ae}}function V(M,W){return C(M.type,W,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function L(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ae){return W[ae]})}var N=/\/+/g;function rt(M,W){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):W.toString(36)}function It(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(xe,xe):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function K(M,W,ae,ue,ve){var Re=typeof M;(Re==="undefined"||Re==="boolean")&&(M=null);var je=!1;if(M===null)je=!0;else switch(Re){case"bigint":case"string":case"number":je=!0;break;case"object":switch(M.$$typeof){case r:case e:je=!0;break;case T:return je=M._init,K(je(M._payload),W,ae,ue,ve)}}if(je)return ve=ve(M),je=ue===""?"."+rt(M,0):ue,ge(ve)?(ae="",je!=null&&(ae=je.replace(N,"$&/")+"/"),K(ve,W,ae,"",function(_s){return _s})):ve!=null&&(D(ve)&&(ve=V(ve,ae+(ve.key==null||M&&M.key===ve.key?"":(""+ve.key).replace(N,"$&/")+"/")+je)),W.push(ve)),1;je=0;var Dt=ue===""?".":ue+":";if(ge(M))for(var st=0;st<M.length;st++)ue=M[st],Re=Dt+rt(ue,st),je+=K(ue,W,ae,Re,ve);else if(st=j(M),typeof st=="function")for(M=st.call(M),st=0;!(ue=M.next()).done;)ue=ue.value,Re=Dt+rt(ue,st++),je+=K(ue,W,ae,Re,ve);else if(Re==="object"){if(typeof M.then=="function")return K(It(M),W,ae,ue,ve);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return je}function se(M,W,ae){if(M==null)return M;var ue=[],ve=0;return K(M,ue,"","",function(Re){return W.call(ae,Re,ve++)}),ue}function me(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ae){(M._status===0||M._status===-1)&&(M._status=1,M._result=ae)},function(ae){(M._status===0||M._status===-1)&&(M._status=2,M._result=ae)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var Ue=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ge={map:se,forEach:function(M,W,ae){se(M,function(){W.apply(this,arguments)},ae)},count:function(M){var W=0;return se(M,function(){W++}),W},toArray:function(M){return se(M,function(W){return W})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return be.Activity=b,be.Children=Ge,be.Component=te,be.Fragment=n,be.Profiler=l,be.PureComponent=ie,be.StrictMode=s,be.Suspense=p,be.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,be.__COMPILER_RUNTIME={__proto__:null,c:function(M){return w.H.useMemoCache(M)}},be.cache=function(M){return function(){return M.apply(null,arguments)}},be.cacheSignal=function(){return null},be.cloneElement=function(M,W,ae){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ue=X({},M.props),ve=M.key;if(W!=null)for(Re in W.key!==void 0&&(ve=""+W.key),W)!R.call(W,Re)||Re==="key"||Re==="__self"||Re==="__source"||Re==="ref"&&W.ref===void 0||(ue[Re]=W[Re]);var Re=arguments.length-2;if(Re===1)ue.children=ae;else if(1<Re){for(var je=Array(Re),Dt=0;Dt<Re;Dt++)je[Dt]=arguments[Dt+2];ue.children=je}return C(M.type,ve,ue)},be.createContext=function(M){return M={$$typeof:f,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:u,_context:M},M},be.createElement=function(M,W,ae){var ue,ve={},Re=null;if(W!=null)for(ue in W.key!==void 0&&(Re=""+W.key),W)R.call(W,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(ve[ue]=W[ue]);var je=arguments.length-2;if(je===1)ve.children=ae;else if(1<je){for(var Dt=Array(je),st=0;st<je;st++)Dt[st]=arguments[st+2];ve.children=Dt}if(M&&M.defaultProps)for(ue in je=M.defaultProps,je)ve[ue]===void 0&&(ve[ue]=je[ue]);return C(M,Re,ve)},be.createRef=function(){return{current:null}},be.forwardRef=function(M){return{$$typeof:m,render:M}},be.isValidElement=D,be.lazy=function(M){return{$$typeof:T,_payload:{_status:-1,_result:M},_init:me}},be.memo=function(M,W){return{$$typeof:g,type:M,compare:W===void 0?null:W}},be.startTransition=function(M){var W=w.T,ae={};w.T=ae;try{var ue=M(),ve=w.S;ve!==null&&ve(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(xe,Ue)}catch(Re){Ue(Re)}finally{W!==null&&ae.types!==null&&(W.types=ae.types),w.T=W}},be.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},be.use=function(M){return w.H.use(M)},be.useActionState=function(M,W,ae){return w.H.useActionState(M,W,ae)},be.useCallback=function(M,W){return w.H.useCallback(M,W)},be.useContext=function(M){return w.H.useContext(M)},be.useDebugValue=function(){},be.useDeferredValue=function(M,W){return w.H.useDeferredValue(M,W)},be.useEffect=function(M,W){return w.H.useEffect(M,W)},be.useEffectEvent=function(M){return w.H.useEffectEvent(M)},be.useId=function(){return w.H.useId()},be.useImperativeHandle=function(M,W,ae){return w.H.useImperativeHandle(M,W,ae)},be.useInsertionEffect=function(M,W){return w.H.useInsertionEffect(M,W)},be.useLayoutEffect=function(M,W){return w.H.useLayoutEffect(M,W)},be.useMemo=function(M,W){return w.H.useMemo(M,W)},be.useOptimistic=function(M,W){return w.H.useOptimistic(M,W)},be.useReducer=function(M,W,ae){return w.H.useReducer(M,W,ae)},be.useRef=function(M){return w.H.useRef(M)},be.useState=function(M){return w.H.useState(M)},be.useSyncExternalStore=function(M,W,ae){return w.H.useSyncExternalStore(M,W,ae)},be.useTransition=function(){return w.H.useTransition()},be.version="19.2.0",be}var Ov;function ap(){return Ov||(Ov=1,dm.exports=WS()),dm.exports}var U=ap();const Js=$S(U);var mm={exports:{}},Po={},pm={exports:{}},gm={};var Mv;function eA(){return Mv||(Mv=1,(function(r){function e(K,se){var me=K.length;K.push(se);e:for(;0<me;){var Ue=me-1>>>1,Ge=K[Ue];if(0<l(Ge,se))K[Ue]=se,K[me]=Ge,me=Ue;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var se=K[0],me=K.pop();if(me!==se){K[0]=me;e:for(var Ue=0,Ge=K.length,M=Ge>>>1;Ue<M;){var W=2*(Ue+1)-1,ae=K[W],ue=W+1,ve=K[ue];if(0>l(ae,me))ue<Ge&&0>l(ve,ae)?(K[Ue]=ve,K[ue]=me,Ue=ue):(K[Ue]=ae,K[W]=me,Ue=W);else if(ue<Ge&&0>l(ve,me))K[Ue]=ve,K[ue]=me,Ue=ue;else break e}}return se}function l(K,se){var me=K.sortIndex-se.sortIndex;return me!==0?me:K.id-se.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var f=Date,m=f.now();r.unstable_now=function(){return f.now()-m}}var p=[],g=[],T=1,b=null,x=3,j=!1,G=!1,X=!1,H=!1,te=typeof setTimeout=="function"?setTimeout:null,ne=typeof clearTimeout=="function"?clearTimeout:null,ie=typeof setImmediate<"u"?setImmediate:null;function Ee(K){for(var se=n(g);se!==null;){if(se.callback===null)s(g);else if(se.startTime<=K)s(g),se.sortIndex=se.expirationTime,e(p,se);else break;se=n(g)}}function ge(K){if(X=!1,Ee(K),!G)if(n(p)!==null)G=!0,xe||(xe=!0,L());else{var se=n(g);se!==null&&It(ge,se.startTime-K)}}var xe=!1,w=-1,R=5,C=-1;function V(){return H?!0:!(r.unstable_now()-C<R)}function D(){if(H=!1,xe){var K=r.unstable_now();C=K;var se=!0;try{e:{G=!1,X&&(X=!1,ne(w),w=-1),j=!0;var me=x;try{t:{for(Ee(K),b=n(p);b!==null&&!(b.expirationTime>K&&V());){var Ue=b.callback;if(typeof Ue=="function"){b.callback=null,x=b.priorityLevel;var Ge=Ue(b.expirationTime<=K);if(K=r.unstable_now(),typeof Ge=="function"){b.callback=Ge,Ee(K),se=!0;break t}b===n(p)&&s(p),Ee(K)}else s(p);b=n(p)}if(b!==null)se=!0;else{var M=n(g);M!==null&&It(ge,M.startTime-K),se=!1}}break e}finally{b=null,x=me,j=!1}se=void 0}}finally{se?L():xe=!1}}}var L;if(typeof ie=="function")L=function(){ie(D)};else if(typeof MessageChannel<"u"){var N=new MessageChannel,rt=N.port2;N.port1.onmessage=D,L=function(){rt.postMessage(null)}}else L=function(){te(D,0)};function It(K,se){w=te(function(){K(r.unstable_now())},se)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(K){switch(x){case 1:case 2:case 3:var se=3;break;default:se=x}var me=x;x=se;try{return K()}finally{x=me}},r.unstable_requestPaint=function(){H=!0},r.unstable_runWithPriority=function(K,se){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var me=x;x=K;try{return se()}finally{x=me}},r.unstable_scheduleCallback=function(K,se,me){var Ue=r.unstable_now();switch(typeof me=="object"&&me!==null?(me=me.delay,me=typeof me=="number"&&0<me?Ue+me:Ue):me=Ue,K){case 1:var Ge=-1;break;case 2:Ge=250;break;case 5:Ge=1073741823;break;case 4:Ge=1e4;break;default:Ge=5e3}return Ge=me+Ge,K={id:T++,callback:se,priorityLevel:K,startTime:me,expirationTime:Ge,sortIndex:-1},me>Ue?(K.sortIndex=me,e(g,K),n(p)===null&&K===n(g)&&(X?(ne(w),w=-1):X=!0,It(ge,me-Ue))):(K.sortIndex=Ge,e(p,K),G||j||(G=!0,xe||(xe=!0,L()))),K},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(K){var se=x;return function(){var me=x;x=se;try{return K.apply(this,arguments)}finally{x=me}}}})(gm)),gm}var Vv;function tA(){return Vv||(Vv=1,pm.exports=eA()),pm.exports}var ym={exports:{}},Xt={};var Lv;function nA(){if(Lv)return Xt;Lv=1;var r=ap();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var T=2;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function u(p,g,T){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:p,containerInfo:g,implementation:T}}var f=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(p,g){var T=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,T)},Xt.flushSync=function(p){var g=f.T,T=s.p;try{if(f.T=null,s.p=2,p)return p()}finally{f.T=g,s.p=T,s.d.f()}},Xt.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},Xt.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},Xt.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,j=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;T==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:j}):T==="script"&&s.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:j,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Xt.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var T=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},Xt.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var T=g.as,b=m(T,g.crossOrigin);s.d.L(p,T,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Xt.preloadModule=function(p,g){if(typeof p=="string")if(g){var T=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:T,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},Xt.requestFormReset=function(p){s.d.r(p)},Xt.unstable_batchedUpdates=function(p,g){return p(g)},Xt.useFormState=function(p,g,T){return f.H.useFormState(p,g,T)},Xt.useFormStatus=function(){return f.H.useHostTransitionStatus()},Xt.version="19.2.0",Xt}var Pv;function iA(){if(Pv)return ym.exports;Pv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),ym.exports=nA(),ym.exports}var jv;function rA(){if(jv)return Po;jv=1;var r=tA(),e=ap(),n=iA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function f(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(t.tag===31){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function p(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,o=i;;){var h=a.return;if(h===null)break;var d=h.alternate;if(d===null){if(o=h.return,o!==null){a=o;continue}break}if(h.child===d.child){for(d=h.child;d;){if(d===a)return p(h),t;if(d===o)return p(h),i;d=d.sibling}throw Error(s(188))}if(a.return!==o.return)a=h,o=d;else{for(var _=!1,S=h.child;S;){if(S===a){_=!0,a=h,o=d;break}if(S===o){_=!0,o=h,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,o=h;break}if(S===o){_=!0,o=d,a=h;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==o)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function T(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=T(t),i!==null)return i;t=t.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),X=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),te=Symbol.for("react.profiler"),ne=Symbol.for("react.consumer"),ie=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),ge=Symbol.for("react.suspense"),xe=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),R=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function L(t){return t===null||typeof t!="object"?null:(t=D&&t[D]||t["@@iterator"],typeof t=="function"?t:null)}var N=Symbol.for("react.client.reference");function rt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===N?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case X:return"Fragment";case te:return"Profiler";case H:return"StrictMode";case ge:return"Suspense";case xe:return"SuspenseList";case C:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case G:return"Portal";case ie:return t.displayName||"Context";case ne:return(t._context.displayName||"Context")+".Consumer";case Ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case w:return i=t.displayName||null,i!==null?i:rt(t.type)||"Memo";case R:i=t._payload,t=t._init;try{return rt(t(i))}catch{}}return null}var It=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,se=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,me={pending:!1,data:null,method:null,action:null},Ue=[],Ge=-1;function M(t){return{current:t}}function W(t){0>Ge||(t.current=Ue[Ge],Ue[Ge]=null,Ge--)}function ae(t,i){Ge++,Ue[Ge]=t.current,t.current=i}var ue=M(null),ve=M(null),Re=M(null),je=M(null);function Dt(t,i){switch(ae(Re,i),ae(ve,t),ae(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?Z_(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=Z_(i),t=W_(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}W(ue),ae(ue,t)}function st(){W(ue),W(ve),W(Re)}function _s(t){t.memoizedState!==null&&ae(je,t);var i=ue.current,a=W_(i,t.type);i!==a&&(ae(ve,t),ae(ue,a))}function ha(t){ve.current===t&&(W(ue),W(ve)),je.current===t&&(W(je),Do._currentValue=me)}var fa,da;function oi(t){if(fa===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);fa=i&&i[1]||"",da=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fa+t+da}var Il=!1;function vs(t,i){if(!t||Il)return"";Il=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(i){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(Y){var q=Y}Reflect.construct(t,[],J)}else{try{J.call()}catch(Y){q=Y}t.call(J.prototype)}}else{try{throw Error()}catch(Y){q=Y}(J=t())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(Y){if(Y&&q&&typeof Y.stack=="string")return[Y.stack,q.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=o.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var I=_.split(`
`),B=S.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===B.length)for(o=I.length-1,h=B.length-1;1<=o&&0<=h&&I[o]!==B[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==B[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==B[h]){var Q=`
`+I[o].replace(" at new "," at ");return t.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",t.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Il=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?oi(a):""}function Dl(t,i){switch(t.tag){case 26:case 27:case 5:return oi(t.type);case 16:return oi("Lazy");case 13:return t.child!==i&&i!==null?oi("Suspense Fallback"):oi("Suspense");case 19:return oi("SuspenseList");case 0:case 15:return vs(t.type,!1);case 11:return vs(t.type.render,!1);case 1:return vs(t.type,!0);case 31:return oi("Activity");default:return""}}function Ol(t){try{var i="",a=null;do i+=Dl(t,a),a=t,t=t.return;while(t);return i}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _t=Object.prototype.hasOwnProperty,Ot=r.unstable_scheduleCallback,_r=r.unstable_cancelCallback,mf=r.unstable_shouldYield,Su=r.unstable_requestPaint,en=r.unstable_now,Es=r.unstable_getCurrentPriorityLevel,Ml=r.unstable_ImmediatePriority,Vl=r.unstable_UserBlockingPriority,vr=r.unstable_NormalPriority,pf=r.unstable_LowPriority,Au=r.unstable_IdlePriority,wu=r.log,xu=r.unstable_setDisableYieldValue,qn=null,zt=null;function Sn(t){if(typeof wu=="function"&&xu(t),zt&&typeof zt.setStrictMode=="function")try{zt.setStrictMode(qn,t)}catch{}}var ft=Math.clz32?Math.clz32:Cu,Ru=Math.log,ma=Math.LN2;function Cu(t){return t>>>=0,t===0?32:31-(Ru(t)/ma|0)|0}var ui=256,Ts=262144,vt=4194304;function ci(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return t&261888;case 262144:case 524288:case 1048576:case 2097152:return t&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function hi(t,i,a){var o=t.pendingLanes;if(o===0)return 0;var h=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=o&134217727;return S!==0?(o=S&~d,o!==0?h=ci(o):(_&=S,_!==0?h=ci(_):a||(a=S&~t,a!==0&&(h=ci(a))))):(S=o&~d,S!==0?h=ci(S):_!==0?h=ci(_):a||(a=o&~t,a!==0&&(h=ci(a)))),h===0?0:i!==0&&i!==h&&(i&d)===0&&(d=h&-h,a=i&-i,d>=a||d===32&&(a&4194048)!==0)?i:h}function Hn(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function gf(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nu(){var t=vt;return vt<<=1,(vt&62914560)===0&&(vt=4194304),t}function fi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function bs(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function yf(t,i,a,o,h,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=_&~a;0<a;){var Q=31-ft(a),J=1<<Q;S[Q]=0,I[Q]=-1;var q=B[Q];if(q!==null)for(B[Q]=null,Q=0;Q<q.length;Q++){var Y=q[Q];Y!==null&&(Y.lane&=-536870913)}a&=~J}o!==0&&Ss(t,o,0),d!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~i))}function Ss(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var o=31-ft(i);t.entangledLanes|=i,t.entanglements[o]=t.entanglements[o]|1073741824|a&261930}function Ll(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var o=31-ft(a),h=1<<o;h&i|t[o]&i&&(t[o]|=i),a&=~h}}function Pl(t,i){var a=i&-i;return a=(a&42)!==0?1:As(a),(a&(t.suspendedLanes|i))!==0?0:a}function As(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ki(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Iu(){var t=se.p;return t!==0?t:(t=window.event,t===void 0?32:bv(t.type))}function Fn(t,i){var a=se.p;try{return se.p=t,i()}finally{se.p=a}}var Gn=Math.random().toString(36).slice(2),Et="__reactFiber$"+Gn,Lt="__reactProps$"+Gn,di="__reactContainer$"+Gn,pa="__reactEvents$"+Gn,_f="__reactListeners$"+Gn,Du="__reactHandles$"+Gn,Ou="__reactResources$"+Gn,mi="__reactMarker$"+Gn;function ga(t){delete t[Et],delete t[Lt],delete t[pa],delete t[_f],delete t[Du]}function pi(t){var i=t[Et];if(i)return i;for(var a=t.parentNode;a;){if(i=a[di]||a[Et]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=av(t);t!==null;){if(a=t[Et])return a;t=av(t)}return i}t=a,a=t.parentNode}return null}function An(t){if(t=t[Et]||t[di]){var i=t.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return t}return null}function dn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function gi(t){var i=t[Ou];return i||(i=t[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function Tt(t){t[mi]=!0}var jl=new Set,kl={};function yi(t,i){_i(t,i),_i(t+"Capture",i)}function _i(t,i){for(kl[t]=i,t=0;t<i.length;t++)jl.add(i[t])}var Ul=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),zl={},Bl={};function Mu(t){return _t.call(Bl,t)?!0:_t.call(zl,t)?!1:Ul.test(t)?Bl[t]=!0:(zl[t]=!0,!1)}function ya(t,i,a){if(Mu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var o=i.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function mn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function bt(t,i,a,o){if(o===null)t.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+o)}}function Pt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Er(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ql(t,i,a){var o=Object.getOwnPropertyDescriptor(t.constructor.prototype,i);if(!t.hasOwnProperty(i)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,d=o.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(_){a=""+_,d.call(this,_)}}),Object.defineProperty(t,i,{enumerable:o.enumerable}),{getValue:function(){return a},setValue:function(_){a=""+_},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ye(t){if(!t._valueTracker){var i=Er(t)?"checked":"value";t._valueTracker=ql(t,i,""+t[i])}}function ws(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),o="";return t&&(o=Er(t)?t.checked?"true":"false":t.value),t=o,t!==a?(i.setValue(t),!0):!1}function vi(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var xs=/[\n"\\]/g;function rn(t){return t.replace(xs,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function _a(t,i,a,o,h,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),i!=null?_==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Pt(i)):t.value!==""+Pt(i)&&(t.value=""+Pt(i)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),i!=null?Hl(t,_,Pt(i)):a!=null?Hl(t,_,Pt(a)):o!=null&&t.removeAttribute("value"),h==null&&d!=null&&(t.defaultChecked=!!d),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+Pt(S):t.removeAttribute("name")}function Vu(t,i,a,o,h,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),i!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||i!=null)){Ye(t);return}a=a!=null?""+Pt(a):"",i=i!=null?""+Pt(i):a,S||i===t.value||(t.value=i),t.defaultValue=i}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,t.checked=S?t.checked:!!o,t.defaultChecked=!!o,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_),Ye(t)}function Hl(t,i,a){i==="number"&&vi(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Tr(t,i,a,o){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&o&&(t[a].defaultSelected=!0)}else{for(a=""+Pt(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,o&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Lu(t,i,a){if(i!=null&&(i=""+Pt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Pt(a):""}function br(t,i,a,o){if(i==null){if(o!=null){if(a!=null)throw Error(s(92));if(It(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),i=a}a=Pt(i),t.defaultValue=a,o=t.textContent,o===a&&o!==""&&o!==null&&(t.value=o),Ye(t)}function sn(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fl(t,i,a){var o=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?o?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":o?t.setProperty(i,a):typeof a!="number"||a===0||Pu.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Gl(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var o in a)!a.hasOwnProperty(o)||i!=null&&i.hasOwnProperty(o)||(o.indexOf("--")===0?t.setProperty(o,""):o==="float"?t.cssFloat="":t[o]="");for(var h in i)o=i[h],i.hasOwnProperty(h)&&a[h]!==o&&Fl(t,h,o)}else for(var d in i)i.hasOwnProperty(d)&&Fl(t,d,i[d])}function va(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Sr.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}function Yn(){}var Yl=null;function wn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Ar=null,Ei=null;function Rs(t){var i=An(t);if(i&&(t=i.stateNode)){var a=t[Lt]||null;e:switch(t=i.stateNode,i.type){case"input":if(_a(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+rn(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var o=a[i];if(o!==t&&o.form===t.form){var h=o[Lt]||null;if(!h)throw Error(s(90));_a(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)o=a[i],o.form===t.form&&ws(o)}break e;case"textarea":Lu(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Tr(t,!!a.multiple,i,!1)}}}var Ta=!1;function wr(t,i,a){if(Ta)return t(i,a);Ta=!0;try{var o=t(i);return o}finally{if(Ta=!1,(Ar!==null||Ei!==null)&&(Ic(),Ar&&(i=Ar,t=Ei,Ei=Ar=null,Rs(i),t)))for(i=0;i<t.length;i++)Rs(t[i])}}function Qn(t,i){var a=t.stateNode;if(a===null)return null;var o=a[Lt]||null;if(o===null)return null;a=o[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(t=t.type,o=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!o;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cs=!1;if(xn)try{var Xe={};Object.defineProperty(Xe,"passive",{get:function(){Cs=!0}}),window.addEventListener("test",Xe,Xe),window.removeEventListener("test",Xe,Xe)}catch{Cs=!1}var Ti=null,Ql=null,Ns=null;function Kl(){if(Ns)return Ns;var t,i=Ql,a=i.length,o,h="value"in Ti?Ti.value:Ti.textContent,d=h.length;for(t=0;t<a&&i[t]===h[t];t++);var _=a-t;for(o=1;o<=_&&i[a-o]===h[d-o];o++);return Ns=h.slice(t,1<o?1-o:void 0)}function Is(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Ui(){return!0}function Kn(){return!1}function Bt(t){function i(a,o,h,d,_){this._reactName=a,this._targetInst=h,this.type=o,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Ui:Kn,this.isPropagationStopped=Kn,this}return b(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ui)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ui)},persist:function(){},isPersistent:Ui}),i}var zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bi=Bt(zi),xr=b({},zi,{view:0,detail:0}),Xl=Bt(xr),Rr,ba,Si,Sa=b({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Si&&(Si&&t.type==="mousemove"?(Rr=t.screenX-Si.screenX,ba=t.screenY-Si.screenY):ba=Rr=0,Si=t),Rr)},movementY:function(t){return"movementY"in t?t.movementY:ba}}),$l=Bt(Sa),Ds=b({},Sa,{dataTransfer:0}),ku=Bt(Ds),Uu=b({},xr,{relatedTarget:0}),Os=Bt(Uu),Jl=b({},zi,{animationName:0,elapsedTime:0,pseudoElement:0}),zu=Bt(Jl),Aa=b({},zi,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Bu=Bt(Aa),qu=b({},zi,{data:0}),Ai=Bt(qu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yu(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=Gu[t])?!!i[t]:!1}function Cr(){return Yu}var tn=b({},xr,{key:function(t){if(t.key){var i=Hu[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Is(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Fu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cr,charCode:function(t){return t.type==="keypress"?Is(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Is(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Qu=Bt(tn),Ku=b({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Bi=Bt(Ku),c=b({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cr}),y=Bt(c),E=b({},zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Bt(E),k=b({},Sa,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),F=Bt(k),re=b({},zi,{newState:0,oldState:0}),Ae=Bt(re),dt=[9,13,27,32],qe=xn&&"CompositionEvent"in window,at=null;xn&&"documentMode"in document&&(at=document.documentMode);var Rn=xn&&"TextEvent"in window&&!at,wi=xn&&(!qe||at&&8<at&&11>=at),Xn=" ",$n=!1;function Ms(t,i){switch(t){case"keyup":return dt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xa=!1;function Eb(t,i){switch(t){case"compositionend":return wa(i);case"keypress":return i.which!==32?null:($n=!0,Xn);case"textInput":return t=i.data,t===Xn&&$n?null:t;default:return null}}function Tb(t,i){if(xa)return t==="compositionend"||!qe&&Ms(t,i)?(t=Kl(),Ns=Ql=Ti=null,xa=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return wi&&i.locale!=="ko"?null:i.data;default:return null}}var bb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ug(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!bb[t.type]:i==="textarea"}function cg(t,i,a,o){Ar?Ei?Ei.push(o):Ei=[o]:Ar=o,i=jc(i,"onChange"),0<i.length&&(a=new bi("onChange","change",null,a,o),t.push({event:a,listeners:i}))}var Zl=null,Wl=null;function Sb(t){Y_(t,0)}function Xu(t){var i=dn(t);if(ws(i))return t}function hg(t,i){if(t==="change")return i}var fg=!1;if(xn){var vf;if(xn){var Ef="oninput"in document;if(!Ef){var dg=document.createElement("div");dg.setAttribute("oninput","return;"),Ef=typeof dg.oninput=="function"}vf=Ef}else vf=!1;fg=vf&&(!document.documentMode||9<document.documentMode)}function mg(){Zl&&(Zl.detachEvent("onpropertychange",pg),Wl=Zl=null)}function pg(t){if(t.propertyName==="value"&&Xu(Wl)){var i=[];cg(i,Wl,t,wn(t)),wr(Sb,i)}}function Ab(t,i,a){t==="focusin"?(mg(),Zl=i,Wl=a,Zl.attachEvent("onpropertychange",pg)):t==="focusout"&&mg()}function wb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xu(Wl)}function xb(t,i){if(t==="click")return Xu(i)}function Rb(t,i){if(t==="input"||t==="change")return Xu(i)}function Cb(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var pn=typeof Object.is=="function"?Object.is:Cb;function eo(t,i){if(pn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),o=Object.keys(i);if(a.length!==o.length)return!1;for(o=0;o<a.length;o++){var h=a[o];if(!_t.call(i,h)||!pn(t[h],i[h]))return!1}return!0}function gg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yg(t,i){var a=gg(t);t=0;for(var o;a;){if(a.nodeType===3){if(o=t+a.textContent.length,t<=i&&o>=i)return{node:a,offset:i-t};t=o}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=gg(a)}}function _g(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?_g(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function vg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=vi(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=vi(t.document)}return i}function Tf(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Nb=xn&&"documentMode"in document&&11>=document.documentMode,Ra=null,bf=null,to=null,Sf=!1;function Eg(t,i,a){var o=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Sf||Ra==null||Ra!==vi(o)||(o=Ra,"selectionStart"in o&&Tf(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),to&&eo(to,o)||(to=o,o=jc(bf,"onSelect"),0<o.length&&(i=new bi("onSelect","select",null,i,a),t.push({event:i,listeners:o}),i.target=Ra)))}function Vs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var Ca={animationend:Vs("Animation","AnimationEnd"),animationiteration:Vs("Animation","AnimationIteration"),animationstart:Vs("Animation","AnimationStart"),transitionrun:Vs("Transition","TransitionRun"),transitionstart:Vs("Transition","TransitionStart"),transitioncancel:Vs("Transition","TransitionCancel"),transitionend:Vs("Transition","TransitionEnd")},Af={},Tg={};xn&&(Tg=document.createElement("div").style,"AnimationEvent"in window||(delete Ca.animationend.animation,delete Ca.animationiteration.animation,delete Ca.animationstart.animation),"TransitionEvent"in window||delete Ca.transitionend.transition);function Ls(t){if(Af[t])return Af[t];if(!Ca[t])return t;var i=Ca[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Tg)return Af[t]=i[a];return t}var bg=Ls("animationend"),Sg=Ls("animationiteration"),Ag=Ls("animationstart"),Ib=Ls("transitionrun"),Db=Ls("transitionstart"),Ob=Ls("transitioncancel"),wg=Ls("transitionend"),xg=new Map,wf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wf.push("scrollEnd");function Jn(t,i){xg.set(t,i),yi(i,[t])}var $u=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)},Cn=[],Na=0,xf=0;function Ju(){for(var t=Na,i=xf=Na=0;i<t;){var a=Cn[i];Cn[i++]=null;var o=Cn[i];Cn[i++]=null;var h=Cn[i];Cn[i++]=null;var d=Cn[i];if(Cn[i++]=null,o!==null&&h!==null){var _=o.pending;_===null?h.next=h:(h.next=_.next,_.next=h),o.pending=h}d!==0&&Rg(a,h,d)}}function Zu(t,i,a,o){Cn[Na++]=t,Cn[Na++]=i,Cn[Na++]=a,Cn[Na++]=o,xf|=o,t.lanes|=o,t=t.alternate,t!==null&&(t.lanes|=o)}function Rf(t,i,a,o){return Zu(t,i,a,o),Wu(t)}function Ps(t,i){return Zu(t,null,null,i),Wu(t)}function Rg(t,i,a){t.lanes|=a;var o=t.alternate;o!==null&&(o.lanes|=a);for(var h=!1,d=t.return;d!==null;)d.childLanes|=a,o=d.alternate,o!==null&&(o.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(h=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,h&&i!==null&&(h=31-ft(a),t=d.hiddenUpdates,o=t[h],o===null?t[h]=[i]:o.push(i),i.lane=a|536870912),d):null}function Wu(t){if(50<Ao)throw Ao=0,Pd=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Ia={};function Mb(t,i,a,o){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(t,i,a,o){return new Mb(t,i,a,o)}function Cf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qi(t,i){var a=t.alternate;return a===null?(a=gn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Cg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function ec(t,i,a,o,h,d){var _=0;if(o=t,typeof t=="function")Cf(t)&&(_=1);else if(typeof t=="string")_=kS(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case C:return t=gn(31,a,i,h),t.elementType=C,t.lanes=d,t;case X:return js(a.children,h,d,i);case H:_=8,h|=24;break;case te:return t=gn(12,a,i,h|2),t.elementType=te,t.lanes=d,t;case ge:return t=gn(13,a,i,h),t.elementType=ge,t.lanes=d,t;case xe:return t=gn(19,a,i,h),t.elementType=xe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case ie:_=10;break e;case ne:_=9;break e;case Ee:_=11;break e;case w:_=14;break e;case R:_=16,o=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),o=null}return i=gn(_,a,i,h),i.elementType=t,i.type=o,i.lanes=d,i}function js(t,i,a,o){return t=gn(7,t,o,i),t.lanes=a,t}function Nf(t,i,a){return t=gn(6,t,null,i),t.lanes=a,t}function Ng(t){var i=gn(18,null,null,0);return i.stateNode=t,i}function If(t,i,a){return i=gn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ig=new WeakMap;function Nn(t,i){if(typeof t=="object"&&t!==null){var a=Ig.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Ol(i)},Ig.set(t,i),i)}return{value:t,source:i,stack:Ol(i)}}var Da=[],Oa=0,tc=null,no=0,In=[],Dn=0,Nr=null,xi=1,Ri="";function Hi(t,i){Da[Oa++]=no,Da[Oa++]=tc,tc=t,no=i}function Dg(t,i,a){In[Dn++]=xi,In[Dn++]=Ri,In[Dn++]=Nr,Nr=t;var o=xi;t=Ri;var h=32-ft(o)-1;o&=~(1<<h),a+=1;var d=32-ft(i)+h;if(30<d){var _=h-h%5;d=(o&(1<<_)-1).toString(32),o>>=_,h-=_,xi=1<<32-ft(i)+h|a<<h|o,Ri=d+t}else xi=1<<d|a<<h|o,Ri=t}function Df(t){t.return!==null&&(Hi(t,1),Dg(t,1,0))}function Of(t){for(;t===tc;)tc=Da[--Oa],Da[Oa]=null,no=Da[--Oa],Da[Oa]=null;for(;t===Nr;)Nr=In[--Dn],In[Dn]=null,Ri=In[--Dn],In[Dn]=null,xi=In[--Dn],In[Dn]=null}function Og(t,i){In[Dn++]=xi,In[Dn++]=Ri,In[Dn++]=Nr,xi=i.id,Ri=i.overflow,Nr=t}var qt=null,tt=null,Pe=!1,Ir=null,On=!1,Mf=Error(s(519));function Dr(t){var i=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw io(Nn(i,t)),Mf}function Mg(t){var i=t.stateNode,a=t.type,o=t.memoizedProps;switch(i[Et]=t,i[Lt]=o,a){case"dialog":Ie("cancel",i),Ie("close",i);break;case"iframe":case"object":case"embed":Ie("load",i);break;case"video":case"audio":for(a=0;a<xo.length;a++)Ie(xo[a],i);break;case"source":Ie("error",i);break;case"img":case"image":case"link":Ie("error",i),Ie("load",i);break;case"details":Ie("toggle",i);break;case"input":Ie("invalid",i),Vu(i,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ie("invalid",i);break;case"textarea":Ie("invalid",i),br(i,o.value,o.defaultValue,o.children)}a=o.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||o.suppressHydrationWarning===!0||$_(i.textContent,a)?(o.popover!=null&&(Ie("beforetoggle",i),Ie("toggle",i)),o.onScroll!=null&&Ie("scroll",i),o.onScrollEnd!=null&&Ie("scrollend",i),o.onClick!=null&&(i.onclick=Yn),i=!0):i=!1,i||Dr(t,!0)}function Vg(t){for(qt=t.return;qt;)switch(qt.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:qt=qt.return}}function Ma(t){if(t!==qt)return!1;if(!Pe)return Vg(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Jd(t.type,t.memoizedProps)),a=!a),a&&tt&&Dr(t),Vg(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=sv(t)}else if(i===31){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));tt=sv(t)}else i===27?(i=tt,Gr(t.type)?(t=nm,nm=null,tt=t):tt=i):tt=qt?Vn(t.stateNode.nextSibling):null;return!0}function ks(){tt=qt=null,Pe=!1}function Vf(){var t=Ir;return t!==null&&(un===null?un=t:un.push.apply(un,t),Ir=null),t}function io(t){Ir===null?Ir=[t]:Ir.push(t)}var Lf=M(null),Us=null,Fi=null;function Or(t,i,a){ae(Lf,i._currentValue),i._currentValue=a}function Gi(t){t._currentValue=Lf.current,W(Lf)}function Pf(t,i,a){for(;t!==null;){var o=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,o!==null&&(o.childLanes|=i)):o!==null&&(o.childLanes&i)!==i&&(o.childLanes|=i),t===a)break;t=t.return}}function jf(t,i,a,o){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var d=h.dependencies;if(d!==null){var _=h.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=h;for(var I=0;I<i.length;I++)if(S.context===i[I]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Pf(d.return,a,t),o||(_=null);break e}d=S.next}}else if(h.tag===18){if(_=h.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Pf(_,a,t),_=null}else _=h.child;if(_!==null)_.return=h;else for(_=h;_!==null;){if(_===t){_=null;break}if(h=_.sibling,h!==null){h.return=_.return,_=h;break}_=_.return}h=_}}function Va(t,i,a,o){t=null;for(var h=i,d=!1;h!==null;){if(!d){if((h.flags&524288)!==0)d=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var _=h.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=h.type;pn(h.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(h===je.current){if(_=h.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(Do):t=[Do])}h=h.return}t!==null&&jf(i,t,a,o),i.flags|=262144}function nc(t){for(t=t.firstContext;t!==null;){if(!pn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function zs(t){Us=t,Fi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return Lg(Us,t)}function ic(t,i){return Us===null&&zs(t),Lg(t,i)}function Lg(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Fi===null){if(t===null)throw Error(s(308));Fi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Fi=Fi.next=i;return a}var Vb=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,o){t.push(o)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Lb=r.unstable_scheduleCallback,Pb=r.unstable_NormalPriority,St={$$typeof:ie,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function kf(){return{controller:new Vb,data:new Map,refCount:0}}function ro(t){t.refCount--,t.refCount===0&&Lb(Pb,function(){t.controller.abort()})}var so=null,Uf=0,La=0,Pa=null;function jb(t,i){if(so===null){var a=so=[];Uf=0,La=qd(),Pa={status:"pending",value:void 0,then:function(o){a.push(o)}}}return Uf++,i.then(Pg,Pg),i}function Pg(){if(--Uf===0&&so!==null){Pa!==null&&(Pa.status="fulfilled");var t=so;so=null,La=0,Pa=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function kb(t,i){var a=[],o={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){o.status="fulfilled",o.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(o.status="rejected",o.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),o}var jg=K.S;K.S=function(t,i){E_=en(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&jb(t,i),jg!==null&&jg(t,i)};var Bs=M(null);function zf(){var t=Bs.current;return t!==null?t:We.pooledCache}function rc(t,i){i===null?ae(Bs,Bs.current):ae(Bs,i.pool)}function kg(){var t=zf();return t===null?null:{parent:St._currentValue,pool:t}}var ja=Error(s(460)),Bf=Error(s(474)),sc=Error(s(542)),ac={then:function(){}};function Ug(t){return t=t.status,t==="fulfilled"||t==="rejected"}function zg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Yn,Yn),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t;default:if(typeof i.status=="string")i.then(Yn,Yn);else{if(t=We,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(o){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=o}},function(o){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=o}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,qg(t),t}throw Hs=i,ja}}function qs(t){try{var i=t._init;return i(t._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Hs=a,ja):a}}var Hs=null;function Bg(){if(Hs===null)throw Error(s(459));var t=Hs;return Hs=null,t}function qg(t){if(t===ja||t===sc)throw Error(s(483))}var ka=null,ao=0;function lc(t){var i=ao;return ao+=1,ka===null&&(ka=[]),zg(ka,t,i)}function lo(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function oc(t,i){throw i.$$typeof===x?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function Hg(t){function i(P,O){if(t){var z=P.deletions;z===null?(P.deletions=[O],P.flags|=16):z.push(O)}}function a(P,O){if(!t)return null;for(;O!==null;)i(P,O),O=O.sibling;return null}function o(P){for(var O=new Map;P!==null;)P.key!==null?O.set(P.key,P):O.set(P.index,P),P=P.sibling;return O}function h(P,O){return P=qi(P,O),P.index=0,P.sibling=null,P}function d(P,O,z){return P.index=z,t?(z=P.alternate,z!==null?(z=z.index,z<O?(P.flags|=67108866,O):z):(P.flags|=67108866,O)):(P.flags|=1048576,O)}function _(P){return t&&P.alternate===null&&(P.flags|=67108866),P}function S(P,O,z,$){return O===null||O.tag!==6?(O=Nf(z,P.mode,$),O.return=P,O):(O=h(O,z),O.return=P,O)}function I(P,O,z,$){var fe=z.type;return fe===X?Q(P,O,z.props.children,$,z.key):O!==null&&(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&qs(fe)===O.type)?(O=h(O,z.props),lo(O,z),O.return=P,O):(O=ec(z.type,z.key,z.props,null,P.mode,$),lo(O,z),O.return=P,O)}function B(P,O,z,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=If(z,P.mode,$),O.return=P,O):(O=h(O,z.children||[]),O.return=P,O)}function Q(P,O,z,$,fe){return O===null||O.tag!==7?(O=js(z,P.mode,$,fe),O.return=P,O):(O=h(O,z),O.return=P,O)}function J(P,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Nf(""+O,P.mode,z),O.return=P,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case j:return z=ec(O.type,O.key,O.props,null,P.mode,z),lo(z,O),z.return=P,z;case G:return O=If(O,P.mode,z),O.return=P,O;case R:return O=qs(O),J(P,O,z)}if(It(O)||L(O))return O=js(O,P.mode,z,null),O.return=P,O;if(typeof O.then=="function")return J(P,lc(O),z);if(O.$$typeof===ie)return J(P,ic(P,O),z);oc(P,O)}return null}function q(P,O,z,$){var fe=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return fe!==null?null:S(P,O,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case j:return z.key===fe?I(P,O,z,$):null;case G:return z.key===fe?B(P,O,z,$):null;case R:return z=qs(z),q(P,O,z,$)}if(It(z)||L(z))return fe!==null?null:Q(P,O,z,$,null);if(typeof z.then=="function")return q(P,O,lc(z),$);if(z.$$typeof===ie)return q(P,O,ic(P,z),$);oc(P,z)}return null}function Y(P,O,z,$,fe){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(z)||null,S(O,P,""+$,fe);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return P=P.get($.key===null?z:$.key)||null,I(O,P,$,fe);case G:return P=P.get($.key===null?z:$.key)||null,B(O,P,$,fe);case R:return $=qs($),Y(P,O,z,$,fe)}if(It($)||L($))return P=P.get(z)||null,Q(O,P,$,fe,null);if(typeof $.then=="function")return Y(P,O,z,lc($),fe);if($.$$typeof===ie)return Y(P,O,z,ic(O,$),fe);oc(O,$)}return null}function ce(P,O,z,$){for(var fe=null,ze=null,he=O,Ce=O=0,Oe=null;he!==null&&Ce<z.length;Ce++){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var Be=q(P,he,z[Ce],$);if(Be===null){he===null&&(he=Oe);break}t&&he&&Be.alternate===null&&i(P,he),O=d(Be,O,Ce),ze===null?fe=Be:ze.sibling=Be,ze=Be,he=Oe}if(Ce===z.length)return a(P,he),Pe&&Hi(P,Ce),fe;if(he===null){for(;Ce<z.length;Ce++)he=J(P,z[Ce],$),he!==null&&(O=d(he,O,Ce),ze===null?fe=he:ze.sibling=he,ze=he);return Pe&&Hi(P,Ce),fe}for(he=o(he);Ce<z.length;Ce++)Oe=Y(he,P,Ce,z[Ce],$),Oe!==null&&(t&&Oe.alternate!==null&&he.delete(Oe.key===null?Ce:Oe.key),O=d(Oe,O,Ce),ze===null?fe=Oe:ze.sibling=Oe,ze=Oe);return t&&he.forEach(function($r){return i(P,$r)}),Pe&&Hi(P,Ce),fe}function pe(P,O,z,$){if(z==null)throw Error(s(151));for(var fe=null,ze=null,he=O,Ce=O=0,Oe=null,Be=z.next();he!==null&&!Be.done;Ce++,Be=z.next()){he.index>Ce?(Oe=he,he=null):Oe=he.sibling;var $r=q(P,he,Be.value,$);if($r===null){he===null&&(he=Oe);break}t&&he&&$r.alternate===null&&i(P,he),O=d($r,O,Ce),ze===null?fe=$r:ze.sibling=$r,ze=$r,he=Oe}if(Be.done)return a(P,he),Pe&&Hi(P,Ce),fe;if(he===null){for(;!Be.done;Ce++,Be=z.next())Be=J(P,Be.value,$),Be!==null&&(O=d(Be,O,Ce),ze===null?fe=Be:ze.sibling=Be,ze=Be);return Pe&&Hi(P,Ce),fe}for(he=o(he);!Be.done;Ce++,Be=z.next())Be=Y(he,P,Ce,Be.value,$),Be!==null&&(t&&Be.alternate!==null&&he.delete(Be.key===null?Ce:Be.key),O=d(Be,O,Ce),ze===null?fe=Be:ze.sibling=Be,ze=Be);return t&&he.forEach(function(XS){return i(P,XS)}),Pe&&Hi(P,Ce),fe}function Ze(P,O,z,$){if(typeof z=="object"&&z!==null&&z.type===X&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case j:e:{for(var fe=z.key;O!==null;){if(O.key===fe){if(fe=z.type,fe===X){if(O.tag===7){a(P,O.sibling),$=h(O,z.props.children),$.return=P,P=$;break e}}else if(O.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===R&&qs(fe)===O.type){a(P,O.sibling),$=h(O,z.props),lo($,z),$.return=P,P=$;break e}a(P,O);break}else i(P,O);O=O.sibling}z.type===X?($=js(z.props.children,P.mode,$,z.key),$.return=P,P=$):($=ec(z.type,z.key,z.props,null,P.mode,$),lo($,z),$.return=P,P=$)}return _(P);case G:e:{for(fe=z.key;O!==null;){if(O.key===fe)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(P,O.sibling),$=h(O,z.children||[]),$.return=P,P=$;break e}else{a(P,O);break}else i(P,O);O=O.sibling}$=If(z,P.mode,$),$.return=P,P=$}return _(P);case R:return z=qs(z),Ze(P,O,z,$)}if(It(z))return ce(P,O,z,$);if(L(z)){if(fe=L(z),typeof fe!="function")throw Error(s(150));return z=fe.call(z),pe(P,O,z,$)}if(typeof z.then=="function")return Ze(P,O,lc(z),$);if(z.$$typeof===ie)return Ze(P,O,ic(P,z),$);oc(P,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(P,O.sibling),$=h(O,z),$.return=P,P=$):(a(P,O),$=Nf(z,P.mode,$),$.return=P,P=$),_(P)):a(P,O)}return function(P,O,z,$){try{ao=0;var fe=Ze(P,O,z,$);return ka=null,fe}catch(he){if(he===ja||he===sc)throw he;var ze=gn(29,he,null,P.mode);return ze.lanes=$,ze.return=P,ze}finally{}}}var Fs=Hg(!0),Fg=Hg(!1),Mr=!1;function qf(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hf(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Vr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Lr(t,i,a){var o=t.updateQueue;if(o===null)return null;if(o=o.shared,(He&2)!==0){var h=o.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),o.pending=i,i=Wu(t),Rg(t,null,a),i}return Zu(t,o,i,a),Wu(t)}function oo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}function Ff(t,i){var a=t.updateQueue,o=t.alternate;if(o!==null&&(o=o.updateQueue,a===o)){var h=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?h=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?h=d=i:d=d.next=i}else h=d=i;a={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:d,shared:o.shared,callbacks:o.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Gf=!1;function uo(){if(Gf){var t=Pa;if(t!==null)throw t}}function co(t,i,a,o){Gf=!1;var h=t.updateQueue;Mr=!1;var d=h.firstBaseUpdate,_=h.lastBaseUpdate,S=h.shared.pending;if(S!==null){h.shared.pending=null;var I=S,B=I.next;I.next=null,_===null?d=B:_.next=B,_=I;var Q=t.alternate;Q!==null&&(Q=Q.updateQueue,S=Q.lastBaseUpdate,S!==_&&(S===null?Q.firstBaseUpdate=B:S.next=B,Q.lastBaseUpdate=I))}if(d!==null){var J=h.baseState;_=0,Q=B=I=null,S=d;do{var q=S.lane&-536870913,Y=q!==S.lane;if(Y?(De&q)===q:(o&q)===q){q!==0&&q===La&&(Gf=!0),Q!==null&&(Q=Q.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var ce=t,pe=S;q=i;var Ze=a;switch(pe.tag){case 1:if(ce=pe.payload,typeof ce=="function"){J=ce.call(Ze,J,q);break e}J=ce;break e;case 3:ce.flags=ce.flags&-65537|128;case 0:if(ce=pe.payload,q=typeof ce=="function"?ce.call(Ze,J,q):ce,q==null)break e;J=b({},J,q);break e;case 2:Mr=!0}}q=S.callback,q!==null&&(t.flags|=64,Y&&(t.flags|=8192),Y=h.callbacks,Y===null?h.callbacks=[q]:Y.push(q))}else Y={lane:q,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Q===null?(B=Q=Y,I=J):Q=Q.next=Y,_|=q;if(S=S.next,S===null){if(S=h.shared.pending,S===null)break;Y=S,S=Y.next,Y.next=null,h.lastBaseUpdate=Y,h.shared.pending=null}}while(!0);Q===null&&(I=J),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=Q,d===null&&(h.shared.lanes=0),zr|=_,t.lanes=_,t.memoizedState=J}}function Gg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function Yg(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Gg(a[t],i)}var Ua=M(null),uc=M(0);function Qg(t,i){t=er,ae(uc,t),ae(Ua,i),er=t|i.baseLanes}function Yf(){ae(uc,er),ae(Ua,Ua.current)}function Qf(){er=uc.current,W(Ua),W(uc)}var yn=M(null),Mn=null;function Pr(t){var i=t.alternate;ae(mt,mt.current&1),ae(yn,t),Mn===null&&(i===null||Ua.current!==null||i.memoizedState!==null)&&(Mn=t)}function Kf(t){ae(mt,mt.current),ae(yn,t),Mn===null&&(Mn=t)}function Kg(t){t.tag===22?(ae(mt,mt.current),ae(yn,t),Mn===null&&(Mn=t)):jr()}function jr(){ae(mt,mt.current),ae(yn,yn.current)}function _n(t){W(yn),Mn===t&&(Mn=null),W(mt)}var mt=M(0);function cc(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||em(a)||tm(a)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Yi=0,we=null,$e=null,At=null,hc=!1,za=!1,Gs=!1,fc=0,ho=0,Ba=null,Ub=0;function ct(){throw Error(s(321))}function Xf(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!pn(t[a],i[a]))return!1;return!0}function $f(t,i,a,o,h,d){return Yi=d,we=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?Dy:hd,Gs=!1,d=a(o,h),Gs=!1,za&&(d=$g(i,a,o,h)),Xg(t),d}function Xg(t){K.H=po;var i=$e!==null&&$e.next!==null;if(Yi=0,At=$e=we=null,hc=!1,ho=0,Ba=null,i)throw Error(s(300));t===null||wt||(t=t.dependencies,t!==null&&nc(t)&&(wt=!0))}function $g(t,i,a,o){we=t;var h=0;do{if(za&&(Ba=null),ho=0,za=!1,25<=h)throw Error(s(301));if(h+=1,At=$e=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}K.H=Oy,d=i(a,o)}while(za);return d}function zb(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?fo(i):i,t=t.useState()[0],($e!==null?$e.memoizedState:null)!==t&&(we.flags|=1024),i}function Jf(){var t=fc!==0;return fc=0,t}function Zf(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Wf(t){if(hc){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}hc=!1}Yi=0,At=$e=we=null,za=!1,ho=fc=0,Ba=null}function nn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?we.memoizedState=At=t:At=At.next=t,At}function pt(){if($e===null){var t=we.alternate;t=t!==null?t.memoizedState:null}else t=$e.next;var i=At===null?we.memoizedState:At.next;if(i!==null)At=i,$e=t;else{if(t===null)throw we.alternate===null?Error(s(467)):Error(s(310));$e=t,t={memoizedState:$e.memoizedState,baseState:$e.baseState,baseQueue:$e.baseQueue,queue:$e.queue,next:null},At===null?we.memoizedState=At=t:At=At.next=t}return At}function dc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function fo(t){var i=ho;return ho+=1,Ba===null&&(Ba=[]),t=zg(Ba,t,i),i=we,(At===null?i.memoizedState:At.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?Dy:hd),t}function mc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return fo(t);if(t.$$typeof===ie)return Ht(t)}throw Error(s(438,String(t)))}function ed(t){var i=null,a=we.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var o=we.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(i={data:o.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=dc(),we.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),o=0;o<t;o++)a[o]=V;return i.index++,a}function Qi(t,i){return typeof i=="function"?i(t):i}function pc(t){var i=pt();return td(i,$e,t)}function td(t,i,a){var o=t.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=a;var h=t.baseQueue,d=o.pending;if(d!==null){if(h!==null){var _=h.next;h.next=d.next,d.next=_}i.baseQueue=h=d,o.pending=null}if(d=t.baseState,h===null)t.memoizedState=d;else{i=h.next;var S=_=null,I=null,B=i,Q=!1;do{var J=B.lane&-536870913;if(J!==B.lane?(De&J)===J:(Yi&J)===J){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),J===La&&(Q=!0);else if((Yi&q)===q){B=B.next,q===La&&(Q=!0);continue}else J={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(S=I=J,_=d):I=I.next=J,we.lanes|=q,zr|=q;J=B.action,Gs&&a(d,J),d=B.hasEagerState?B.eagerState:a(d,J)}else q={lane:J,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(S=I=q,_=d):I=I.next=q,we.lanes|=J,zr|=J;B=B.next}while(B!==null&&B!==i);if(I===null?_=d:I.next=S,!pn(d,t.memoizedState)&&(wt=!0,Q&&(a=Pa,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=I,o.lastRenderedState=d}return h===null&&(o.lanes=0),[t.memoizedState,o.dispatch]}function nd(t){var i=pt(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var o=a.dispatch,h=a.pending,d=i.memoizedState;if(h!==null){a.pending=null;var _=h=h.next;do d=t(d,_.action),_=_.next;while(_!==h);pn(d,i.memoizedState)||(wt=!0),i.memoizedState=d,i.baseQueue===null&&(i.baseState=d),a.lastRenderedState=d}return[d,o]}function Jg(t,i,a){var o=we,h=pt(),d=Pe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=i();var _=!pn(($e||h).memoizedState,a);if(_&&(h.memoizedState=a,wt=!0),h=h.queue,sd(ey.bind(null,o,h,t),[t]),h.getSnapshot!==i||_||At!==null&&At.memoizedState.tag&1){if(o.flags|=2048,qa(9,{destroy:void 0},Wg.bind(null,o,h,a,i),null),We===null)throw Error(s(349));d||(Yi&127)!==0||Zg(o,i,a)}return a}function Zg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=we.updateQueue,i===null?(i=dc(),we.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Wg(t,i,a,o){i.value=a,i.getSnapshot=o,ty(i)&&ny(t)}function ey(t,i,a){return a(function(){ty(i)&&ny(t)})}function ty(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!pn(t,a)}catch{return!0}}function ny(t){var i=Ps(t,2);i!==null&&cn(i,t,2)}function id(t){var i=nn();if(typeof t=="function"){var a=t;if(t=a(),Gs){Sn(!0);try{a()}finally{Sn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:t},i}function iy(t,i,a,o){return t.baseState=a,td(t,$e,typeof o=="function"?o:Qi)}function Bb(t,i,a,o,h){if(_c(t))throw Error(s(485));if(t=i.action,t!==null){var d={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};K.T!==null?a(!0):d.isTransition=!1,o(d),a=i.pending,a===null?(d.next=i.pending=d,ry(i,d)):(d.next=a.next,i.pending=a.next=d)}}function ry(t,i){var a=i.action,o=i.payload,h=t.state;if(i.isTransition){var d=K.T,_={};K.T=_;try{var S=a(h,o),I=K.S;I!==null&&I(_,S),sy(t,i,S)}catch(B){rd(t,i,B)}finally{d!==null&&_.types!==null&&(d.types=_.types),K.T=d}}else try{d=a(h,o),sy(t,i,d)}catch(B){rd(t,i,B)}}function sy(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(o){ay(t,i,o)},function(o){return rd(t,i,o)}):ay(t,i,a)}function ay(t,i,a){i.status="fulfilled",i.value=a,ly(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,ry(t,a)))}function rd(t,i,a){var o=t.pending;if(t.pending=null,o!==null){o=o.next;do i.status="rejected",i.reason=a,ly(i),i=i.next;while(i!==o)}t.action=null}function ly(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function oy(t,i){return i}function uy(t,i){if(Pe){var a=We.formState;if(a!==null){e:{var o=we;if(Pe){if(tt){t:{for(var h=tt,d=On;h.nodeType!==8;){if(!d){h=null;break t}if(h=Vn(h.nextSibling),h===null){h=null;break t}}d=h.data,h=d==="F!"||d==="F"?h:null}if(h){tt=Vn(h.nextSibling),o=h.data==="F!";break e}}Dr(o)}o=!1}o&&(i=a[0])}}return a=nn(),a.memoizedState=a.baseState=i,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:oy,lastRenderedState:i},a.queue=o,a=Cy.bind(null,we,o),o.dispatch=a,o=id(!1),d=cd.bind(null,we,!1,o.queue),o=nn(),h={state:i,dispatch:null,action:t,pending:null},o.queue=h,a=Bb.bind(null,we,h,d,a),h.dispatch=a,o.memoizedState=t,[i,a,!1]}function cy(t){var i=pt();return hy(i,$e,t)}function hy(t,i,a){if(i=td(t,i,oy)[0],t=pc(Qi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var o=fo(i)}catch(_){throw _===ja?sc:_}else o=i;i=pt();var h=i.queue,d=h.dispatch;return a!==i.memoizedState&&(we.flags|=2048,qa(9,{destroy:void 0},qb.bind(null,h,a),null)),[o,d,t]}function qb(t,i){t.action=i}function fy(t){var i=pt(),a=$e;if(a!==null)return hy(i,a,t);pt(),i=i.memoizedState,a=pt();var o=a.queue.dispatch;return a.memoizedState=t,[i,o,!1]}function qa(t,i,a,o){return t={tag:t,create:a,deps:o,inst:i,next:null},i=we.updateQueue,i===null&&(i=dc(),we.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(o=a.next,a.next=t,t.next=o,i.lastEffect=t),t}function dy(){return pt().memoizedState}function gc(t,i,a,o){var h=nn();we.flags|=t,h.memoizedState=qa(1|i,{destroy:void 0},a,o===void 0?null:o)}function yc(t,i,a,o){var h=pt();o=o===void 0?null:o;var d=h.memoizedState.inst;$e!==null&&o!==null&&Xf(o,$e.memoizedState.deps)?h.memoizedState=qa(i,d,a,o):(we.flags|=t,h.memoizedState=qa(1|i,d,a,o))}function my(t,i){gc(8390656,8,t,i)}function sd(t,i){yc(2048,8,t,i)}function Hb(t){we.flags|=4;var i=we.updateQueue;if(i===null)i=dc(),we.updateQueue=i,i.events=[t];else{var a=i.events;a===null?i.events=[t]:a.push(t)}}function py(t){var i=pt().memoizedState;return Hb({ref:i,nextImpl:t}),function(){if((He&2)!==0)throw Error(s(440));return i.impl.apply(void 0,arguments)}}function gy(t,i){return yc(4,2,t,i)}function yy(t,i){return yc(4,4,t,i)}function _y(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function vy(t,i,a){a=a!=null?a.concat([t]):null,yc(4,4,_y.bind(null,i,t),a)}function ad(){}function Ey(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;return i!==null&&Xf(i,o[1])?o[0]:(a.memoizedState=[t,i],t)}function Ty(t,i){var a=pt();i=i===void 0?null:i;var o=a.memoizedState;if(i!==null&&Xf(i,o[1]))return o[0];if(o=t(),Gs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,i],o}function ld(t,i,a){return a===void 0||(Yi&1073741824)!==0&&(De&261930)===0?t.memoizedState=i:(t.memoizedState=a,t=b_(),we.lanes|=t,zr|=t,a)}function by(t,i,a,o){return pn(a,i)?a:Ua.current!==null?(t=ld(t,a,o),pn(t,i)||(wt=!0),t):(Yi&42)===0||(Yi&1073741824)!==0&&(De&261930)===0?(wt=!0,t.memoizedState=a):(t=b_(),we.lanes|=t,zr|=t,i)}function Sy(t,i,a,o,h){var d=se.p;se.p=d!==0&&8>d?d:8;var _=K.T,S={};K.T=S,cd(t,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(S,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var Q=kb(I,o);mo(t,i,Q,Tn(t))}else mo(t,i,o,Tn(t))}catch(J){mo(t,i,{then:function(){},status:"rejected",reason:J},Tn())}finally{se.p=d,_!==null&&S.types!==null&&(_.types=S.types),K.T=_}}function Fb(){}function od(t,i,a,o){if(t.tag!==5)throw Error(s(476));var h=Ay(t).queue;Sy(t,h,i,me,a===null?Fb:function(){return wy(t),a(o)})}function Ay(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:me,baseState:me,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:me},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function wy(t){var i=Ay(t);i.next===null&&(i=t.alternate.memoizedState),mo(t,i.next.queue,{},Tn())}function ud(){return Ht(Do)}function xy(){return pt().memoizedState}function Ry(){return pt().memoizedState}function Gb(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=Vr(a);var o=Lr(i,t,a);o!==null&&(cn(o,i,a),oo(o,i,a)),i={cache:kf()},t.payload=i;return}i=i.return}}function Yb(t,i,a){var o=Tn();a={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_c(t)?Ny(i,a):(a=Rf(t,i,a,o),a!==null&&(cn(a,t,o),Iy(a,i,o)))}function Cy(t,i,a){var o=Tn();mo(t,i,a,o)}function mo(t,i,a,o){var h={lane:o,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_c(t))Ny(i,h);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=i.lastRenderedReducer,d!==null))try{var _=i.lastRenderedState,S=d(_,a);if(h.hasEagerState=!0,h.eagerState=S,pn(S,_))return Zu(t,i,h,0),We===null&&Ju(),!1}catch{}finally{}if(a=Rf(t,i,h,o),a!==null)return cn(a,t,o),Iy(a,i,o),!0}return!1}function cd(t,i,a,o){if(o={lane:2,revertLane:qd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},_c(t)){if(i)throw Error(s(479))}else i=Rf(t,a,o,2),i!==null&&cn(i,t,2)}function _c(t){var i=t.alternate;return t===we||i!==null&&i===we}function Ny(t,i){za=hc=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Iy(t,i,a){if((a&4194048)!==0){var o=i.lanes;o&=t.pendingLanes,a|=o,i.lanes=a,Ll(t,a)}}var po={readContext:Ht,use:mc,useCallback:ct,useContext:ct,useEffect:ct,useImperativeHandle:ct,useLayoutEffect:ct,useInsertionEffect:ct,useMemo:ct,useReducer:ct,useRef:ct,useState:ct,useDebugValue:ct,useDeferredValue:ct,useTransition:ct,useSyncExternalStore:ct,useId:ct,useHostTransitionStatus:ct,useFormState:ct,useActionState:ct,useOptimistic:ct,useMemoCache:ct,useCacheRefresh:ct};po.useEffectEvent=ct;var Dy={readContext:Ht,use:mc,useCallback:function(t,i){return nn().memoizedState=[t,i===void 0?null:i],t},useContext:Ht,useEffect:my,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,gc(4194308,4,_y.bind(null,i,t),a)},useLayoutEffect:function(t,i){return gc(4194308,4,t,i)},useInsertionEffect:function(t,i){gc(4,2,t,i)},useMemo:function(t,i){var a=nn();i=i===void 0?null:i;var o=t();if(Gs){Sn(!0);try{t()}finally{Sn(!1)}}return a.memoizedState=[o,i],o},useReducer:function(t,i,a){var o=nn();if(a!==void 0){var h=a(i);if(Gs){Sn(!0);try{a(i)}finally{Sn(!1)}}}else h=i;return o.memoizedState=o.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},o.queue=t,t=t.dispatch=Yb.bind(null,we,t),[o.memoizedState,t]},useRef:function(t){var i=nn();return t={current:t},i.memoizedState=t},useState:function(t){t=id(t);var i=t.queue,a=Cy.bind(null,we,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ad,useDeferredValue:function(t,i){var a=nn();return ld(a,t,i)},useTransition:function(){var t=id(!1);return t=Sy.bind(null,we,t.queue,!0,!1),nn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var o=we,h=nn();if(Pe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),We===null)throw Error(s(349));(De&127)!==0||Zg(o,i,a)}h.memoizedState=a;var d={value:a,getSnapshot:i};return h.queue=d,my(ey.bind(null,o,d,t),[t]),o.flags|=2048,qa(9,{destroy:void 0},Wg.bind(null,o,d,a,i),null),a},useId:function(){var t=nn(),i=We.identifierPrefix;if(Pe){var a=Ri,o=xi;a=(o&~(1<<32-ft(o)-1)).toString(32)+a,i="_"+i+"R_"+a,a=fc++,0<a&&(i+="H"+a.toString(32)),i+="_"}else a=Ub++,i="_"+i+"r_"+a.toString(32)+"_";return t.memoizedState=i},useHostTransitionStatus:ud,useFormState:uy,useActionState:uy,useOptimistic:function(t){var i=nn();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=cd.bind(null,we,!0,a),a.dispatch=i,[t,i]},useMemoCache:ed,useCacheRefresh:function(){return nn().memoizedState=Gb.bind(null,we)},useEffectEvent:function(t){var i=nn(),a={impl:t};return i.memoizedState=a,function(){if((He&2)!==0)throw Error(s(440));return a.impl.apply(void 0,arguments)}}},hd={readContext:Ht,use:mc,useCallback:Ey,useContext:Ht,useEffect:sd,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:pc,useRef:dy,useState:function(){return pc(Qi)},useDebugValue:ad,useDeferredValue:function(t,i){var a=pt();return by(a,$e.memoizedState,t,i)},useTransition:function(){var t=pc(Qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:Jg,useId:xy,useHostTransitionStatus:ud,useFormState:cy,useActionState:cy,useOptimistic:function(t,i){var a=pt();return iy(a,$e,t,i)},useMemoCache:ed,useCacheRefresh:Ry};hd.useEffectEvent=py;var Oy={readContext:Ht,use:mc,useCallback:Ey,useContext:Ht,useEffect:sd,useImperativeHandle:vy,useInsertionEffect:gy,useLayoutEffect:yy,useMemo:Ty,useReducer:nd,useRef:dy,useState:function(){return nd(Qi)},useDebugValue:ad,useDeferredValue:function(t,i){var a=pt();return $e===null?ld(a,t,i):by(a,$e.memoizedState,t,i)},useTransition:function(){var t=nd(Qi)[0],i=pt().memoizedState;return[typeof t=="boolean"?t:fo(t),i]},useSyncExternalStore:Jg,useId:xy,useHostTransitionStatus:ud,useFormState:fy,useActionState:fy,useOptimistic:function(t,i){var a=pt();return $e!==null?iy(a,$e,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ed,useCacheRefresh:Ry};Oy.useEffectEvent=py;function fd(t,i,a,o){i=t.memoizedState,a=a(o,i),a=a==null?i:b({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var dd={enqueueSetState:function(t,i,a){t=t._reactInternals;var o=Tn(),h=Vr(o);h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,o),i!==null&&(cn(i,t,o),oo(i,t,o))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var o=Tn(),h=Vr(o);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=Lr(t,h,o),i!==null&&(cn(i,t,o),oo(i,t,o))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),o=Vr(a);o.tag=2,i!=null&&(o.callback=i),i=Lr(t,o,a),i!==null&&(cn(i,t,a),oo(i,t,a))}};function My(t,i,a,o,h,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(o,d,_):i.prototype&&i.prototype.isPureReactComponent?!eo(a,o)||!eo(h,d):!0}function Vy(t,i,a,o){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,o),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,o),i.state!==t&&dd.enqueueReplaceState(i,i.state,null)}function Ys(t,i){var a=i;if("ref"in i){a={};for(var o in i)o!=="ref"&&(a[o]=i[o])}if(t=t.defaultProps){a===i&&(a=b({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}function Ly(t){$u(t)}function Py(t){console.error(t)}function jy(t){$u(t)}function vc(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(o){setTimeout(function(){throw o})}}function ky(t,i,a){try{var o=t.onCaughtError;o(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function md(t,i,a){return a=Vr(a),a.tag=3,a.payload={element:null},a.callback=function(){vc(t,i)},a}function Uy(t){return t=Vr(t),t.tag=3,t}function zy(t,i,a,o){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var d=o.value;t.payload=function(){return h(d)},t.callback=function(){ky(i,a,o)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){ky(i,a,o),typeof h!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})})}function Qb(t,i,a,o,h){if(a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(i=a.alternate,i!==null&&Va(i,a,h,!0),a=yn.current,a!==null){switch(a.tag){case 31:case 13:return Mn===null?Dc():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=h,o===ac?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([o]):i.add(o),Ud(t,o,h)),!1;case 22:return a.flags|=65536,o===ac?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([o])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([o]):a.add(o)),Ud(t,o,h)),!1}throw Error(s(435,a.tag))}return Ud(t,o,h),Dc(),!1}if(Pe)return i=yn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,o!==Mf&&(t=Error(s(422),{cause:o}),io(Nn(t,a)))):(o!==Mf&&(i=Error(s(423),{cause:o}),io(Nn(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,o=Nn(o,a),h=md(t.stateNode,o,h),Ff(t,h),ht!==4&&(ht=2)),!1;var d=Error(s(520),{cause:o});if(d=Nn(d,a),So===null?So=[d]:So.push(d),ht!==4&&(ht=2),i===null)return!0;o=Nn(o,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=md(a.stateNode,o,t),Ff(a,t),!1;case 1:if(i=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Br===null||!Br.has(d))))return a.flags|=65536,h&=-h,a.lanes|=h,h=Uy(h),zy(h,t,a,o),Ff(a,h),!1}a=a.return}while(a!==null);return!1}var pd=Error(s(461)),wt=!1;function Ft(t,i,a,o){i.child=t===null?Fg(i,null,a,o):Fs(i,t.child,a,o)}function By(t,i,a,o,h){a=a.render;var d=i.ref;if("ref"in o){var _={};for(var S in o)S!=="ref"&&(_[S]=o[S])}else _=o;return zs(i),o=$f(t,i,a,_,d,h),S=Jf(),t!==null&&!wt?(Zf(t,i,h),Ki(t,i,h)):(Pe&&S&&Df(i),i.flags|=1,Ft(t,i,o,h),i.child)}function qy(t,i,a,o,h){if(t===null){var d=a.type;return typeof d=="function"&&!Cf(d)&&d.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=d,Hy(t,i,d,o,h)):(t=ec(a.type,null,o,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(d=t.child,!Sd(t,h)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:eo,a(_,o)&&t.ref===i.ref)return Ki(t,i,h)}return i.flags|=1,t=qi(d,o),t.ref=i.ref,t.return=i,i.child=t}function Hy(t,i,a,o,h){if(t!==null){var d=t.memoizedProps;if(eo(d,o)&&t.ref===i.ref)if(wt=!1,i.pendingProps=o=d,Sd(t,h))(t.flags&131072)!==0&&(wt=!0);else return i.lanes=t.lanes,Ki(t,i,h)}return gd(t,i,a,o,h)}function Fy(t,i,a,o){var h=o.children,d=t!==null?t.memoizedState:null;if(t===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((i.flags&128)!==0){if(d=d!==null?d.baseLanes|a:a,t!==null){for(o=i.child=t.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~d}else o=0,i.child=null;return Gy(t,i,d,a,o)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&rc(i,d!==null?d.cachePool:null),d!==null?Qg(i,d):Yf(),Kg(i);else return o=i.lanes=536870912,Gy(t,i,d!==null?d.baseLanes|a:a,a,o)}else d!==null?(rc(i,d.cachePool),Qg(i,d),jr(),i.memoizedState=null):(t!==null&&rc(i,null),Yf(),jr());return Ft(t,i,h,a),i.child}function go(t,i){return t!==null&&t.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function Gy(t,i,a,o,h){var d=zf();return d=d===null?null:{parent:St._currentValue,pool:d},i.memoizedState={baseLanes:a,cachePool:d},t!==null&&rc(i,null),Yf(),Kg(i),t!==null&&Va(t,i,o,!0),i.childLanes=h,null}function Ec(t,i){return i=bc({mode:i.mode,children:i.children},t.mode),i.ref=t.ref,t.child=i,i.return=t,i}function Yy(t,i,a){return Fs(i,t.child,null,a),t=Ec(i,i.pendingProps),t.flags|=2,_n(i),i.memoizedState=null,t}function Kb(t,i,a){var o=i.pendingProps,h=(i.flags&128)!==0;if(i.flags&=-129,t===null){if(Pe){if(o.mode==="hidden")return t=Ec(i,o),i.lanes=536870912,go(null,t);if(Kf(i),(t=tt)?(t=rv(t,On),t=t!==null&&t.data==="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Dr(i);return i.lanes=536870912,null}return Ec(i,o)}var d=t.memoizedState;if(d!==null){var _=d.dehydrated;if(Kf(i),h)if(i.flags&256)i.flags&=-257,i=Yy(t,i,a);else if(i.memoizedState!==null)i.child=t.child,i.flags|=128,i=null;else throw Error(s(558));else if(wt||Va(t,i,a,!1),h=(a&t.childLanes)!==0,wt||h){if(o=We,o!==null&&(_=Pl(o,a),_!==0&&_!==d.retryLane))throw d.retryLane=_,Ps(t,_),cn(o,t,_),pd;Dc(),i=Yy(t,i,a)}else t=d.treeContext,tt=Vn(_.nextSibling),qt=i,Pe=!0,Ir=null,On=!1,t!==null&&Og(i,t),i=Ec(i,o),i.flags|=4096;return i}return t=qi(t.child,{mode:o.mode,children:o.children}),t.ref=i.ref,i.child=t,t.return=i,t}function Tc(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function gd(t,i,a,o,h){return zs(i),a=$f(t,i,a,o,void 0,h),o=Jf(),t!==null&&!wt?(Zf(t,i,h),Ki(t,i,h)):(Pe&&o&&Df(i),i.flags|=1,Ft(t,i,a,h),i.child)}function Qy(t,i,a,o,h,d){return zs(i),i.updateQueue=null,a=$g(i,o,a,h),Xg(t),o=Jf(),t!==null&&!wt?(Zf(t,i,d),Ki(t,i,d)):(Pe&&o&&Df(i),i.flags|=1,Ft(t,i,a,d),i.child)}function Ky(t,i,a,o,h){if(zs(i),i.stateNode===null){var d=Ia,_=a.contextType;typeof _=="object"&&_!==null&&(d=Ht(_)),d=new a(o,d),i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=dd,i.stateNode=d,d._reactInternals=i,d=i.stateNode,d.props=o,d.state=i.memoizedState,d.refs={},qf(i),_=a.contextType,d.context=typeof _=="object"&&_!==null?Ht(_):Ia,d.state=i.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(fd(i,a,_,o),d.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&dd.enqueueReplaceState(d,d.state,null),co(i,o,d,h),uo(),d.state=i.memoizedState),typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!0}else if(t===null){d=i.stateNode;var S=i.memoizedProps,I=Ys(a,S);d.props=I;var B=d.context,Q=a.contextType;_=Ia,typeof Q=="object"&&Q!==null&&(_=Ht(Q));var J=a.getDerivedStateFromProps;Q=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=i.pendingProps!==S,Q||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||B!==_)&&Vy(i,d,o,_),Mr=!1;var q=i.memoizedState;d.state=q,co(i,o,d,h),uo(),B=i.memoizedState,S||q!==B||Mr?(typeof J=="function"&&(fd(i,a,J,o),B=i.memoizedState),(I=Mr||My(i,a,I,o,q,B,_))?(Q||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(i.flags|=4194308)):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=o,i.memoizedState=B),d.props=o,d.state=B,d.context=_,o=I):(typeof d.componentDidMount=="function"&&(i.flags|=4194308),o=!1)}else{d=i.stateNode,Hf(t,i),_=i.memoizedProps,Q=Ys(a,_),d.props=Q,J=i.pendingProps,q=d.context,B=a.contextType,I=Ia,typeof B=="object"&&B!==null&&(I=Ht(B)),S=a.getDerivedStateFromProps,(B=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==I)&&Vy(i,d,o,I),Mr=!1,q=i.memoizedState,d.state=q,co(i,o,d,h),uo();var Y=i.memoizedState;_!==J||q!==Y||Mr||t!==null&&t.dependencies!==null&&nc(t.dependencies)?(typeof S=="function"&&(fd(i,a,S,o),Y=i.memoizedState),(Q=Mr||My(i,a,Q,o,q,Y,I)||t!==null&&t.dependencies!==null&&nc(t.dependencies))?(B||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(o,Y,I),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(o,Y,I)),typeof d.componentDidUpdate=="function"&&(i.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=o,i.memoizedState=Y),d.props=o,d.state=Y,d.context=I,o=Q):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),o=!1)}return d=o,Tc(t,i),o=(i.flags&128)!==0,d||o?(d=i.stateNode,a=o&&typeof a.getDerivedStateFromError!="function"?null:d.render(),i.flags|=1,t!==null&&o?(i.child=Fs(i,t.child,null,h),i.child=Fs(i,null,a,h)):Ft(t,i,a,h),i.memoizedState=d.state,t=i.child):t=Ki(t,i,h),t}function Xy(t,i,a,o){return ks(),i.flags|=256,Ft(t,i,a,o),i.child}var yd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _d(t){return{baseLanes:t,cachePool:kg()}}function vd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=En),t}function $y(t,i,a){var o=i.pendingProps,h=!1,d=(i.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(mt.current&2)!==0),_&&(h=!0,i.flags&=-129),_=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(h?Pr(i):jr(),(t=tt)?(t=rv(t,On),t=t!==null&&t.data!=="&"?t:null,t!==null&&(i.memoizedState={dehydrated:t,treeContext:Nr!==null?{id:xi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},a=Ng(t),a.return=i,i.child=a,qt=i,tt=null)):t=null,t===null)throw Dr(i);return tm(t)?i.lanes=32:i.lanes=536870912,null}var S=o.children;return o=o.fallback,h?(jr(),h=i.mode,S=bc({mode:"hidden",children:S},h),o=js(o,h,a,null),S.return=i,o.return=i,S.sibling=o,i.child=S,o=i.child,o.memoizedState=_d(a),o.childLanes=vd(t,_,a),i.memoizedState=yd,go(null,o)):(Pr(i),Ed(i,S))}var I=t.memoizedState;if(I!==null&&(S=I.dehydrated,S!==null)){if(d)i.flags&256?(Pr(i),i.flags&=-257,i=Td(t,i,a)):i.memoizedState!==null?(jr(),i.child=t.child,i.flags|=128,i=null):(jr(),S=o.fallback,h=i.mode,o=bc({mode:"visible",children:o.children},h),S=js(S,h,a,null),S.flags|=2,o.return=i,S.return=i,o.sibling=S,i.child=o,Fs(i,t.child,null,a),o=i.child,o.memoizedState=_d(a),o.childLanes=vd(t,_,a),i.memoizedState=yd,i=go(null,o));else if(Pr(i),tm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var B=_.dgst;_=B,o=Error(s(419)),o.stack="",o.digest=_,io({value:o,source:null,stack:null}),i=Td(t,i,a)}else if(wt||Va(t,i,a,!1),_=(a&t.childLanes)!==0,wt||_){if(_=We,_!==null&&(o=Pl(_,a),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ps(t,o),cn(_,t,o),pd;em(S)||Dc(),i=Td(t,i,a)}else em(S)?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,tt=Vn(S.nextSibling),qt=i,Pe=!0,Ir=null,On=!1,t!==null&&Og(i,t),i=Ed(i,o.children),i.flags|=4096);return i}return h?(jr(),S=o.fallback,h=i.mode,I=t.child,B=I.sibling,o=qi(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,B!==null?S=qi(B,S):(S=js(S,h,a,null),S.flags|=2),S.return=i,o.return=i,o.sibling=S,i.child=o,go(null,o),o=i.child,S=t.child.memoizedState,S===null?S=_d(a):(h=S.cachePool,h!==null?(I=St._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=kg(),S={baseLanes:S.baseLanes|a,cachePool:h}),o.memoizedState=S,o.childLanes=vd(t,_,a),i.memoizedState=yd,go(t.child,o)):(Pr(i),a=t.child,t=a.sibling,a=qi(a,{mode:"visible",children:o.children}),a.return=i,a.sibling=null,t!==null&&(_=i.deletions,_===null?(i.deletions=[t],i.flags|=16):_.push(t)),i.child=a,i.memoizedState=null,a)}function Ed(t,i){return i=bc({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function bc(t,i){return t=gn(22,t,null,i),t.lanes=0,t}function Td(t,i,a){return Fs(i,t.child,null,a),t=Ed(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Jy(t,i,a){t.lanes|=i;var o=t.alternate;o!==null&&(o.lanes|=i),Pf(t.return,i,a)}function bd(t,i,a,o,h,d){var _=t.memoizedState;_===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:o,tail:a,tailMode:h,treeForkCount:d}:(_.isBackwards=i,_.rendering=null,_.renderingStartTime=0,_.last=o,_.tail=a,_.tailMode=h,_.treeForkCount=d)}function Zy(t,i,a){var o=i.pendingProps,h=o.revealOrder,d=o.tail;o=o.children;var _=mt.current,S=(_&2)!==0;if(S?(_=_&1|2,i.flags|=128):_&=1,ae(mt,_),Ft(t,i,o,a),o=Pe?no:0,!S&&t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jy(t,a,i);else if(t.tag===19)Jy(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}switch(h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&cc(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),bd(i,!1,h,a,d,o);break;case"backwards":case"unstable_legacy-backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&cc(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}bd(i,!0,a,null,d,o);break;case"together":bd(i,!1,null,null,void 0,o);break;default:i.memoizedState=null}return i.child}function Ki(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),zr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Va(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=qi(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=qi(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Sd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&nc(t)))}function Xb(t,i,a){switch(i.tag){case 3:Dt(i,i.stateNode.containerInfo),Or(i,St,t.memoizedState.cache),ks();break;case 27:case 5:_s(i);break;case 4:Dt(i,i.stateNode.containerInfo);break;case 10:Or(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,Kf(i),null;break;case 13:var o=i.memoizedState;if(o!==null)return o.dehydrated!==null?(Pr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?$y(t,i,a):(Pr(i),t=Ki(t,i,a),t!==null?t.sibling:null);Pr(i);break;case 19:var h=(t.flags&128)!==0;if(o=(a&i.childLanes)!==0,o||(Va(t,i,a,!1),o=(a&i.childLanes)!==0),h){if(o)return Zy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),ae(mt,mt.current),o)break;return null;case 22:return i.lanes=0,Fy(t,i,a,i.pendingProps);case 24:Or(i,St,t.memoizedState.cache)}return Ki(t,i,a)}function Wy(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)wt=!0;else{if(!Sd(t,a)&&(i.flags&128)===0)return wt=!1,Xb(t,i,a);wt=(t.flags&131072)!==0}else wt=!1,Pe&&(i.flags&1048576)!==0&&Dg(i,no,i.index);switch(i.lanes=0,i.tag){case 16:e:{var o=i.pendingProps;if(t=qs(i.elementType),i.type=t,typeof t=="function")Cf(t)?(o=Ys(t,o),i.tag=1,i=Ky(null,i,t,o,a)):(i.tag=0,i=gd(null,i,t,o,a));else{if(t!=null){var h=t.$$typeof;if(h===Ee){i.tag=11,i=By(null,i,t,o,a);break e}else if(h===w){i.tag=14,i=qy(null,i,t,o,a);break e}}throw i=rt(t)||t,Error(s(306,i,""))}}return i;case 0:return gd(t,i,i.type,i.pendingProps,a);case 1:return o=i.type,h=Ys(o,i.pendingProps),Ky(t,i,o,h,a);case 3:e:{if(Dt(i,i.stateNode.containerInfo),t===null)throw Error(s(387));o=i.pendingProps;var d=i.memoizedState;h=d.element,Hf(t,i),co(i,o,null,a);var _=i.memoizedState;if(o=_.cache,Or(i,St,o),o!==d.cache&&jf(i,[St],a,!0),uo(),o=_.element,d.isDehydrated)if(d={element:o,isDehydrated:!1,cache:_.cache},i.updateQueue.baseState=d,i.memoizedState=d,i.flags&256){i=Xy(t,i,o,a);break e}else if(o!==h){h=Nn(Error(s(424)),i),io(h),i=Xy(t,i,o,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(tt=Vn(t.firstChild),qt=i,Pe=!0,Ir=null,On=!0,a=Fg(i,null,o,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ks(),o===h){i=Ki(t,i,a);break e}Ft(t,i,o,a)}i=i.child}return i;case 26:return Tc(t,i),t===null?(a=cv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,o=kc(Re.current).createElement(a),o[Et]=i,o[Lt]=t,Gt(o,a,t),Tt(o),i.stateNode=o):i.memoizedState=cv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return _s(i),t===null&&Pe&&(o=i.stateNode=lv(i.type,i.pendingProps,Re.current),qt=i,On=!0,h=tt,Gr(i.type)?(nm=h,tt=Vn(o.firstChild)):tt=h),Ft(t,i,i.pendingProps.children,a),Tc(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((h=o=tt)&&(o=wS(o,i.type,i.pendingProps,On),o!==null?(i.stateNode=o,qt=i,tt=Vn(o.firstChild),On=!1,h=!0):h=!1),h||Dr(i)),_s(i),h=i.type,d=i.pendingProps,_=t!==null?t.memoizedProps:null,o=d.children,Jd(h,d)?o=null:_!==null&&Jd(h,_)&&(i.flags|=32),i.memoizedState!==null&&(h=$f(t,i,zb,null,null,a),Do._currentValue=h),Tc(t,i),Ft(t,i,o,a),i.child;case 6:return t===null&&Pe&&((t=a=tt)&&(a=xS(a,i.pendingProps,On),a!==null?(i.stateNode=a,qt=i,tt=null,t=!0):t=!1),t||Dr(i)),null;case 13:return $y(t,i,a);case 4:return Dt(i,i.stateNode.containerInfo),o=i.pendingProps,t===null?i.child=Fs(i,null,o,a):Ft(t,i,o,a),i.child;case 11:return By(t,i,i.type,i.pendingProps,a);case 7:return Ft(t,i,i.pendingProps,a),i.child;case 8:return Ft(t,i,i.pendingProps.children,a),i.child;case 12:return Ft(t,i,i.pendingProps.children,a),i.child;case 10:return o=i.pendingProps,Or(i,i.type,o.value),Ft(t,i,o.children,a),i.child;case 9:return h=i.type._context,o=i.pendingProps.children,zs(i),h=Ht(h),o=o(h),i.flags|=1,Ft(t,i,o,a),i.child;case 14:return qy(t,i,i.type,i.pendingProps,a);case 15:return Hy(t,i,i.type,i.pendingProps,a);case 19:return Zy(t,i,a);case 31:return Kb(t,i,a);case 22:return Fy(t,i,a,i.pendingProps);case 24:return zs(i),o=Ht(St),t===null?(h=zf(),h===null&&(h=We,d=kf(),h.pooledCache=d,d.refCount++,d!==null&&(h.pooledCacheLanes|=a),h=d),i.memoizedState={parent:o,cache:h},qf(i),Or(i,St,h)):((t.lanes&a)!==0&&(Hf(t,i),co(i,null,null,a),uo()),h=t.memoizedState,d=i.memoizedState,h.parent!==o?(h={parent:o,cache:o},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),Or(i,St,o)):(o=d.cache,Or(i,St,o),o!==h.cache&&jf(i,[St],a,!0))),Ft(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Xi(t){t.flags|=4}function Ad(t,i,a,o,h){if((i=(t.mode&32)!==0)&&(i=!1),i){if(t.flags|=16777216,(h&335544128)===h)if(t.stateNode.complete)t.flags|=8192;else if(x_())t.flags|=8192;else throw Hs=ac,Bf}else t.flags&=-16777217}function e_(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!pv(i))if(x_())t.flags|=8192;else throw Hs=ac,Bf}function Sc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Nu():536870912,t.lanes|=i,Ya|=i)}function yo(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:o.sibling=null}}function nt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,o=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=o,t.childLanes=a,i}function $b(t,i,a){var o=i.pendingProps;switch(Of(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nt(i),null;case 1:return nt(i),null;case 3:return a=i.stateNode,o=null,t!==null&&(o=t.memoizedState.cache),i.memoizedState.cache!==o&&(i.flags|=2048),Gi(St),st(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Ma(i)?Xi(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Vf())),nt(i),null;case 26:var h=i.type,d=i.memoizedState;return t===null?(Xi(i),d!==null?(nt(i),e_(i,d)):(nt(i),Ad(i,h,null,o,a))):d?d!==t.memoizedState?(Xi(i),nt(i),e_(i,d)):(nt(i),i.flags&=-16777217):(t=t.memoizedProps,t!==o&&Xi(i),nt(i),Ad(i,h,t,o,a)),null;case 27:if(ha(i),a=Re.current,h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return nt(i),null}t=ue.current,Ma(i)?Mg(i):(t=lv(h,o,a),i.stateNode=t,Xi(i))}return nt(i),null;case 5:if(ha(i),h=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(!o){if(i.stateNode===null)throw Error(s(166));return nt(i),null}if(d=ue.current,Ma(i))Mg(i);else{var _=kc(Re.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof o.is=="string"?_.createElement("select",{is:o.is}):_.createElement("select"),o.multiple?d.multiple=!0:o.size&&(d.size=o.size);break;default:d=typeof o.is=="string"?_.createElement(h,{is:o.is}):_.createElement(h)}}d[Et]=i,d[Lt]=o;e:for(_=i.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===i)break e;for(;_.sibling===null;){if(_.return===null||_.return===i)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}i.stateNode=d;e:switch(Gt(d,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break e;case"img":o=!0;break e;default:o=!1}o&&Xi(i)}}return nt(i),Ad(i,i.type,t===null?null:t.memoizedProps,i.pendingProps,a),null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==o&&Xi(i);else{if(typeof o!="string"&&i.stateNode===null)throw Error(s(166));if(t=Re.current,Ma(i)){if(t=i.stateNode,a=i.memoizedProps,o=null,h=qt,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}t[Et]=i,t=!!(t.nodeValue===a||o!==null&&o.suppressHydrationWarning===!0||$_(t.nodeValue,a)),t||Dr(i,!0)}else t=kc(t).createTextNode(o),t[Et]=i,i.stateNode=t}return nt(i),null;case 31:if(a=i.memoizedState,t===null||t.memoizedState!==null){if(o=Ma(i),a!==null){if(t===null){if(!o)throw Error(s(318));if(t=i.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(557));t[Et]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),t=!1}else a=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=a),t=!0;if(!t)return i.flags&256?(_n(i),i):(_n(i),null);if((i.flags&128)!==0)throw Error(s(558))}return nt(i),null;case 13:if(o=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Ma(i),o!==null&&o.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[Et]=i}else ks(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;nt(i),h=!1}else h=Vf(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(_n(i),i):(_n(i),null)}return _n(i),(i.flags&128)!==0?(i.lanes=a,i):(a=o!==null,t=t!==null&&t.memoizedState!==null,a&&(o=i.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),d=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(d=o.memoizedState.cachePool.pool),d!==h&&(o.flags|=2048)),a!==t&&a&&(i.child.flags|=8192),Sc(i,i.updateQueue),nt(i),null);case 4:return st(),t===null&&Yd(i.stateNode.containerInfo),nt(i),null;case 10:return Gi(i.type),nt(i),null;case 19:if(W(mt),o=i.memoizedState,o===null)return nt(i),null;if(h=(i.flags&128)!==0,d=o.rendering,d===null)if(h)yo(o,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(d=cc(t),d!==null){for(i.flags|=128,yo(o,!1),t=d.updateQueue,i.updateQueue=t,Sc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Cg(a,t),a=a.sibling;return ae(mt,mt.current&1|2),Pe&&Hi(i,o.treeForkCount),i.child}t=t.sibling}o.tail!==null&&en()>Cc&&(i.flags|=128,h=!0,yo(o,!1),i.lanes=4194304)}else{if(!h)if(t=cc(d),t!==null){if(i.flags|=128,h=!0,t=t.updateQueue,i.updateQueue=t,Sc(i,t),yo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!d.alternate&&!Pe)return nt(i),null}else 2*en()-o.renderingStartTime>Cc&&a!==536870912&&(i.flags|=128,h=!0,yo(o,!1),i.lanes=4194304);o.isBackwards?(d.sibling=i.child,i.child=d):(t=o.last,t!==null?t.sibling=d:i.child=d,o.last=d)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=en(),t.sibling=null,a=mt.current,ae(mt,h?a&1|2:a&1),Pe&&Hi(i,o.treeForkCount),t):(nt(i),null);case 22:case 23:return _n(i),Qf(),o=i.memoizedState!==null,t!==null?t.memoizedState!==null!==o&&(i.flags|=8192):o&&(i.flags|=8192),o?(a&536870912)!==0&&(i.flags&128)===0&&(nt(i),i.subtreeFlags&6&&(i.flags|=8192)):nt(i),a=i.updateQueue,a!==null&&Sc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),o=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),o!==a&&(i.flags|=2048),t!==null&&W(Bs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),Gi(St),nt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function Jb(t,i){switch(Of(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return Gi(St),st(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return ha(i),null;case 31:if(i.memoizedState!==null){if(_n(i),i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 13:if(_n(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));ks()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return W(mt),null;case 4:return st(),null;case 10:return Gi(i.type),null;case 22:case 23:return _n(i),Qf(),t!==null&&W(Bs),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return Gi(St),null;case 25:return null;default:return null}}function t_(t,i){switch(Of(i),i.tag){case 3:Gi(St),st();break;case 26:case 27:case 5:ha(i);break;case 4:st();break;case 31:i.memoizedState!==null&&_n(i);break;case 13:_n(i);break;case 19:W(mt);break;case 10:Gi(i.type);break;case 22:case 23:_n(i),Qf(),t!==null&&W(Bs);break;case 24:Gi(St)}}function _o(t,i){try{var a=i.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var h=o.next;a=h;do{if((a.tag&t)===t){o=void 0;var d=a.create,_=a.inst;o=d(),_.destroy=o}a=a.next}while(a!==h)}}catch(S){Ke(i,i.return,S)}}function kr(t,i,a){try{var o=i.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var d=h.next;o=d;do{if((o.tag&t)===t){var _=o.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,h=i;var I=a,B=S;try{B()}catch(Q){Ke(h,I,Q)}}}o=o.next}while(o!==d)}}catch(Q){Ke(i,i.return,Q)}}function n_(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Yg(i,a)}catch(o){Ke(t,t.return,o)}}}function i_(t,i,a){a.props=Ys(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(o){Ke(t,i,o)}}function vo(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var o=t.stateNode;break;case 30:o=t.stateNode;break;default:o=t.stateNode}typeof a=="function"?t.refCleanup=a(o):a.current=o}}catch(h){Ke(t,i,h)}}function Ci(t,i){var a=t.ref,o=t.refCleanup;if(a!==null)if(typeof o=="function")try{o()}catch(h){Ke(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){Ke(t,i,h)}else a.current=null}function r_(t){var i=t.type,a=t.memoizedProps,o=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&o.focus();break e;case"img":a.src?o.src=a.src:a.srcSet&&(o.srcset=a.srcSet)}}catch(h){Ke(t,t.return,h)}}function wd(t,i,a){try{var o=t.stateNode;vS(o,t.type,a,i),o[Lt]=i}catch(h){Ke(t,t.return,h)}}function s_(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&Gr(t.type)||t.tag===4}function xd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||s_(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&Gr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Rd(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=Yn));else if(o!==4&&(o===27&&Gr(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Rd(t,i,a),t=t.sibling;t!==null;)Rd(t,i,a),t=t.sibling}function Ac(t,i,a){var o=t.tag;if(o===5||o===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(o!==4&&(o===27&&Gr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ac(t,i,a),t=t.sibling;t!==null;)Ac(t,i,a),t=t.sibling}function a_(t){var i=t.stateNode,a=t.memoizedProps;try{for(var o=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Gt(i,o,a),i[Et]=t,i[Lt]=a}catch(d){Ke(t,t.return,d)}}var $i=!1,xt=!1,Cd=!1,l_=typeof WeakSet=="function"?WeakSet:Set,jt=null;function Zb(t,i){if(t=t.containerInfo,Xd=Gc,t=vg(t),Tf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var o=a.getSelection&&a.getSelection();if(o&&o.rangeCount!==0){a=o.anchorNode;var h=o.anchorOffset,d=o.focusNode;o=o.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,I=-1,B=0,Q=0,J=t,q=null;t:for(;;){for(var Y;J!==a||h!==0&&J.nodeType!==3||(S=_+h),J!==d||o!==0&&J.nodeType!==3||(I=_+o),J.nodeType===3&&(_+=J.nodeValue.length),(Y=J.firstChild)!==null;)q=J,J=Y;for(;;){if(J===t)break t;if(q===a&&++B===h&&(S=_),q===d&&++Q===o&&(I=_),(Y=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=Y}a=S===-1||I===-1?null:{start:S,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for($d={focusedElem:t,selectionRange:a},Gc=!1,jt=i;jt!==null;)if(i=jt,t=i.child,(i.subtreeFlags&1028)!==0&&t!==null)t.return=i,jt=t;else for(;jt!==null;){switch(i=jt,d=i.alternate,t=i.flags,i.tag){case 0:if((t&4)!==0&&(t=i.updateQueue,t=t!==null?t.events:null,t!==null))for(a=0;a<t.length;a++)h=t[a],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=i,h=d.memoizedProps,d=d.memoizedState,o=a.stateNode;try{var ce=Ys(a.type,h);t=o.getSnapshotBeforeUpdate(ce,d),o.__reactInternalSnapshotBeforeUpdate=t}catch(pe){Ke(a,a.return,pe)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Wd(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Wd(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,jt=t;break}jt=i.return}}function o_(t,i,a){var o=a.flags;switch(a.tag){case 0:case 11:case 15:Zi(t,a),o&4&&_o(5,a);break;case 1:if(Zi(t,a),o&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(_){Ke(a,a.return,_)}else{var h=Ys(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(_){Ke(a,a.return,_)}}o&64&&n_(a),o&512&&vo(a,a.return);break;case 3:if(Zi(t,a),o&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yg(t,i)}catch(_){Ke(a,a.return,_)}}break;case 27:i===null&&o&4&&a_(a);case 26:case 5:Zi(t,a),i===null&&o&4&&r_(a),o&512&&vo(a,a.return);break;case 12:Zi(t,a);break;case 31:Zi(t,a),o&4&&h_(t,a);break;case 13:Zi(t,a),o&4&&f_(t,a),o&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=lS.bind(null,a),RS(t,a))));break;case 22:if(o=a.memoizedState!==null||$i,!o){i=i!==null&&i.memoizedState!==null||xt,h=$i;var d=xt;$i=o,(xt=i)&&!d?Wi(t,a,(a.subtreeFlags&8772)!==0):Zi(t,a),$i=h,xt=d}break;case 30:break;default:Zi(t,a)}}function u_(t){var i=t.alternate;i!==null&&(t.alternate=null,u_(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&ga(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,an=!1;function Ji(t,i,a){for(a=a.child;a!==null;)c_(t,i,a),a=a.sibling}function c_(t,i,a){if(zt&&typeof zt.onCommitFiberUnmount=="function")try{zt.onCommitFiberUnmount(qn,a)}catch{}switch(a.tag){case 26:xt||Ci(a,i),Ji(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:xt||Ci(a,i);var o=lt,h=an;Gr(a.type)&&(lt=a.stateNode,an=!1),Ji(t,i,a),Co(a.stateNode),lt=o,an=h;break;case 5:xt||Ci(a,i);case 6:if(o=lt,h=an,lt=null,Ji(t,i,a),lt=o,an=h,lt!==null)if(an)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(d){Ke(a,i,d)}else try{lt.removeChild(a.stateNode)}catch(d){Ke(a,i,d)}break;case 18:lt!==null&&(an?(t=lt,nv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),el(t)):nv(lt,a.stateNode));break;case 4:o=lt,h=an,lt=a.stateNode.containerInfo,an=!0,Ji(t,i,a),lt=o,an=h;break;case 0:case 11:case 14:case 15:kr(2,a,i),xt||kr(4,a,i),Ji(t,i,a);break;case 1:xt||(Ci(a,i),o=a.stateNode,typeof o.componentWillUnmount=="function"&&i_(a,i,o)),Ji(t,i,a);break;case 21:Ji(t,i,a);break;case 22:xt=(o=xt)||a.memoizedState!==null,Ji(t,i,a),xt=o;break;default:Ji(t,i,a)}}function h_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null))){t=t.dehydrated;try{el(t)}catch(a){Ke(i,i.return,a)}}}function f_(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{el(t)}catch(a){Ke(i,i.return,a)}}function Wb(t){switch(t.tag){case 31:case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new l_),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new l_),i;default:throw Error(s(435,t.tag))}}function wc(t,i){var a=Wb(t);i.forEach(function(o){if(!a.has(o)){a.add(o);var h=oS.bind(null,t,o);o.then(h,h)}})}function ln(t,i){var a=i.deletions;if(a!==null)for(var o=0;o<a.length;o++){var h=a[o],d=t,_=i,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(Gr(S.type)){lt=S.stateNode,an=!1;break e}break;case 5:lt=S.stateNode,an=!1;break e;case 3:case 4:lt=S.stateNode.containerInfo,an=!0;break e}S=S.return}if(lt===null)throw Error(s(160));c_(d,_,h),lt=null,an=!1,d=h.alternate,d!==null&&(d.return=null),h.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)d_(i,t),i=i.sibling}var Zn=null;function d_(t,i){var a=t.alternate,o=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(i,t),on(t),o&4&&(kr(3,t,t.return),_o(3,t),kr(5,t,t.return));break;case 1:ln(i,t),on(t),o&512&&(xt||a===null||Ci(a,a.return)),o&64&&$i&&(t=t.updateQueue,t!==null&&(o=t.callbacks,o!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?o:a.concat(o))));break;case 26:var h=Zn;if(ln(i,t),on(t),o&512&&(xt||a===null||Ci(a,a.return)),o&4){var d=a!==null?a.memoizedState:null;if(o=t.memoizedState,a===null)if(o===null)if(t.stateNode===null){e:{o=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(o){case"title":d=h.getElementsByTagName("title")[0],(!d||d[mi]||d[Et]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=h.createElement(o),h.head.insertBefore(d,h.querySelector("head > title"))),Gt(d,o,a),d[Et]=t,Tt(d),o=d;break e;case"link":var _=dv("link","href",h).get(o+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;case"meta":if(_=dv("meta","content",h).get(o+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=h.createElement(o),Gt(d,o,a),h.head.appendChild(d);break;default:throw Error(s(468,o))}d[Et]=t,Tt(d),o=d}t.stateNode=o}else mv(h,t.type,t.stateNode);else t.stateNode=fv(h,o,t.memoizedProps);else d!==o?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,o===null?mv(h,t.type,t.stateNode):fv(h,o,t.memoizedProps)):o===null&&t.stateNode!==null&&wd(t,t.memoizedProps,a.memoizedProps)}break;case 27:ln(i,t),on(t),o&512&&(xt||a===null||Ci(a,a.return)),a!==null&&o&4&&wd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(ln(i,t),on(t),o&512&&(xt||a===null||Ci(a,a.return)),t.flags&32){h=t.stateNode;try{sn(h,"")}catch(ce){Ke(t,t.return,ce)}}o&4&&t.stateNode!=null&&(h=t.memoizedProps,wd(t,h,a!==null?a.memoizedProps:h)),o&1024&&(Cd=!0);break;case 6:if(ln(i,t),on(t),o&4){if(t.stateNode===null)throw Error(s(162));o=t.memoizedProps,a=t.stateNode;try{a.nodeValue=o}catch(ce){Ke(t,t.return,ce)}}break;case 3:if(Bc=null,h=Zn,Zn=Uc(i.containerInfo),ln(i,t),Zn=h,on(t),o&4&&a!==null&&a.memoizedState.isDehydrated)try{el(i.containerInfo)}catch(ce){Ke(t,t.return,ce)}Cd&&(Cd=!1,m_(t));break;case 4:o=Zn,Zn=Uc(t.stateNode.containerInfo),ln(i,t),on(t),Zn=o;break;case 12:ln(i,t),on(t);break;case 31:ln(i,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 13:ln(i,t),on(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rc=en()),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=$i,Q=xt;if($i=B||h,xt=Q||I,ln(i,t),xt=Q,$i=B,on(t),o&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||$i||xt||Qs(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(d=I.stateNode,h)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=I.stateNode;var J=I.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;S.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ce){Ke(I,I.return,ce)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(ce){Ke(I,I.return,ce)}}}else if(i.tag===18){if(a===null){I=i;try{var Y=I.stateNode;h?iv(Y,!0):iv(I.stateNode,!1)}catch(ce){Ke(I,I.return,ce)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}o&4&&(o=t.updateQueue,o!==null&&(a=o.retryQueue,a!==null&&(o.retryQueue=null,wc(t,a))));break;case 19:ln(i,t),on(t),o&4&&(o=t.updateQueue,o!==null&&(t.updateQueue=null,wc(t,o)));break;case 30:break;case 21:break;default:ln(i,t),on(t)}}function on(t){var i=t.flags;if(i&2){try{for(var a,o=t.return;o!==null;){if(s_(o)){a=o;break}o=o.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,d=xd(t);Ac(t,d,h);break;case 5:var _=a.stateNode;a.flags&32&&(sn(_,""),a.flags&=-33);var S=xd(t);Ac(t,S,_);break;case 3:case 4:var I=a.stateNode.containerInfo,B=xd(t);Rd(t,B,I);break;default:throw Error(s(161))}}catch(Q){Ke(t,t.return,Q)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function m_(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;m_(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Zi(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)o_(t,i.alternate,i),i=i.sibling}function Qs(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:kr(4,i,i.return),Qs(i);break;case 1:Ci(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&i_(i,i.return,a),Qs(i);break;case 27:Co(i.stateNode);case 26:case 5:Ci(i,i.return),Qs(i);break;case 22:i.memoizedState===null&&Qs(i);break;case 30:Qs(i);break;default:Qs(i)}t=t.sibling}}function Wi(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var o=i.alternate,h=t,d=i,_=d.flags;switch(d.tag){case 0:case 11:case 15:Wi(h,d,a),_o(4,d);break;case 1:if(Wi(h,d,a),o=d,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){Ke(o,o.return,B)}if(o=d,h=o.updateQueue,h!==null){var S=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Gg(I[h],S)}catch(B){Ke(o,o.return,B)}}a&&_&64&&n_(d),vo(d,d.return);break;case 27:a_(d);case 26:case 5:Wi(h,d,a),a&&o===null&&_&4&&r_(d),vo(d,d.return);break;case 12:Wi(h,d,a);break;case 31:Wi(h,d,a),a&&_&4&&h_(h,d);break;case 13:Wi(h,d,a),a&&_&4&&f_(h,d);break;case 22:d.memoizedState===null&&Wi(h,d,a),vo(d,d.return);break;case 30:break;default:Wi(h,d,a)}i=i.sibling}}function Nd(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&ro(a))}function Id(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ro(t))}function Wn(t,i,a,o){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)p_(t,i,a,o),i=i.sibling}function p_(t,i,a,o){var h=i.flags;switch(i.tag){case 0:case 11:case 15:Wn(t,i,a,o),h&2048&&_o(9,i);break;case 1:Wn(t,i,a,o);break;case 3:Wn(t,i,a,o),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&ro(t)));break;case 12:if(h&2048){Wn(t,i,a,o),t=i.stateNode;try{var d=i.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){Ke(i,i.return,I)}}else Wn(t,i,a,o);break;case 31:Wn(t,i,a,o);break;case 13:Wn(t,i,a,o);break;case 23:break;case 22:d=i.stateNode,_=i.alternate,i.memoizedState!==null?d._visibility&2?Wn(t,i,a,o):Eo(t,i):d._visibility&2?Wn(t,i,a,o):(d._visibility|=2,Ha(t,i,a,o,(i.subtreeFlags&10256)!==0||!1)),h&2048&&Nd(_,i);break;case 24:Wn(t,i,a,o),h&2048&&Id(i.alternate,i);break;default:Wn(t,i,a,o)}}function Ha(t,i,a,o,h){for(h=h&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var d=t,_=i,S=a,I=o,B=_.flags;switch(_.tag){case 0:case 11:case 15:Ha(d,_,S,I,h),_o(8,_);break;case 23:break;case 22:var Q=_.stateNode;_.memoizedState!==null?Q._visibility&2?Ha(d,_,S,I,h):Eo(d,_):(Q._visibility|=2,Ha(d,_,S,I,h)),h&&B&2048&&Nd(_.alternate,_);break;case 24:Ha(d,_,S,I,h),h&&B&2048&&Id(_.alternate,_);break;default:Ha(d,_,S,I,h)}i=i.sibling}}function Eo(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,o=i,h=o.flags;switch(o.tag){case 22:Eo(a,o),h&2048&&Nd(o.alternate,o);break;case 24:Eo(a,o),h&2048&&Id(o.alternate,o);break;default:Eo(a,o)}i=i.sibling}}var To=8192;function Fa(t,i,a){if(t.subtreeFlags&To)for(t=t.child;t!==null;)g_(t,i,a),t=t.sibling}function g_(t,i,a){switch(t.tag){case 26:Fa(t,i,a),t.flags&To&&t.memoizedState!==null&&US(a,Zn,t.memoizedState,t.memoizedProps);break;case 5:Fa(t,i,a);break;case 3:case 4:var o=Zn;Zn=Uc(t.stateNode.containerInfo),Fa(t,i,a),Zn=o;break;case 22:t.memoizedState===null&&(o=t.alternate,o!==null&&o.memoizedState!==null?(o=To,To=16777216,Fa(t,i,a),To=o):Fa(t,i,a));break;default:Fa(t,i,a)}}function y_(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function bo(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];jt=o,v_(o,t)}y_(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)__(t),t=t.sibling}function __(t){switch(t.tag){case 0:case 11:case 15:bo(t),t.flags&2048&&kr(9,t,t.return);break;case 3:bo(t);break;case 12:bo(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,xc(t)):bo(t);break;default:bo(t)}}function xc(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var o=i[a];jt=o,v_(o,t)}y_(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:kr(8,i,i.return),xc(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,xc(i));break;default:xc(i)}t=t.sibling}}function v_(t,i){for(;jt!==null;){var a=jt;switch(a.tag){case 0:case 11:case 15:kr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var o=a.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:ro(a.memoizedState.cache)}if(o=a.child,o!==null)o.return=a,jt=o;else e:for(a=t;jt!==null;){o=jt;var h=o.sibling,d=o.return;if(u_(o),o===a){jt=null;break e}if(h!==null){h.return=d,jt=h;break e}jt=d}}}var eS={getCacheForType:function(t){var i=Ht(St),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a},cacheSignal:function(){return Ht(St).controller.signal}},tS=typeof WeakMap=="function"?WeakMap:Map,He=0,We=null,Ne=null,De=0,Qe=0,vn=null,Ur=!1,Ga=!1,Dd=!1,er=0,ht=0,zr=0,Ks=0,Od=0,En=0,Ya=0,So=null,un=null,Md=!1,Rc=0,E_=0,Cc=1/0,Nc=null,Br=null,Mt=0,qr=null,Qa=null,tr=0,Vd=0,Ld=null,T_=null,Ao=0,Pd=null;function Tn(){return(He&2)!==0&&De!==0?De&-De:K.T!==null?qd():Iu()}function b_(){if(En===0)if((De&536870912)===0||Pe){var t=Ts;Ts<<=1,(Ts&3932160)===0&&(Ts=262144),En=t}else En=536870912;return t=yn.current,t!==null&&(t.flags|=32),En}function cn(t,i,a){(t===We&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)&&(Ka(t,0),Hr(t,De,En,!1)),bs(t,a),((He&2)===0||t!==We)&&(t===We&&((He&2)===0&&(Ks|=a),ht===4&&Hr(t,De,En,!1)),Ni(t))}function S_(t,i,a){if((He&6)!==0)throw Error(s(327));var o=!a&&(i&127)===0&&(i&t.expiredLanes)===0||Hn(t,i),h=o?rS(t,i):kd(t,i,!0),d=o;do{if(h===0){Ga&&!o&&Hr(t,i,0,!1);break}else{if(a=t.current.alternate,d&&!nS(a)){h=kd(t,i,!1),d=!1;continue}if(h===2){if(d=i,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){i=_;e:{var S=t;h=So;var I=S.current.memoizedState.isDehydrated;if(I&&(Ka(S,_).flags|=256),_=kd(S,_,!1),_!==2){if(Dd&&!I){S.errorRecoveryDisabledLanes|=d,Ks|=d,h=4;break e}d=un,un=h,d!==null&&(un===null?un=d:un.push.apply(un,d))}h=_}if(d=!1,h!==2)continue}}if(h===1){Ka(t,0),Hr(t,i,0,!0);break}e:{switch(o=t,d=h,d){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:Hr(o,i,En,!Ur);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=Rc+300-en(),10<h)){if(Hr(o,i,En,!Ur),hi(o,0,!0)!==0)break e;tr=i,o.timeoutHandle=ev(A_.bind(null,o,a,un,Nc,Md,i,En,Ks,Ya,Ur,d,"Throttled",-0,0),h);break e}A_(o,a,un,Nc,Md,i,En,Ks,Ya,Ur,d,null,-0,0)}}break}while(!0);Ni(t)}function A_(t,i,a,o,h,d,_,S,I,B,Q,J,q,Y){if(t.timeoutHandle=-1,J=i.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Yn},g_(i,d,J);var ce=(d&62914560)===d?Rc-en():(d&4194048)===d?E_-en():0;if(ce=zS(J,ce),ce!==null){tr=d,t.cancelPendingCommit=ce(O_.bind(null,t,i,d,a,o,h,_,S,I,Q,J,null,q,Y)),Hr(t,d,_,!B);return}}O_(t,i,d,a,o,h,_,S,I)}function nS(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var o=0;o<a.length;o++){var h=a[o],d=h.getSnapshot;h=h.value;try{if(!pn(d(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Hr(t,i,a,o){i&=~Od,i&=~Ks,t.suspendedLanes|=i,t.pingedLanes&=~i,o&&(t.warmLanes|=i),o=t.expirationTimes;for(var h=i;0<h;){var d=31-ft(h),_=1<<d;o[d]=-1,h&=~_}a!==0&&Ss(t,a,i)}function Ic(){return(He&6)===0?(wo(0),!1):!0}function jd(){if(Ne!==null){if(Qe===0)var t=Ne.return;else t=Ne,Fi=Us=null,Wf(t),ka=null,ao=0,t=Ne;for(;t!==null;)t_(t.alternate,t),t=t.return;Ne=null}}function Ka(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,bS(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),tr=0,jd(),We=t,Ne=a=qi(t.current,null),De=i,Qe=0,vn=null,Ur=!1,Ga=Hn(t,i),Dd=!1,Ya=En=Od=Ks=zr=ht=0,un=So=null,Md=!1,(i&8)!==0&&(i|=i&32);var o=t.entangledLanes;if(o!==0)for(t=t.entanglements,o&=i;0<o;){var h=31-ft(o),d=1<<h;i|=t[h],o&=~d}return er=i,Ju(),a}function w_(t,i){we=null,K.H=po,i===ja||i===sc?(i=Bg(),Qe=3):i===Bf?(i=Bg(),Qe=4):Qe=i===pd?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,vn=i,Ne===null&&(ht=1,vc(t,Nn(i,t.current)))}function x_(){var t=yn.current;return t===null?!0:(De&4194048)===De?Mn===null:(De&62914560)===De||(De&536870912)!==0?t===Mn:!1}function R_(){var t=K.H;return K.H=po,t===null?po:t}function C_(){var t=K.A;return K.A=eS,t}function Dc(){ht=4,Ur||(De&4194048)!==De&&yn.current!==null||(Ga=!0),(zr&134217727)===0&&(Ks&134217727)===0||We===null||Hr(We,De,En,!1)}function kd(t,i,a){var o=He;He|=2;var h=R_(),d=C_();(We!==t||De!==i)&&(Nc=null,Ka(t,i)),i=!1;var _=ht;e:do try{if(Qe!==0&&Ne!==null){var S=Ne,I=vn;switch(Qe){case 8:jd(),_=6;break e;case 3:case 2:case 9:case 6:yn.current===null&&(i=!0);var B=Qe;if(Qe=0,vn=null,Xa(t,S,I,B),a&&Ga){_=0;break e}break;default:B=Qe,Qe=0,vn=null,Xa(t,S,I,B)}}iS(),_=ht;break}catch(Q){w_(t,Q)}while(!0);return i&&t.shellSuspendCounter++,Fi=Us=null,He=o,K.H=h,K.A=d,Ne===null&&(We=null,De=0,Ju()),_}function iS(){for(;Ne!==null;)N_(Ne)}function rS(t,i){var a=He;He|=2;var o=R_(),h=C_();We!==t||De!==i?(Nc=null,Cc=en()+500,Ka(t,i)):Ga=Hn(t,i);e:do try{if(Qe!==0&&Ne!==null){i=Ne;var d=vn;t:switch(Qe){case 1:Qe=0,vn=null,Xa(t,i,d,1);break;case 2:case 9:if(Ug(d)){Qe=0,vn=null,I_(i);break}i=function(){Qe!==2&&Qe!==9||We!==t||(Qe=7),Ni(t)},d.then(i,i);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Ug(d)?(Qe=0,vn=null,I_(i)):(Qe=0,vn=null,Xa(t,i,d,7));break;case 5:var _=null;switch(Ne.tag){case 26:_=Ne.memoizedState;case 5:case 27:var S=Ne;if(_?pv(_):S.stateNode.complete){Qe=0,vn=null;var I=S.sibling;if(I!==null)Ne=I;else{var B=S.return;B!==null?(Ne=B,Oc(B)):Ne=null}break t}}Qe=0,vn=null,Xa(t,i,d,5);break;case 6:Qe=0,vn=null,Xa(t,i,d,6);break;case 8:jd(),ht=6;break e;default:throw Error(s(462))}}sS();break}catch(Q){w_(t,Q)}while(!0);return Fi=Us=null,K.H=o,K.A=h,He=a,Ne!==null?0:(We=null,De=0,Ju(),ht)}function sS(){for(;Ne!==null&&!mf();)N_(Ne)}function N_(t){var i=Wy(t.alternate,t,er);t.memoizedProps=t.pendingProps,i===null?Oc(t):Ne=i}function I_(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qy(a,i,i.pendingProps,i.type,void 0,De);break;case 11:i=Qy(a,i,i.pendingProps,i.type.render,i.ref,De);break;case 5:Wf(i);default:t_(a,i),i=Ne=Cg(i,er),i=Wy(a,i,er)}t.memoizedProps=t.pendingProps,i===null?Oc(t):Ne=i}function Xa(t,i,a,o){Fi=Us=null,Wf(i),ka=null,ao=0;var h=i.return;try{if(Qb(t,h,i,a,De)){ht=1,vc(t,Nn(a,t.current)),Ne=null;return}}catch(d){if(h!==null)throw Ne=h,d;ht=1,vc(t,Nn(a,t.current)),Ne=null;return}i.flags&32768?(Pe||o===1?t=!0:Ga||(De&536870912)!==0?t=!1:(Ur=t=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),D_(i,t)):Oc(i)}function Oc(t){var i=t;do{if((i.flags&32768)!==0){D_(i,Ur);return}t=i.return;var a=$b(i.alternate,i,er);if(a!==null){Ne=a;return}if(i=i.sibling,i!==null){Ne=i;return}Ne=i=t}while(i!==null);ht===0&&(ht=5)}function D_(t,i){do{var a=Jb(t.alternate,t);if(a!==null){a.flags&=32767,Ne=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ne=t;return}Ne=t=a}while(t!==null);ht=6,Ne=null}function O_(t,i,a,o,h,d,_,S,I){t.cancelPendingCommit=null;do Mc();while(Mt!==0);if((He&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(d=i.lanes|i.childLanes,d|=xf,yf(t,a,d,_,S,I),t===We&&(Ne=We=null,De=0),Qa=i,qr=t,tr=a,Vd=d,Ld=h,T_=o,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,uS(vr,function(){return j_(),null})):(t.callbackNode=null,t.callbackPriority=0),o=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||o){o=K.T,K.T=null,h=se.p,se.p=2,_=He,He|=4;try{Zb(t,i,a)}finally{He=_,se.p=h,K.T=o}}Mt=1,M_(),V_(),L_()}}function M_(){if(Mt===1){Mt=0;var t=qr,i=Qa,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var o=se.p;se.p=2;var h=He;He|=4;try{d_(i,t);var d=$d,_=vg(t.containerInfo),S=d.focusedElem,I=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&_g(S.ownerDocument.documentElement,S)){if(I!==null&&Tf(S)){var B=I.start,Q=I.end;if(Q===void 0&&(Q=B),"selectionStart"in S)S.selectionStart=B,S.selectionEnd=Math.min(Q,S.value.length);else{var J=S.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var Y=q.getSelection(),ce=S.textContent.length,pe=Math.min(I.start,ce),Ze=I.end===void 0?pe:Math.min(I.end,ce);!Y.extend&&pe>Ze&&(_=Ze,Ze=pe,pe=_);var P=yg(S,pe),O=yg(S,Ze);if(P&&O&&(Y.rangeCount!==1||Y.anchorNode!==P.node||Y.anchorOffset!==P.offset||Y.focusNode!==O.node||Y.focusOffset!==O.offset)){var z=J.createRange();z.setStart(P.node,P.offset),Y.removeAllRanges(),pe>Ze?(Y.addRange(z),Y.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),Y.addRange(z))}}}}for(J=[],Y=S;Y=Y.parentNode;)Y.nodeType===1&&J.push({element:Y,left:Y.scrollLeft,top:Y.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<J.length;S++){var $=J[S];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}Gc=!!Xd,$d=Xd=null}finally{He=h,se.p=o,K.T=a}}t.current=i,Mt=2}}function V_(){if(Mt===2){Mt=0;var t=qr,i=Qa,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var o=se.p;se.p=2;var h=He;He|=4;try{o_(t,i.alternate,i)}finally{He=h,se.p=o,K.T=a}}Mt=3}}function L_(){if(Mt===4||Mt===3){Mt=0,Su();var t=qr,i=Qa,a=tr,o=T_;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?Mt=5:(Mt=0,Qa=qr=null,P_(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(Br=null),ki(a),i=i.stateNode,zt&&typeof zt.onCommitFiberRoot=="function")try{zt.onCommitFiberRoot(qn,i,void 0,(i.current.flags&128)===128)}catch{}if(o!==null){i=K.T,h=se.p,se.p=2,K.T=null;try{for(var d=t.onRecoverableError,_=0;_<o.length;_++){var S=o[_];d(S.value,{componentStack:S.stack})}}finally{K.T=i,se.p=h}}(tr&3)!==0&&Mc(),Ni(t),h=t.pendingLanes,(a&261930)!==0&&(h&42)!==0?t===Pd?Ao++:(Ao=0,Pd=t):Ao=0,wo(0)}}function P_(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,ro(i)))}function Mc(){return M_(),V_(),L_(),j_()}function j_(){if(Mt!==5)return!1;var t=qr,i=Vd;Vd=0;var a=ki(tr),o=K.T,h=se.p;try{se.p=32>a?32:a,K.T=null,a=Ld,Ld=null;var d=qr,_=tr;if(Mt=0,Qa=qr=null,tr=0,(He&6)!==0)throw Error(s(331));var S=He;if(He|=4,__(d.current),p_(d,d.current,_,a),He=S,wo(0,!1),zt&&typeof zt.onPostCommitFiberRoot=="function")try{zt.onPostCommitFiberRoot(qn,d)}catch{}return!0}finally{se.p=h,K.T=o,P_(t,i)}}function k_(t,i,a){i=Nn(a,i),i=md(t.stateNode,i,2),t=Lr(t,i,2),t!==null&&(bs(t,2),Ni(t))}function Ke(t,i,a){if(t.tag===3)k_(t,t,a);else for(;i!==null;){if(i.tag===3){k_(i,t,a);break}else if(i.tag===1){var o=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Br===null||!Br.has(o))){t=Nn(a,t),a=Uy(2),o=Lr(i,a,2),o!==null&&(zy(a,o,i,t),bs(o,2),Ni(o));break}}i=i.return}}function Ud(t,i,a){var o=t.pingCache;if(o===null){o=t.pingCache=new tS;var h=new Set;o.set(i,h)}else h=o.get(i),h===void 0&&(h=new Set,o.set(i,h));h.has(a)||(Dd=!0,h.add(a),t=aS.bind(null,t,i,a),i.then(t,t))}function aS(t,i,a){var o=t.pingCache;o!==null&&o.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,We===t&&(De&a)===a&&(ht===4||ht===3&&(De&62914560)===De&&300>en()-Rc?(He&2)===0&&Ka(t,0):Od|=a,Ya===De&&(Ya=0)),Ni(t)}function U_(t,i){i===0&&(i=Nu()),t=Ps(t,i),t!==null&&(bs(t,i),Ni(t))}function lS(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),U_(t,a)}function oS(t,i){var a=0;switch(t.tag){case 31:case 13:var o=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:o=t.stateNode;break;case 22:o=t.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(i),U_(t,a)}function uS(t,i){return Ot(t,i)}var Vc=null,$a=null,zd=!1,Lc=!1,Bd=!1,Fr=0;function Ni(t){t!==$a&&t.next===null&&($a===null?Vc=$a=t:$a=$a.next=t),Lc=!0,zd||(zd=!0,hS())}function wo(t,i){if(!Bd&&Lc){Bd=!0;do for(var a=!1,o=Vc;o!==null;){if(t!==0){var h=o.pendingLanes;if(h===0)var d=0;else{var _=o.suspendedLanes,S=o.pingedLanes;d=(1<<31-ft(42|t)+1)-1,d&=h&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,H_(o,d))}else d=De,d=hi(o,o===We?d:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(d&3)===0||Hn(o,d)||(a=!0,H_(o,d));o=o.next}while(a);Bd=!1}}function cS(){z_()}function z_(){Lc=zd=!1;var t=0;Fr!==0&&TS()&&(t=Fr);for(var i=en(),a=null,o=Vc;o!==null;){var h=o.next,d=B_(o,i);d===0?(o.next=null,a===null?Vc=h:a.next=h,h===null&&($a=a)):(a=o,(t!==0||(d&3)!==0)&&(Lc=!0)),o=h}Mt!==0&&Mt!==5||wo(t),Fr!==0&&(Fr=0)}function B_(t,i){for(var a=t.suspendedLanes,o=t.pingedLanes,h=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-ft(d),S=1<<_,I=h[_];I===-1?((S&a)===0||(S&o)!==0)&&(h[_]=gf(S,i)):I<=i&&(t.expiredLanes|=S),d&=~S}if(i=We,a=De,a=hi(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o=t.callbackNode,a===0||t===i&&(Qe===2||Qe===9)||t.cancelPendingCommit!==null)return o!==null&&o!==null&&_r(o),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Hn(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(o!==null&&_r(o),ki(a)){case 2:case 8:a=Vl;break;case 32:a=vr;break;case 268435456:a=Au;break;default:a=vr}return o=q_.bind(null,t),a=Ot(a,o),t.callbackPriority=i,t.callbackNode=a,i}return o!==null&&o!==null&&_r(o),t.callbackPriority=2,t.callbackNode=null,2}function q_(t,i){if(Mt!==0&&Mt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Mc()&&t.callbackNode!==a)return null;var o=De;return o=hi(t,t===We?o:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),o===0?null:(S_(t,o,i),B_(t,en()),t.callbackNode!=null&&t.callbackNode===a?q_.bind(null,t):null)}function H_(t,i){if(Mc())return null;S_(t,i,!0)}function hS(){SS(function(){(He&6)!==0?Ot(Ml,cS):z_()})}function qd(){if(Fr===0){var t=La;t===0&&(t=ui,ui<<=1,(ui&261888)===0&&(ui=256)),Fr=t}return Fr}function F_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function G_(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function fS(t,i,a,o,h){if(i==="submit"&&a&&a.stateNode===h){var d=F_((h[Lt]||null).action),_=o.submitter;_&&(i=(i=_[Lt]||null)?F_(i.formAction):_.getAttribute("formAction"),i!==null&&(d=i,_=null));var S=new bi("action","action",null,o,h);t.push({event:S,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Fr!==0){var I=_?G_(h,_):new FormData(h);od(a,{pending:!0,data:I,method:h.method,action:d},null,I)}}else typeof d=="function"&&(S.preventDefault(),I=_?G_(h,_):new FormData(h),od(a,{pending:!0,data:I,method:h.method,action:d},d,I))},currentTarget:h}]})}}for(var Hd=0;Hd<wf.length;Hd++){var Fd=wf[Hd],dS=Fd.toLowerCase(),mS=Fd[0].toUpperCase()+Fd.slice(1);Jn(dS,"on"+mS)}Jn(bg,"onAnimationEnd"),Jn(Sg,"onAnimationIteration"),Jn(Ag,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(Ib,"onTransitionRun"),Jn(Db,"onTransitionStart"),Jn(Ob,"onTransitionCancel"),Jn(wg,"onTransitionEnd"),_i("onMouseEnter",["mouseout","mouseover"]),_i("onMouseLeave",["mouseout","mouseover"]),_i("onPointerEnter",["pointerout","pointerover"]),_i("onPointerLeave",["pointerout","pointerover"]),yi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),yi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),yi("onBeforeInput",["compositionend","keypress","textInput","paste"]),yi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),yi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pS=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(xo));function Y_(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var o=t[a],h=o.event;o=o.listeners;e:{var d=void 0;if(i)for(var _=o.length-1;0<=_;_--){var S=o[_],I=S.instance,B=S.currentTarget;if(S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Q){$u(Q)}h.currentTarget=null,d=I}else for(_=0;_<o.length;_++){if(S=o[_],I=S.instance,B=S.currentTarget,S=S.listener,I!==d&&h.isPropagationStopped())break e;d=S,h.currentTarget=B;try{d(h)}catch(Q){$u(Q)}h.currentTarget=null,d=I}}}}function Ie(t,i){var a=i[pa];a===void 0&&(a=i[pa]=new Set);var o=t+"__bubble";a.has(o)||(Q_(i,t,2,!1),a.add(o))}function Gd(t,i,a){var o=0;i&&(o|=4),Q_(a,t,o,i)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Yd(t){if(!t[Pc]){t[Pc]=!0,jl.forEach(function(a){a!=="selectionchange"&&(pS.has(a)||Gd(a,!1,t),Gd(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Pc]||(i[Pc]=!0,Gd("selectionchange",!1,i))}}function Q_(t,i,a,o){switch(bv(i)){case 2:var h=HS;break;case 8:h=FS;break;default:h=lm}a=h.bind(null,i,a,t),h=void 0,!Cs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),o?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function Qd(t,i,a,o,h){var d=o;if((i&1)===0&&(i&2)===0&&o!==null)e:for(;;){if(o===null)return;var _=o.tag;if(_===3||_===4){var S=o.stateNode.containerInfo;if(S===h)break;if(_===4)for(_=o.return;_!==null;){var I=_.tag;if((I===3||I===4)&&_.stateNode.containerInfo===h)return;_=_.return}for(;S!==null;){if(_=pi(S),_===null)return;if(I=_.tag,I===5||I===6||I===26||I===27){o=d=_;continue e}S=S.parentNode}}o=o.return}wr(function(){var B=d,Q=wn(a),J=[];e:{var q=xg.get(t);if(q!==void 0){var Y=bi,ce=t;switch(t){case"keypress":if(Is(a)===0)break e;case"keydown":case"keyup":Y=Qu;break;case"focusin":ce="focus",Y=Os;break;case"focusout":ce="blur",Y=Os;break;case"beforeblur":case"afterblur":Y=Os;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Y=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Y=ku;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Y=y;break;case bg:case Sg:case Ag:Y=zu;break;case wg:Y=A;break;case"scroll":case"scrollend":Y=Xl;break;case"wheel":Y=F;break;case"copy":case"cut":case"paste":Y=Bu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Y=Bi;break;case"toggle":case"beforetoggle":Y=Ae}var pe=(i&4)!==0,Ze=!pe&&(t==="scroll"||t==="scrollend"),P=pe?q!==null?q+"Capture":null:q;pe=[];for(var O=B,z;O!==null;){var $=O;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||P===null||($=Qn(O,P),$!=null&&pe.push(Ro(O,$,z))),Ze)break;O=O.return}0<pe.length&&(q=new Y(q,ce,null,a,Q),J.push({event:q,listeners:pe}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",Y=t==="mouseout"||t==="pointerout",q&&a!==Yl&&(ce=a.relatedTarget||a.fromElement)&&(pi(ce)||ce[di]))break e;if((Y||q)&&(q=Q.window===Q?Q:(q=Q.ownerDocument)?q.defaultView||q.parentWindow:window,Y?(ce=a.relatedTarget||a.toElement,Y=B,ce=ce?pi(ce):null,ce!==null&&(Ze=u(ce),pe=ce.tag,ce!==Ze||pe!==5&&pe!==27&&pe!==6)&&(ce=null)):(Y=null,ce=B),Y!==ce)){if(pe=$l,$="onMouseLeave",P="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(pe=Bi,$="onPointerLeave",P="onPointerEnter",O="pointer"),Ze=Y==null?q:dn(Y),z=ce==null?q:dn(ce),q=new pe($,O+"leave",Y,a,Q),q.target=Ze,q.relatedTarget=z,$=null,pi(Q)===B&&(pe=new pe(P,O+"enter",ce,a,Q),pe.target=z,pe.relatedTarget=Ze,$=pe),Ze=$,Y&&ce)t:{for(pe=gS,P=Y,O=ce,z=0,$=P;$;$=pe($))z++;$=0;for(var fe=O;fe;fe=pe(fe))$++;for(;0<z-$;)P=pe(P),z--;for(;0<$-z;)O=pe(O),$--;for(;z--;){if(P===O||O!==null&&P===O.alternate){pe=P;break t}P=pe(P),O=pe(O)}pe=null}else pe=null;Y!==null&&K_(J,q,Y,pe,!1),ce!==null&&Ze!==null&&K_(J,Ze,ce,pe,!0)}}e:{if(q=B?dn(B):window,Y=q.nodeName&&q.nodeName.toLowerCase(),Y==="select"||Y==="input"&&q.type==="file")var ze=hg;else if(ug(q))if(fg)ze=Rb;else{ze=wb;var he=Ab}else Y=q.nodeName,!Y||Y.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&va(B.elementType)&&(ze=hg):ze=xb;if(ze&&(ze=ze(t,B))){cg(J,ze,a,Q);break e}he&&he(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&Hl(q,"number",q.value)}switch(he=B?dn(B):window,t){case"focusin":(ug(he)||he.contentEditable==="true")&&(Ra=he,bf=B,to=null);break;case"focusout":to=bf=Ra=null;break;case"mousedown":Sf=!0;break;case"contextmenu":case"mouseup":case"dragend":Sf=!1,Eg(J,a,Q);break;case"selectionchange":if(Nb)break;case"keydown":case"keyup":Eg(J,a,Q)}var Ce;if(qe)e:{switch(t){case"compositionstart":var Oe="onCompositionStart";break e;case"compositionend":Oe="onCompositionEnd";break e;case"compositionupdate":Oe="onCompositionUpdate";break e}Oe=void 0}else xa?Ms(t,a)&&(Oe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Oe="onCompositionStart");Oe&&(wi&&a.locale!=="ko"&&(xa||Oe!=="onCompositionStart"?Oe==="onCompositionEnd"&&xa&&(Ce=Kl()):(Ti=Q,Ql="value"in Ti?Ti.value:Ti.textContent,xa=!0)),he=jc(B,Oe),0<he.length&&(Oe=new Ai(Oe,t,null,a,Q),J.push({event:Oe,listeners:he}),Ce?Oe.data=Ce:(Ce=wa(a),Ce!==null&&(Oe.data=Ce)))),(Ce=Rn?Eb(t,a):Tb(t,a))&&(Oe=jc(B,"onBeforeInput"),0<Oe.length&&(he=new Ai("onBeforeInput","beforeinput",null,a,Q),J.push({event:he,listeners:Oe}),he.data=Ce)),fS(J,t,B,a,Q)}Y_(J,i)})}function Ro(t,i,a){return{instance:t,listener:i,currentTarget:a}}function jc(t,i){for(var a=i+"Capture",o=[];t!==null;){var h=t,d=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||d===null||(h=Qn(t,a),h!=null&&o.unshift(Ro(t,h,d)),h=Qn(t,i),h!=null&&o.push(Ro(t,h,d))),t.tag===3)return o;t=t.return}return[]}function gS(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function K_(t,i,a,o,h){for(var d=i._reactName,_=[];a!==null&&a!==o;){var S=a,I=S.alternate,B=S.stateNode;if(S=S.tag,I!==null&&I===o)break;S!==5&&S!==26&&S!==27||B===null||(I=B,h?(B=Qn(a,d),B!=null&&_.unshift(Ro(a,B,I))):h||(B=Qn(a,d),B!=null&&_.push(Ro(a,B,I)))),a=a.return}_.length!==0&&t.push({event:i,listeners:_})}var yS=/\r\n?/g,_S=/\u0000|\uFFFD/g;function X_(t){return(typeof t=="string"?t:""+t).replace(yS,`
`).replace(_S,"")}function $_(t,i){return i=X_(i),X_(t)===i}function Je(t,i,a,o,h,d){switch(a){case"children":typeof o=="string"?i==="body"||i==="textarea"&&o===""||sn(t,o):(typeof o=="number"||typeof o=="bigint")&&i!=="body"&&sn(t,""+o);break;case"className":mn(t,"class",o);break;case"tabIndex":mn(t,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(t,a,o);break;case"style":Gl(t,o,d);break;case"data":if(i!=="object"){mn(t,"data",o);break}case"src":case"href":if(o===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"action":case"formAction":if(typeof o=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(i!=="input"&&Je(t,i,"name",h.name,h,null),Je(t,i,"formEncType",h.formEncType,h,null),Je(t,i,"formMethod",h.formMethod,h,null),Je(t,i,"formTarget",h.formTarget,h,null)):(Je(t,i,"encType",h.encType,h,null),Je(t,i,"method",h.method,h,null),Je(t,i,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){t.removeAttribute(a);break}o=Ea(""+o),t.setAttribute(a,o);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":t.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){t.removeAttribute("xlink:href");break}a=Ea(""+o),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""+o):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":o===!0?t.setAttribute(a,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?t.setAttribute(a,o):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?t.setAttribute(a,o):t.removeAttribute(a);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?t.removeAttribute(a):t.setAttribute(a,o);break;case"popover":Ie("beforetoggle",t),Ie("toggle",t),ya(t,"popover",o);break;case"xlinkActuate":bt(t,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":bt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":bt(t,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":bt(t,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":bt(t,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":bt(t,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":bt(t,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":bt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":bt(t,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ya(t,"is",o);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=ju.get(a)||a,ya(t,a,o))}}function Kd(t,i,a,o,h,d){switch(a){case"style":Gl(t,o,d);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(a=o.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof o=="string"?sn(t,o):(typeof o=="number"||typeof o=="bigint")&&sn(t,""+o);break;case"onScroll":o!=null&&Ie("scroll",t);break;case"onScrollEnd":o!=null&&Ie("scrollend",t);break;case"onClick":o!=null&&(t.onclick=Yn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),d=t[Lt]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(i,d,h),typeof o=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,o,h);break e}a in t?t[a]=o:o===!0?t.setAttribute(a,""):ya(t,a,o)}}}function Gt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",t),Ie("load",t);var o=!1,h=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,d,_,a,null)}}h&&Je(t,i,"srcSet",a.srcSet,a,null),o&&Je(t,i,"src",a.src,a,null);return;case"input":Ie("invalid",t);var S=d=_=h=null,I=null,B=null;for(o in a)if(a.hasOwnProperty(o)){var Q=a[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":_=Q;break;case"checked":I=Q;break;case"defaultChecked":B=Q;break;case"value":d=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,i));break;default:Je(t,i,o,Q,a,null)}}Vu(t,d,S,I,B,_,h,!1);return;case"select":Ie("invalid",t),o=_=d=null;for(h in a)if(a.hasOwnProperty(h)&&(S=a[h],S!=null))switch(h){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":o=S;default:Je(t,i,h,S,a,null)}i=d,a=_,t.multiple=!!o,i!=null?Tr(t,!!o,i,!1):a!=null&&Tr(t,!!o,a,!0);return;case"textarea":Ie("invalid",t),d=h=o=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":o=S;break;case"defaultValue":h=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Je(t,i,_,S,a,null)}br(t,o,h,d);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(o=a[I],o!=null))switch(I){case"selected":t.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Je(t,i,I,o,a,null)}return;case"dialog":Ie("beforetoggle",t),Ie("toggle",t),Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":Ie("load",t);break;case"video":case"audio":for(o=0;o<xo.length;o++)Ie(xo[o],t);break;case"image":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"embed":case"source":case"link":Ie("error",t),Ie("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(o=a[B],o!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:Je(t,i,B,o,a,null)}return;default:if(va(i)){for(Q in a)a.hasOwnProperty(Q)&&(o=a[Q],o!==void 0&&Kd(t,i,Q,o,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(o=a[S],o!=null&&Je(t,i,S,o,a,null))}function vS(t,i,a,o){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,d=null,_=null,S=null,I=null,B=null,Q=null;for(Y in a){var J=a[Y];if(a.hasOwnProperty(Y)&&J!=null)switch(Y){case"checked":break;case"value":break;case"defaultValue":I=J;default:o.hasOwnProperty(Y)||Je(t,i,Y,null,o,J)}}for(var q in o){var Y=o[q];if(J=a[q],o.hasOwnProperty(q)&&(Y!=null||J!=null))switch(q){case"type":d=Y;break;case"name":h=Y;break;case"checked":B=Y;break;case"defaultChecked":Q=Y;break;case"value":_=Y;break;case"defaultValue":S=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(s(137,i));break;default:Y!==J&&Je(t,i,q,Y,o,J)}}_a(t,_,S,I,B,Q,d,h);return;case"select":Y=_=S=q=null;for(d in a)if(I=a[d],a.hasOwnProperty(d)&&I!=null)switch(d){case"value":break;case"multiple":Y=I;default:o.hasOwnProperty(d)||Je(t,i,d,null,o,I)}for(h in o)if(d=o[h],I=a[h],o.hasOwnProperty(h)&&(d!=null||I!=null))switch(h){case"value":q=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==I&&Je(t,i,h,d,o,I)}i=S,a=_,o=Y,q!=null?Tr(t,!!a,q,!1):!!o!=!!a&&(i!=null?Tr(t,!!a,i,!0):Tr(t,!!a,a?[]:"",!1));return;case"textarea":Y=q=null;for(S in a)if(h=a[S],a.hasOwnProperty(S)&&h!=null&&!o.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Je(t,i,S,null,o,h)}for(_ in o)if(h=o[_],d=a[_],o.hasOwnProperty(_)&&(h!=null||d!=null))switch(_){case"value":q=h;break;case"defaultValue":Y=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==d&&Je(t,i,_,h,o,d)}Lu(t,q,Y);return;case"option":for(var ce in a)if(q=a[ce],a.hasOwnProperty(ce)&&q!=null&&!o.hasOwnProperty(ce))switch(ce){case"selected":t.selected=!1;break;default:Je(t,i,ce,null,o,q)}for(I in o)if(q=o[I],Y=a[I],o.hasOwnProperty(I)&&q!==Y&&(q!=null||Y!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:Je(t,i,I,q,o,Y)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pe in a)q=a[pe],a.hasOwnProperty(pe)&&q!=null&&!o.hasOwnProperty(pe)&&Je(t,i,pe,null,o,q);for(B in o)if(q=o[B],Y=a[B],o.hasOwnProperty(B)&&q!==Y&&(q!=null||Y!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:Je(t,i,B,q,o,Y)}return;default:if(va(i)){for(var Ze in a)q=a[Ze],a.hasOwnProperty(Ze)&&q!==void 0&&!o.hasOwnProperty(Ze)&&Kd(t,i,Ze,void 0,o,q);for(Q in o)q=o[Q],Y=a[Q],!o.hasOwnProperty(Q)||q===Y||q===void 0&&Y===void 0||Kd(t,i,Q,q,o,Y);return}}for(var P in a)q=a[P],a.hasOwnProperty(P)&&q!=null&&!o.hasOwnProperty(P)&&Je(t,i,P,null,o,q);for(J in o)q=o[J],Y=a[J],!o.hasOwnProperty(J)||q===Y||q==null&&Y==null||Je(t,i,J,q,o,Y)}function J_(t){switch(t){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function ES(){if(typeof performance.getEntriesByType=="function"){for(var t=0,i=0,a=performance.getEntriesByType("resource"),o=0;o<a.length;o++){var h=a[o],d=h.transferSize,_=h.initiatorType,S=h.duration;if(d&&S&&J_(_)){for(_=0,S=h.responseEnd,o+=1;o<a.length;o++){var I=a[o],B=I.startTime;if(B>S)break;var Q=I.transferSize,J=I.initiatorType;Q&&J_(J)&&(I=I.responseEnd,_+=Q*(I<S?1:(S-B)/(I-B)))}if(--o,i+=8*(d+_)/(h.duration/1e3),t++,10<t)break}}if(0<t)return i/t/1e6}return navigator.connection&&(t=navigator.connection.downlink,typeof t=="number")?t:5}var Xd=null,$d=null;function kc(t){return t.nodeType===9?t:t.ownerDocument}function Z_(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function W_(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Jd(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Zd=null;function TS(){var t=window.event;return t&&t.type==="popstate"?t===Zd?!1:(Zd=t,!0):(Zd=null,!1)}var ev=typeof setTimeout=="function"?setTimeout:void 0,bS=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,SS=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(t){return tv.resolve(null).then(t).catch(AS)}:ev;function AS(t){setTimeout(function(){throw t})}function Gr(t){return t==="head"}function nv(t,i){var a=i,o=0;do{var h=a.nextSibling;if(t.removeChild(a),h&&h.nodeType===8)if(a=h.data,a==="/$"||a==="/&"){if(o===0){t.removeChild(h),el(i);return}o--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")o++;else if(a==="html")Co(t.ownerDocument.documentElement);else if(a==="head"){a=t.ownerDocument.head,Co(a);for(var d=a.firstChild;d;){var _=d.nextSibling,S=d.nodeName;d[mi]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&d.rel.toLowerCase()==="stylesheet"||a.removeChild(d),d=_}}else a==="body"&&Co(t.ownerDocument.body);a=h}while(a);el(i)}function iv(t,i){var a=t;t=0;do{var o=a.nextSibling;if(a.nodeType===1?i?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(i?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),o&&o.nodeType===8)if(a=o.data,a==="/$"){if(t===0)break;t--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||t++;a=o}while(a)}function Wd(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Wd(a),ga(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function wS(t,i,a,o){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!o&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(o){if(!t[mi])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var d=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Vn(t.nextSibling),t===null)break}return null}function xS(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Vn(t.nextSibling),t===null))return null;return t}function rv(t,i){for(;t.nodeType!==8;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!i||(t=Vn(t.nextSibling),t===null))return null;return t}function em(t){return t.data==="$?"||t.data==="$~"}function tm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState!=="loading"}function RS(t,i){var a=t.ownerDocument;if(t.data==="$~")t._reactRetry=i;else if(t.data!=="$?"||a.readyState!=="loading")i();else{var o=function(){i(),a.removeEventListener("DOMContentLoaded",o)};a.addEventListener("DOMContentLoaded",o),t._reactRetry=o}}function Vn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return t}var nm=null;function sv(t){t=t.nextSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="/$"||a==="/&"){if(i===0)return Vn(t.nextSibling);i--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||i++}t=t.nextSibling}return null}function av(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(i===0)return t;i--}else a!=="/$"&&a!=="/&"||i++}t=t.previousSibling}return null}function lv(t,i,a){switch(i=kc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function Co(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);ga(t)}var Ln=new Map,ov=new Set;function Uc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var nr=se.d;se.d={f:CS,r:NS,D:IS,C:DS,L:OS,m:MS,X:LS,S:VS,M:PS};function CS(){var t=nr.f(),i=Ic();return t||i}function NS(t){var i=An(t);i!==null&&i.tag===5&&i.type==="form"?wy(i):nr.r(t)}var Ja=typeof document>"u"?null:document;function uv(t,i,a){var o=Ja;if(o&&typeof i=="string"&&i){var h=rn(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),ov.has(h)||(ov.add(h),t={rel:t,crossOrigin:a,href:i},o.querySelector(h)===null&&(i=o.createElement("link"),Gt(i,"link",t),Tt(i),o.head.appendChild(i)))}}function IS(t){nr.D(t),uv("dns-prefetch",t,null)}function DS(t,i){nr.C(t,i),uv("preconnect",t,i)}function OS(t,i,a){nr.L(t,i,a);var o=Ja;if(o&&t&&i){var h='link[rel="preload"][as="'+rn(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+rn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+rn(a.imageSizes)+'"]')):h+='[href="'+rn(t)+'"]';var d=h;switch(i){case"style":d=Za(t);break;case"script":d=Wa(t)}Ln.has(d)||(t=b({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Ln.set(d,t),o.querySelector(h)!==null||i==="style"&&o.querySelector(No(d))||i==="script"&&o.querySelector(Io(d))||(i=o.createElement("link"),Gt(i,"link",t),Tt(i),o.head.appendChild(i)))}}function MS(t,i){nr.m(t,i);var a=Ja;if(a&&t){var o=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(t)+'"]',d=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Wa(t)}if(!Ln.has(d)&&(t=b({rel:"modulepreload",href:t},i),Ln.set(d,t),a.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Io(d)))return}o=a.createElement("link"),Gt(o,"link",t),Tt(o),a.head.appendChild(o)}}}function VS(t,i,a){nr.S(t,i,a);var o=Ja;if(o&&t){var h=gi(o).hoistableStyles,d=Za(t);i=i||"default";var _=h.get(d);if(!_){var S={loading:0,preload:null};if(_=o.querySelector(No(d)))S.loading=5;else{t=b({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Ln.get(d))&&im(t,a);var I=_=o.createElement("link");Tt(I),Gt(I,"link",t),I._p=new Promise(function(B,Q){I.onload=B,I.onerror=Q}),I.addEventListener("load",function(){S.loading|=1}),I.addEventListener("error",function(){S.loading|=2}),S.loading|=4,zc(_,i,o)}_={type:"stylesheet",instance:_,count:1,state:S},h.set(d,_)}}}function LS(t,i){nr.X(t,i);var a=Ja;if(a&&t){var o=gi(a).hoistableScripts,h=Wa(t),d=o.get(h);d||(d=a.querySelector(Io(h)),d||(t=b({src:t,async:!0},i),(i=Ln.get(h))&&rm(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function PS(t,i){nr.M(t,i);var a=Ja;if(a&&t){var o=gi(a).hoistableScripts,h=Wa(t),d=o.get(h);d||(d=a.querySelector(Io(h)),d||(t=b({src:t,async:!0,type:"module"},i),(i=Ln.get(h))&&rm(t,i),d=a.createElement("script"),Tt(d),Gt(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},o.set(h,d))}}function cv(t,i,a,o){var h=(h=Re.current)?Uc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=Za(a.href),a=gi(h).hoistableStyles,o=a.get(i),o||(o={type:"style",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Za(a.href);var d=gi(h).hoistableStyles,_=d.get(t);if(_||(h=h.ownerDocument||h,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=h.querySelector(No(t)))&&!d._p&&(_.instance=d,_.state.loading=5),Ln.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ln.set(t,a),d||jS(h,t,a,_.state))),i&&o===null)throw Error(s(528,""));return _}if(i&&o!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Wa(a),a=gi(h).hoistableScripts,o=a.get(i),o||(o={type:"script",instance:null,count:0,state:null},a.set(i,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function Za(t){return'href="'+rn(t)+'"'}function No(t){return'link[rel="stylesheet"]['+t+"]"}function hv(t){return b({},t,{"data-precedence":t.precedence,precedence:null})}function jS(t,i,a,o){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?o.loading=1:(i=t.createElement("link"),o.preload=i,i.addEventListener("load",function(){return o.loading|=1}),i.addEventListener("error",function(){return o.loading|=2}),Gt(i,"link",a),Tt(i),t.head.appendChild(i))}function Wa(t){return'[src="'+rn(t)+'"]'}function Io(t){return"script[async]"+t}function fv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var o=t.querySelector('style[data-href~="'+rn(a.href)+'"]');if(o)return i.instance=o,Tt(o),o;var h=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return o=(t.ownerDocument||t).createElement("style"),Tt(o),Gt(o,"style",h),zc(o,a.precedence,t),i.instance=o;case"stylesheet":h=Za(a.href);var d=t.querySelector(No(h));if(d)return i.state.loading|=4,i.instance=d,Tt(d),d;o=hv(a),(h=Ln.get(h))&&im(o,h),d=(t.ownerDocument||t).createElement("link"),Tt(d);var _=d;return _._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),Gt(d,"link",o),i.state.loading|=4,zc(d,a.precedence,t),i.instance=d;case"script":return d=Wa(a.src),(h=t.querySelector(Io(d)))?(i.instance=h,Tt(h),h):(o=a,(h=Ln.get(d))&&(o=b({},a),rm(o,h)),t=t.ownerDocument||t,h=t.createElement("script"),Tt(h),Gt(h,"link",o),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(o=i.instance,i.state.loading|=4,zc(o,a.precedence,t));return i.instance}function zc(t,i,a){for(var o=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,d=h,_=0;_<o.length;_++){var S=o[_];if(S.dataset.precedence===i)d=S;else if(d!==h)break}d?d.parentNode.insertBefore(t,d.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function im(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function rm(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var Bc=null;function dv(t,i,a){if(Bc===null){var o=new Map,h=Bc=new Map;h.set(a,o)}else h=Bc,o=h.get(a),o||(o=new Map,h.set(a,o));if(o.has(t))return o;for(o.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var d=a[h];if(!(d[mi]||d[Et]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(i)||"";_=t+_;var S=o.get(_);S?S.push(d):o.set(_,[d])}}return o}function mv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function kS(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function pv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}function US(t,i,a,o){if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var h=Za(o.href),d=i.querySelector(No(h));if(d){i=d._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(t.count++,t=qc.bind(t),i.then(t,t)),a.state.loading|=4,a.instance=d,Tt(d);return}d=i.ownerDocument||i,o=hv(o),(h=Ln.get(h))&&im(o,h),d=d.createElement("link"),Tt(d);var _=d;_._p=new Promise(function(S,I){_.onload=S,_.onerror=I}),Gt(d,"link",o),a.instance=d}t.stylesheets===null&&(t.stylesheets=new Map),t.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(t.count++,a=qc.bind(t),i.addEventListener("load",a),i.addEventListener("error",a))}}var sm=0;function zS(t,i){return t.stylesheets&&t.count===0&&Fc(t,t.stylesheets),0<t.count||0<t.imgCount?function(a){var o=setTimeout(function(){if(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend){var d=t.unsuspend;t.unsuspend=null,d()}},6e4+i);0<t.imgBytes&&sm===0&&(sm=62500*ES());var h=setTimeout(function(){if(t.waitingForImages=!1,t.count===0&&(t.stylesheets&&Fc(t,t.stylesheets),t.unsuspend)){var d=t.unsuspend;t.unsuspend=null,d()}},(t.imgBytes>sm?50:800)+i);return t.unsuspend=a,function(){t.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function qc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fc(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Hc=null;function Fc(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Hc=new Map,i.forEach(BS,t),Hc=null,qc.call(t))}function BS(t,i){if(!(i.state.loading&4)){var a=Hc.get(t);if(a)var o=a.get(null);else{a=new Map,Hc.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<h.length;d++){var _=h[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),o=_)}o&&a.set(null,o)}h=i.instance,_=h.getAttribute("data-precedence"),d=a.get(_)||o,d===o&&a.set(null,h),a.set(_,h),this.count++,o=qc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),d?d.parentNode.insertBefore(h,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var Do={$$typeof:ie,Provider:null,Consumer:null,_currentValue:me,_currentValue2:me,_threadCount:0};function qS(t,i,a,o,h,d,_,S,I){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=fi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=fi(0),this.hiddenUpdates=fi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function gv(t,i,a,o,h,d,_,S,I,B,Q,J){return t=new qS(t,i,a,_,I,B,Q,J,S),i=1,d===!0&&(i|=24),d=gn(3,null,null,i),t.current=d,d.stateNode=t,i=kf(),i.refCount++,t.pooledCache=i,i.refCount++,d.memoizedState={element:o,isDehydrated:a,cache:i},qf(d),t}function yv(t){return t?(t=Ia,t):Ia}function _v(t,i,a,o,h,d){h=yv(h),o.context===null?o.context=h:o.pendingContext=h,o=Vr(i),o.payload={element:a},d=d===void 0?null:d,d!==null&&(o.callback=d),a=Lr(t,o,i),a!==null&&(cn(a,t,i),oo(a,t,i))}function vv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function am(t,i){vv(t,i),(t=t.alternate)&&vv(t,i)}function Ev(t){if(t.tag===13||t.tag===31){var i=Ps(t,67108864);i!==null&&cn(i,t,67108864),am(t,67108864)}}function Tv(t){if(t.tag===13||t.tag===31){var i=Tn();i=As(i);var a=Ps(t,i);a!==null&&cn(a,t,i),am(t,i)}}var Gc=!0;function HS(t,i,a,o){var h=K.T;K.T=null;var d=se.p;try{se.p=2,lm(t,i,a,o)}finally{se.p=d,K.T=h}}function FS(t,i,a,o){var h=K.T;K.T=null;var d=se.p;try{se.p=8,lm(t,i,a,o)}finally{se.p=d,K.T=h}}function lm(t,i,a,o){if(Gc){var h=om(o);if(h===null)Qd(t,i,o,Yc,a),Sv(t,o);else if(YS(h,t,i,a,o))o.stopPropagation();else if(Sv(t,o),i&4&&-1<GS.indexOf(t)){for(;h!==null;){var d=An(h);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=ci(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var I=1<<31-ft(_);S.entanglements[1]|=I,_&=~I}Ni(d),(He&6)===0&&(Cc=en()+500,wo(0))}}break;case 31:case 13:S=Ps(d,2),S!==null&&cn(S,d,2),Ic(),am(d,2)}if(d=om(o),d===null&&Qd(t,i,o,Yc,a),d===h)break;h=d}h!==null&&o.stopPropagation()}else Qd(t,i,o,null,a)}}function om(t){return t=wn(t),um(t)}var Yc=null;function um(t){if(Yc=null,t=pi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=f(i),t!==null)return t;t=null}else if(a===31){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Yc=t,null}function bv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Es()){case Ml:return 2;case Vl:return 8;case vr:case pf:return 32;case Au:return 268435456;default:return 32}default:return 32}}var cm=!1,Yr=null,Qr=null,Kr=null,Oo=new Map,Mo=new Map,Xr=[],GS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Sv(t,i){switch(t){case"focusin":case"focusout":Yr=null;break;case"dragenter":case"dragleave":Qr=null;break;case"mouseover":case"mouseout":Kr=null;break;case"pointerover":case"pointerout":Oo.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mo.delete(i.pointerId)}}function Vo(t,i,a,o,h,d){return t===null||t.nativeEvent!==d?(t={blockedOn:i,domEventName:a,eventSystemFlags:o,nativeEvent:d,targetContainers:[h]},i!==null&&(i=An(i),i!==null&&Ev(i)),t):(t.eventSystemFlags|=o,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function YS(t,i,a,o,h){switch(i){case"focusin":return Yr=Vo(Yr,t,i,a,o,h),!0;case"dragenter":return Qr=Vo(Qr,t,i,a,o,h),!0;case"mouseover":return Kr=Vo(Kr,t,i,a,o,h),!0;case"pointerover":var d=h.pointerId;return Oo.set(d,Vo(Oo.get(d)||null,t,i,a,o,h)),!0;case"gotpointercapture":return d=h.pointerId,Mo.set(d,Vo(Mo.get(d)||null,t,i,a,o,h)),!0}return!1}function Av(t){var i=pi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=f(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Tv(a)});return}}else if(i===31){if(i=m(a),i!==null){t.blockedOn=i,Fn(t.priority,function(){Tv(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=om(t.nativeEvent);if(a===null){a=t.nativeEvent;var o=new a.constructor(a.type,a);Yl=o,a.target.dispatchEvent(o),Yl=null}else return i=An(a),i!==null&&Ev(i),t.blockedOn=a,!1;i.shift()}return!0}function wv(t,i,a){Qc(t)&&a.delete(i)}function QS(){cm=!1,Yr!==null&&Qc(Yr)&&(Yr=null),Qr!==null&&Qc(Qr)&&(Qr=null),Kr!==null&&Qc(Kr)&&(Kr=null),Oo.forEach(wv),Mo.forEach(wv)}function Kc(t,i){t.blockedOn===i&&(t.blockedOn=null,cm||(cm=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,QS)))}var Xc=null;function xv(t){Xc!==t&&(Xc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Xc===t&&(Xc=null);for(var i=0;i<t.length;i+=3){var a=t[i],o=t[i+1],h=t[i+2];if(typeof o!="function"){if(um(o||a)===null)continue;break}var d=An(a);d!==null&&(t.splice(i,3),i-=3,od(d,{pending:!0,data:h,method:a.method,action:o},o,h))}}))}function el(t){function i(I){return Kc(I,t)}Yr!==null&&Kc(Yr,t),Qr!==null&&Kc(Qr,t),Kr!==null&&Kc(Kr,t),Oo.forEach(i),Mo.forEach(i);for(var a=0;a<Xr.length;a++){var o=Xr[a];o.blockedOn===t&&(o.blockedOn=null)}for(;0<Xr.length&&(a=Xr[0],a.blockedOn===null);)Av(a),a.blockedOn===null&&Xr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(o=0;o<a.length;o+=3){var h=a[o],d=a[o+1],_=h[Lt]||null;if(typeof d=="function")_||xv(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(h=d,_=d[Lt]||null)S=_.formAction;else if(um(h)!==null)continue}else S=_.action;typeof S=="function"?a[o+1]=S:(a.splice(o,3),o-=3),xv(a)}}}function Rv(){function t(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return h=_})},focusReset:"manual",scroll:"manual"})}function i(){h!==null&&(h(),h=null),o||setTimeout(a,20)}function a(){if(!o&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",t),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(a,100),function(){o=!0,navigation.removeEventListener("navigate",t),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),h!==null&&(h(),h=null)}}}function hm(t){this._internalRoot=t}$c.prototype.render=hm.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,o=Tn();_v(a,o,t,i,null,null)},$c.prototype.unmount=hm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;_v(t.current,2,null,t,null,null),Ic(),i[di]=null}};function $c(t){this._internalRoot=t}$c.prototype.unstable_scheduleHydration=function(t){if(t){var i=Iu();t={blockedOn:null,target:t,priority:i};for(var a=0;a<Xr.length&&i!==0&&i<Xr[a].priority;a++);Xr.splice(a,0,t),a===0&&Av(t)}};var Cv=e.version;if(Cv!=="19.2.0")throw Error(s(527,Cv,"19.2.0"));se.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?T(t):null,t=t===null?null:t.stateNode,t};var KS={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{qn=Jc.inject(KS),zt=Jc}catch{}}return Po.createRoot=function(t,i){if(!l(t))throw Error(s(299));var a=!1,o="",h=Ly,d=Py,_=jy;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(_=i.onRecoverableError)),i=gv(t,1,!1,null,null,a,o,null,h,d,_,Rv),t[di]=i.current,Yd(t),new hm(i)},Po.hydrateRoot=function(t,i,a){if(!l(t))throw Error(s(299));var o=!1,h="",d=Ly,_=Py,S=jy,I=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.formState!==void 0&&(I=a.formState)),i=gv(t,1,!0,i,a??null,o,h,I,d,_,S,Rv),i.context=yv(null),a=i.current,o=Tn(),o=As(o),h=Vr(o),h.callback=null,Lr(a,h,o),a=o,i.current.lanes=a,bs(i,a),Ni(i),t[di]=i.current,Yd(t),new $c(i)},Po.version="19.2.0",Po}var kv;function sA(){if(kv)return mm.exports;kv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),mm.exports=rA(),mm.exports}var aA=sA();var Uv="popstate";function lA(r={}){function e(s,l){let{pathname:u,search:f,hash:m}=s.location;return Om("",{pathname:u,search:f,hash:m},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function n(s,l){return typeof l=="string"?l:Jo(l)}return uA(e,n,null,r)}function ot(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Bn(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function oA(){return Math.random().toString(36).substring(2,10)}function zv(r,e){return{usr:r.state,key:r.key,idx:e}}function Om(r,e,n=null,s){return{pathname:typeof r=="string"?r:r.pathname,search:"",hash:"",...typeof e=="string"?El(e):e,state:n,key:e&&e.key||s||oA()}}function Jo({pathname:r="/",search:e="",hash:n=""}){return e&&e!=="?"&&(r+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(r+=n.charAt(0)==="#"?n:"#"+n),r}function El(r){let e={};if(r){let n=r.indexOf("#");n>=0&&(e.hash=r.substring(n),r=r.substring(0,n));let s=r.indexOf("?");s>=0&&(e.search=r.substring(s),r=r.substring(0,s)),r&&(e.pathname=r)}return e}function uA(r,e,n,s={}){let{window:l=document.defaultView,v5Compat:u=!1}=s,f=l.history,m="POP",p=null,g=T();g==null&&(g=0,f.replaceState({...f.state,idx:g},""));function T(){return(f.state||{idx:null}).idx}function b(){m="POP";let H=T(),te=H==null?null:H-g;g=H,p&&p({action:m,location:X.location,delta:te})}function x(H,te){m="PUSH";let ne=Om(X.location,H,te);g=T()+1;let ie=zv(ne,g),Ee=X.createHref(ne);try{f.pushState(ie,"",Ee)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;l.location.assign(Ee)}u&&p&&p({action:m,location:X.location,delta:1})}function j(H,te){m="REPLACE";let ne=Om(X.location,H,te);g=T();let ie=zv(ne,g),Ee=X.createHref(ne);f.replaceState(ie,"",Ee),u&&p&&p({action:m,location:X.location,delta:0})}function G(H){return cA(H)}let X={get action(){return m},get location(){return r(l,f)},listen(H){if(p)throw new Error("A history only accepts one active listener");return l.addEventListener(Uv,b),p=H,()=>{l.removeEventListener(Uv,b),p=null}},createHref(H){return e(l,H)},createURL:G,encodeLocation(H){let te=G(H);return{pathname:te.pathname,search:te.search,hash:te.hash}},push:x,replace:j,go(H){return f.go(H)}};return X}function cA(r,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),ot(n,"No window.location.(origin|href) available to create URL");let s=typeof r=="string"?r:Jo(r);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function AE(r,e,n="/"){return hA(r,e,n,!1)}function hA(r,e,n,s){let l=typeof e=="string"?El(e):e,u=ur(l.pathname||"/",n);if(u==null)return null;let f=wE(r);fA(f);let m=null;for(let p=0;m==null&&p<f.length;++p){let g=SA(u);m=TA(f[p],g,s)}return m}function wE(r,e=[],n=[],s="",l=!1){let u=(f,m,p=l,g)=>{let T={relativePath:g===void 0?f.path||"":g,caseSensitive:f.caseSensitive===!0,childrenIndex:m,route:f};if(T.relativePath.startsWith("/")){if(!T.relativePath.startsWith(s)&&p)return;ot(T.relativePath.startsWith(s),`Absolute route path "${T.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),T.relativePath=T.relativePath.slice(s.length)}let b=sr([s,T.relativePath]),x=n.concat(T);f.children&&f.children.length>0&&(ot(f.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${b}".`),wE(f.children,e,x,b,p)),!(f.path==null&&!f.index)&&e.push({path:b,score:vA(b,f.index),routesMeta:x})};return r.forEach((f,m)=>{if(f.path===""||!f.path?.includes("?"))u(f,m);else for(let p of xE(f.path))u(f,m,!0,p)}),e}function xE(r){let e=r.split("/");if(e.length===0)return[];let[n,...s]=e,l=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return l?[u,""]:[u];let f=xE(s.join("/")),m=[];return m.push(...f.map(p=>p===""?u:[u,p].join("/"))),l&&m.push(...f),m.map(p=>r.startsWith("/")&&p===""?"/":p)}function fA(r){r.sort((e,n)=>e.score!==n.score?n.score-e.score:EA(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var dA=/^:[\w-]+$/,mA=3,pA=2,gA=1,yA=10,_A=-2,Bv=r=>r==="*";function vA(r,e){let n=r.split("/"),s=n.length;return n.some(Bv)&&(s+=_A),e&&(s+=pA),n.filter(l=>!Bv(l)).reduce((l,u)=>l+(dA.test(u)?mA:u===""?gA:yA),s)}function EA(r,e){return r.length===e.length&&r.slice(0,-1).every((s,l)=>s===e[l])?r[r.length-1]-e[e.length-1]:0}function TA(r,e,n=!1){let{routesMeta:s}=r,l={},u="/",f=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,T=u==="/"?e:e.slice(u.length)||"/",b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},T),x=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=_h({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},T)),!b)return null;Object.assign(l,b.params),f.push({params:l,pathname:sr([u,b.pathname]),pathnameBase:CA(sr([u,b.pathnameBase])),route:x}),b.pathnameBase!=="/"&&(u=sr([u,b.pathnameBase]))}return f}function _h(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[n,s]=bA(r.path,r.caseSensitive,r.end),l=e.match(n);if(!l)return null;let u=l[0],f=u.replace(/(.)\/+$/,"$1"),m=l.slice(1);return{params:s.reduce((g,{paramName:T,isOptional:b},x)=>{if(T==="*"){let G=m[x]||"";f=u.slice(0,u.length-G.length).replace(/(.)\/+$/,"$1")}const j=m[x];return b&&!j?g[T]=void 0:g[T]=(j||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:f,pattern:r}}function bA(r,e=!1,n=!0){Bn(r==="*"||!r.endsWith("*")||r.endsWith("/*"),`Route path "${r}" will be treated as if it were "${r.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${r.replace(/\*$/,"/*")}".`);let s=[],l="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(f,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return r.endsWith("*")?(s.push({paramName:"*"}),l+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?l+="\\/*$":r!==""&&r!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,e?void 0:"i"),s]}function SA(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Bn(!1,`The URL path "${r}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),r}}function ur(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=r.charAt(n);return s&&s!=="/"?null:r.slice(n)||"/"}var AA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,wA=r=>AA.test(r);function xA(r,e="/"){let{pathname:n,search:s="",hash:l=""}=typeof r=="string"?El(r):r,u;if(n)if(wA(n))u=n;else{if(n.includes("//")){let f=n;n=n.replace(/\/\/+/g,"/"),Bn(!1,`Pathnames cannot have embedded double slashes - normalizing ${f} -> ${n}`)}n.startsWith("/")?u=qv(n.substring(1),"/"):u=qv(n,e)}else u=e;return{pathname:u,search:NA(s),hash:IA(l)}}function qv(r,e){let n=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(l=>{l===".."?n.length>1&&n.pop():l!=="."&&n.push(l)}),n.length>1?n.join("/"):"/"}function _m(r,e,n,s){return`Cannot include a '${r}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function RA(r){return r.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function lp(r){let e=RA(r);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function op(r,e,n,s=!1){let l;typeof r=="string"?l=El(r):(l={...r},ot(!l.pathname||!l.pathname.includes("?"),_m("?","pathname","search",l)),ot(!l.pathname||!l.pathname.includes("#"),_m("#","pathname","hash",l)),ot(!l.search||!l.search.includes("#"),_m("#","search","hash",l)));let u=r===""||l.pathname==="",f=u?"/":l.pathname,m;if(f==null)m=n;else{let b=e.length-1;if(!s&&f.startsWith("..")){let x=f.split("/");for(;x[0]==="..";)x.shift(),b-=1;l.pathname=x.join("/")}m=b>=0?e[b]:"/"}let p=xA(l,m),g=f&&f!=="/"&&f.endsWith("/"),T=(u||f===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||T)&&(p.pathname+="/"),p}var sr=r=>r.join("/").replace(/\/\/+/g,"/"),CA=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),NA=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,IA=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function DA(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var RE=["POST","PUT","PATCH","DELETE"];new Set(RE);var OA=["GET",...RE];new Set(OA);var Tl=U.createContext(null);Tl.displayName="DataRouter";var qh=U.createContext(null);qh.displayName="DataRouterState";U.createContext(!1);var CE=U.createContext({isTransitioning:!1});CE.displayName="ViewTransition";var MA=U.createContext(new Map);MA.displayName="Fetchers";var VA=U.createContext(null);VA.displayName="Await";var si=U.createContext(null);si.displayName="Navigation";var ou=U.createContext(null);ou.displayName="Location";var ai=U.createContext({outlet:null,matches:[],isDataRoute:!1});ai.displayName="Route";var up=U.createContext(null);up.displayName="RouteError";function LA(r,{relative:e}={}){ot(bl(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=U.useContext(si),{hash:l,pathname:u,search:f}=uu(r,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:sr([n,u])),s.createHref({pathname:m,search:f,hash:l})}function bl(){return U.useContext(ou)!=null}function li(){return ot(bl(),"useLocation() may be used only in the context of a <Router> component."),U.useContext(ou).location}var NE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function IE(r){U.useContext(si).static||U.useLayoutEffect(r)}function pr(){let{isDataRoute:r}=U.useContext(ai);return r?XA():PA()}function PA(){ot(bl(),"useNavigate() may be used only in the context of a <Router> component.");let r=U.useContext(Tl),{basename:e,navigator:n}=U.useContext(si),{matches:s}=U.useContext(ai),{pathname:l}=li(),u=JSON.stringify(lp(s)),f=U.useRef(!1);return IE(()=>{f.current=!0}),U.useCallback((p,g={})=>{if(Bn(f.current,NE),!f.current)return;if(typeof p=="number"){n.go(p);return}let T=op(p,JSON.parse(u),l,g.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:sr([e,T.pathname])),(g.replace?n.replace:n.push)(T,g.state,g)},[e,n,u,l,r])}U.createContext(null);function jA(){let{matches:r}=U.useContext(ai),e=r[r.length-1];return e?e.params:{}}function uu(r,{relative:e}={}){let{matches:n}=U.useContext(ai),{pathname:s}=li(),l=JSON.stringify(lp(n));return U.useMemo(()=>op(r,JSON.parse(l),s,e==="path"),[r,l,s,e])}function kA(r,e){return DE(r,e)}function DE(r,e,n,s,l){ot(bl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:u}=U.useContext(si),{matches:f}=U.useContext(ai),m=f[f.length-1],p=m?m.params:{},g=m?m.pathname:"/",T=m?m.pathnameBase:"/",b=m&&m.route;{let ne=b&&b.path||"";OE(g,!b||ne.endsWith("*")||ne.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${ne}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${ne}"> to <Route path="${ne==="/"?"*":`${ne}/*`}">.`)}let x=li(),j;if(e){let ne=typeof e=="string"?El(e):e;ot(T==="/"||ne.pathname?.startsWith(T),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${T}" but pathname "${ne.pathname}" was given in the \`location\` prop.`),j=ne}else j=x;let G=j.pathname||"/",X=G;if(T!=="/"){let ne=T.replace(/^\//,"").split("/");X="/"+G.replace(/^\//,"").split("/").slice(ne.length).join("/")}let H=AE(r,{pathname:X});Bn(b||H!=null,`No routes matched location "${j.pathname}${j.search}${j.hash}" `),Bn(H==null||H[H.length-1].route.element!==void 0||H[H.length-1].route.Component!==void 0||H[H.length-1].route.lazy!==void 0,`Matched leaf route at location "${j.pathname}${j.search}${j.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let te=HA(H&&H.map(ne=>Object.assign({},ne,{params:Object.assign({},p,ne.params),pathname:sr([T,u.encodeLocation?u.encodeLocation(ne.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathname]),pathnameBase:ne.pathnameBase==="/"?T:sr([T,u.encodeLocation?u.encodeLocation(ne.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:ne.pathnameBase])})),f,n,s,l);return e&&te?U.createElement(ou.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...j},navigationType:"POP"}},te):te}function UA(){let r=KA(),e=DA(r)?`${r.status} ${r.statusText}`:r instanceof Error?r.message:JSON.stringify(r),n=r instanceof Error?r.stack:null,s="rgba(200,200,200, 0.5)",l={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},f=null;return console.error("Error handled by React Router default ErrorBoundary:",r),f=U.createElement(U.Fragment,null,U.createElement("p",null," Hey developer "),U.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",U.createElement("code",{style:u},"ErrorBoundary")," or"," ",U.createElement("code",{style:u},"errorElement")," prop on your route.")),U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:l},n):null,f)}var zA=U.createElement(UA,null),BA=class extends U.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,e){return e.location!==r.location||e.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:e.error,location:e.location,revalidation:r.revalidation||e.revalidation}}componentDidCatch(r,e){this.props.onError?this.props.onError(r,e):console.error("React Router caught the following error during render",r)}render(){return this.state.error!==void 0?U.createElement(ai.Provider,{value:this.props.routeContext},U.createElement(up.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function qA({routeContext:r,match:e,children:n}){let s=U.useContext(Tl);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),U.createElement(ai.Provider,{value:r},n)}function HA(r,e=[],n=null,s=null,l=null){if(r==null){if(!n)return null;if(n.errors)r=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)r=n.matches;else return null}let u=r,f=n?.errors;if(f!=null){let T=u.findIndex(b=>b.route.id&&f?.[b.route.id]!==void 0);ot(T>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(f).join(",")}`),u=u.slice(0,Math.min(u.length,T+1))}let m=!1,p=-1;if(n)for(let T=0;T<u.length;T++){let b=u[T];if((b.route.HydrateFallback||b.route.hydrateFallbackElement)&&(p=T),b.route.id){let{loaderData:x,errors:j}=n,G=b.route.loader&&!x.hasOwnProperty(b.route.id)&&(!j||j[b.route.id]===void 0);if(b.route.lazy||G){m=!0,p>=0?u=u.slice(0,p+1):u=[u[0]];break}}}let g=n&&s?(T,b)=>{s(T,{location:n.location,params:n.matches?.[0]?.params??{},errorInfo:b})}:void 0;return u.reduceRight((T,b,x)=>{let j,G=!1,X=null,H=null;n&&(j=f&&b.route.id?f[b.route.id]:void 0,X=b.route.errorElement||zA,m&&(p<0&&x===0?(OE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),G=!0,H=null):p===x&&(G=!0,H=b.route.hydrateFallbackElement||null)));let te=e.concat(u.slice(0,x+1)),ne=()=>{let ie;return j?ie=X:G?ie=H:b.route.Component?ie=U.createElement(b.route.Component,null):b.route.element?ie=b.route.element:ie=T,U.createElement(qA,{match:b,routeContext:{outlet:T,matches:te,isDataRoute:n!=null},children:ie})};return n&&(b.route.ErrorBoundary||b.route.errorElement||x===0)?U.createElement(BA,{location:n.location,revalidation:n.revalidation,component:X,error:j,children:ne(),routeContext:{outlet:null,matches:te,isDataRoute:!0},onError:g}):ne()},null)}function cp(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FA(r){let e=U.useContext(Tl);return ot(e,cp(r)),e}function GA(r){let e=U.useContext(qh);return ot(e,cp(r)),e}function YA(r){let e=U.useContext(ai);return ot(e,cp(r)),e}function hp(r){let e=YA(r),n=e.matches[e.matches.length-1];return ot(n.route.id,`${r} can only be used on routes that contain a unique "id"`),n.route.id}function QA(){return hp("useRouteId")}function KA(){let r=U.useContext(up),e=GA("useRouteError"),n=hp("useRouteError");return r!==void 0?r:e.errors?.[n]}function XA(){let{router:r}=FA("useNavigate"),e=hp("useNavigate"),n=U.useRef(!1);return IE(()=>{n.current=!0}),U.useCallback(async(l,u={})=>{Bn(n.current,NE),n.current&&(typeof l=="number"?r.navigate(l):await r.navigate(l,{fromRouteId:e,...u}))},[r,e])}var Hv={};function OE(r,e,n){!e&&!Hv[r]&&(Hv[r]=!0,Bn(!1,n))}U.memo($A);function $A({routes:r,future:e,state:n,unstable_onError:s}){return DE(r,void 0,n,s,e)}function vh({to:r,replace:e,state:n,relative:s}){ot(bl(),"<Navigate> may be used only in the context of a <Router> component.");let{static:l}=U.useContext(si);Bn(!l,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=U.useContext(ai),{pathname:f}=li(),m=pr(),p=op(r,lp(u),f,s==="path"),g=JSON.stringify(p);return U.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Pn(r){ot(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function JA({basename:r="/",children:e=null,location:n,navigationType:s="POP",navigator:l,static:u=!1}){ot(!bl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let f=r.replace(/^\/*/,"/"),m=U.useMemo(()=>({basename:f,navigator:l,static:u,future:{}}),[f,l,u]);typeof n=="string"&&(n=El(n));let{pathname:p="/",search:g="",hash:T="",state:b=null,key:x="default"}=n,j=U.useMemo(()=>{let G=ur(p,f);return G==null?null:{location:{pathname:G,search:g,hash:T,state:b,key:x},navigationType:s}},[f,p,g,T,b,x,s]);return Bn(j!=null,`<Router basename="${f}"> is not able to match the URL "${p}${g}${T}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:U.createElement(si.Provider,{value:m},U.createElement(ou.Provider,{children:e,value:j}))}function ZA({children:r,location:e}){return kA(Mm(r),e)}function Mm(r,e=[]){let n=[];return U.Children.forEach(r,(s,l)=>{if(!U.isValidElement(s))return;let u=[...e,l];if(s.type===U.Fragment){n.push.apply(n,Mm(s.props.children,u));return}ot(s.type===Pn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ot(!s.props.index||!s.props.children,"An index route cannot have child routes.");let f={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,middleware:s.props.middleware,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(f.children=Mm(s.props.children,u)),n.push(f)}),n}var ah="get",lh="application/x-www-form-urlencoded";function Hh(r){return r!=null&&typeof r.tagName=="string"}function WA(r){return Hh(r)&&r.tagName.toLowerCase()==="button"}function ew(r){return Hh(r)&&r.tagName.toLowerCase()==="form"}function tw(r){return Hh(r)&&r.tagName.toLowerCase()==="input"}function nw(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function iw(r,e){return r.button===0&&(!e||e==="_self")&&!nw(r)}var Zc=null;function rw(){if(Zc===null)try{new FormData(document.createElement("form"),0),Zc=!1}catch{Zc=!0}return Zc}var sw=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function vm(r){return r!=null&&!sw.has(r)?(Bn(!1,`"${r}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${lh}"`),null):r}function aw(r,e){let n,s,l,u,f;if(ew(r)){let m=r.getAttribute("action");s=m?ur(m,e):null,n=r.getAttribute("method")||ah,l=vm(r.getAttribute("enctype"))||lh,u=new FormData(r)}else if(WA(r)||tw(r)&&(r.type==="submit"||r.type==="image")){let m=r.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=r.getAttribute("formaction")||m.getAttribute("action");if(s=p?ur(p,e):null,n=r.getAttribute("formmethod")||m.getAttribute("method")||ah,l=vm(r.getAttribute("formenctype"))||vm(m.getAttribute("enctype"))||lh,u=new FormData(m,r),!rw()){let{name:g,type:T,value:b}=r;if(T==="image"){let x=g?`${g}.`:"";u.append(`${x}x`,"0"),u.append(`${x}y`,"0")}else g&&u.append(g,b)}}else{if(Hh(r))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=ah,s=null,l=lh,f=r}return u&&l==="text/plain"&&(f=u,u=void 0),{action:s,method:n.toLowerCase(),encType:l,formData:u,body:f}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function fp(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function lw(r,e,n){let s=typeof r=="string"?new URL(r,typeof window>"u"?"server://singlefetch/":window.location.origin):r;return s.pathname==="/"?s.pathname=`_root.${n}`:e&&ur(s.pathname,e)==="/"?s.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${n}`,s}async function ow(r,e){if(r.id in e)return e[r.id];try{let n=await import(r.module);return e[r.id]=n,n}catch(n){return console.error(`Error loading route module \`${r.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function uw(r){return r==null?!1:r.href==null?r.rel==="preload"&&typeof r.imageSrcSet=="string"&&typeof r.imageSizes=="string":typeof r.rel=="string"&&typeof r.href=="string"}async function cw(r,e,n){let s=await Promise.all(r.map(async l=>{let u=e.routes[l.route.id];if(u){let f=await ow(u,n);return f.links?f.links():[]}return[]}));return mw(s.flat(1).filter(uw).filter(l=>l.rel==="stylesheet"||l.rel==="preload").map(l=>l.rel==="stylesheet"?{...l,rel:"prefetch",as:"style"}:{...l,rel:"prefetch"}))}function Fv(r,e,n,s,l,u){let f=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>f(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let T=s.routes[p.route.id];if(!T||!T.hasLoader)return!1;if(f(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(l.pathname+l.search+l.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(r,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function hw(r,e,{includeHydrateFallback:n}={}){return fw(r.map(s=>{let l=e.routes[s.route.id];if(!l)return[];let u=[l.module];return l.clientActionModule&&(u=u.concat(l.clientActionModule)),l.clientLoaderModule&&(u=u.concat(l.clientLoaderModule)),n&&l.hydrateFallbackModule&&(u=u.concat(l.hydrateFallbackModule)),l.imports&&(u=u.concat(l.imports)),u}).flat(1))}function fw(r){return[...new Set(r)]}function dw(r){let e={},n=Object.keys(r).sort();for(let s of n)e[s]=r[s];return e}function mw(r,e){let n=new Set;return new Set(e),r.reduce((s,l)=>{let u=JSON.stringify(dw(l));return n.has(u)||(n.add(u),s.push({key:u,link:l})),s},[])}function ME(){let r=U.useContext(Tl);return fp(r,"You must render this element inside a <DataRouterContext.Provider> element"),r}function pw(){let r=U.useContext(qh);return fp(r,"You must render this element inside a <DataRouterStateContext.Provider> element"),r}var dp=U.createContext(void 0);dp.displayName="FrameworkContext";function VE(){let r=U.useContext(dp);return fp(r,"You must render this element inside a <HydratedRouter> element"),r}function gw(r,e){let n=U.useContext(dp),[s,l]=U.useState(!1),[u,f]=U.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:T,onTouchStart:b}=e,x=U.useRef(null);U.useEffect(()=>{if(r==="render"&&f(!0),r==="viewport"){let X=te=>{te.forEach(ne=>{f(ne.isIntersecting)})},H=new IntersectionObserver(X,{threshold:.5});return x.current&&H.observe(x.current),()=>{H.disconnect()}}},[r]),U.useEffect(()=>{if(s){let X=setTimeout(()=>{f(!0)},100);return()=>{clearTimeout(X)}}},[s]);let j=()=>{l(!0)},G=()=>{l(!1),f(!1)};return n?r!=="intent"?[u,x,{}]:[u,x,{onFocus:jo(m,j),onBlur:jo(p,G),onMouseEnter:jo(g,j),onMouseLeave:jo(T,G),onTouchStart:jo(b,j)}]:[!1,x,{}]}function jo(r,e){return n=>{r&&r(n),n.defaultPrevented||e(n)}}function yw({page:r,...e}){let{router:n}=ME(),s=U.useMemo(()=>AE(n.routes,r,n.basename),[n.routes,r,n.basename]);return s?U.createElement(vw,{page:r,matches:s,...e}):null}function _w(r){let{manifest:e,routeModules:n}=VE(),[s,l]=U.useState([]);return U.useEffect(()=>{let u=!1;return cw(r,e,n).then(f=>{u||l(f)}),()=>{u=!0}},[r,e,n]),s}function vw({page:r,matches:e,...n}){let s=li(),{manifest:l,routeModules:u}=VE(),{basename:f}=ME(),{loaderData:m,matches:p}=pw(),g=U.useMemo(()=>Fv(r,e,p,l,s,"data"),[r,e,p,l,s]),T=U.useMemo(()=>Fv(r,e,p,l,s,"assets"),[r,e,p,l,s]),b=U.useMemo(()=>{if(r===s.pathname+s.search+s.hash)return[];let G=new Set,X=!1;if(e.forEach(te=>{let ne=l.routes[te.route.id];!ne||!ne.hasLoader||(!g.some(ie=>ie.route.id===te.route.id)&&te.route.id in m&&u[te.route.id]?.shouldRevalidate||ne.hasClientLoader?X=!0:G.add(te.route.id))}),G.size===0)return[];let H=lw(r,f,"data");return X&&G.size>0&&H.searchParams.set("_routes",e.filter(te=>G.has(te.route.id)).map(te=>te.route.id).join(",")),[H.pathname+H.search]},[f,m,s,l,g,e,r,u]),x=U.useMemo(()=>hw(T,l),[T,l]),j=_w(T);return U.createElement(U.Fragment,null,b.map(G=>U.createElement("link",{key:G,rel:"prefetch",as:"fetch",href:G,...n})),x.map(G=>U.createElement("link",{key:G,rel:"modulepreload",href:G,...n})),j.map(({key:G,link:X})=>U.createElement("link",{key:G,nonce:n.nonce,...X})))}function Ew(...r){return e=>{r.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var LE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{LE&&(window.__reactRouterVersion="7.9.6")}catch{}function Tw({basename:r,children:e,window:n}){let s=U.useRef();s.current==null&&(s.current=lA({window:n,v5Compat:!0}));let l=s.current,[u,f]=U.useState({action:l.action,location:l.location}),m=U.useCallback(p=>{U.startTransition(()=>f(p))},[f]);return U.useLayoutEffect(()=>l.listen(m),[l,m]),U.createElement(JA,{basename:r,children:e,location:u.location,navigationType:u.action,navigator:l})}var PE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ei=U.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:l,reloadDocument:u,replace:f,state:m,target:p,to:g,preventScrollReset:T,viewTransition:b,...x},j){let{basename:G}=U.useContext(si),X=typeof g=="string"&&PE.test(g),H,te=!1;if(typeof g=="string"&&X&&(H=g,LE))try{let C=new URL(window.location.href),V=g.startsWith("//")?new URL(C.protocol+g):new URL(g),D=ur(V.pathname,G);V.origin===C.origin&&D!=null?g=D+V.search+V.hash:te=!0}catch{Bn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let ne=LA(g,{relative:l}),[ie,Ee,ge]=gw(s,x),xe=ww(g,{replace:f,state:m,target:p,preventScrollReset:T,relative:l,viewTransition:b});function w(C){e&&e(C),C.defaultPrevented||xe(C)}let R=U.createElement("a",{...x,...ge,href:H||ne,onClick:te||u?e:w,ref:Ew(j,Ee),target:p,"data-discover":!X&&n==="render"?"true":void 0});return ie&&!X?U.createElement(U.Fragment,null,R,U.createElement(yw,{page:ne})):R});ei.displayName="Link";var bw=U.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:l=!1,style:u,to:f,viewTransition:m,children:p,...g},T){let b=uu(f,{relative:g.relative}),x=li(),j=U.useContext(qh),{navigator:G,basename:X}=U.useContext(si),H=j!=null&&Iw(b)&&m===!0,te=G.encodeLocation?G.encodeLocation(b).pathname:b.pathname,ne=x.pathname,ie=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;n||(ne=ne.toLowerCase(),ie=ie?ie.toLowerCase():null,te=te.toLowerCase()),ie&&X&&(ie=ur(ie,X)||ie);const Ee=te!=="/"&&te.endsWith("/")?te.length-1:te.length;let ge=ne===te||!l&&ne.startsWith(te)&&ne.charAt(Ee)==="/",xe=ie!=null&&(ie===te||!l&&ie.startsWith(te)&&ie.charAt(te.length)==="/"),w={isActive:ge,isPending:xe,isTransitioning:H},R=ge?e:void 0,C;typeof s=="function"?C=s(w):C=[s,ge?"active":null,xe?"pending":null,H?"transitioning":null].filter(Boolean).join(" ");let V=typeof u=="function"?u(w):u;return U.createElement(ei,{...g,"aria-current":R,className:C,ref:T,style:V,to:f,viewTransition:m},typeof p=="function"?p(w):p)});bw.displayName="NavLink";var Sw=U.forwardRef(({discover:r="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:l,state:u,method:f=ah,action:m,onSubmit:p,relative:g,preventScrollReset:T,viewTransition:b,...x},j)=>{let G=Cw(),X=Nw(m,{relative:g}),H=f.toLowerCase()==="get"?"get":"post",te=typeof m=="string"&&PE.test(m),ne=ie=>{if(p&&p(ie),ie.defaultPrevented)return;ie.preventDefault();let Ee=ie.nativeEvent.submitter,ge=Ee?.getAttribute("formmethod")||f;G(Ee||ie.currentTarget,{fetcherKey:e,method:ge,navigate:n,replace:l,state:u,relative:g,preventScrollReset:T,viewTransition:b})};return U.createElement("form",{ref:j,method:H,action:X,onSubmit:s?p:ne,...x,"data-discover":!te&&r==="render"?"true":void 0})});Sw.displayName="Form";function Aw(r){return`${r} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jE(r){let e=U.useContext(Tl);return ot(e,Aw(r)),e}function ww(r,{target:e,replace:n,state:s,preventScrollReset:l,relative:u,viewTransition:f}={}){let m=pr(),p=li(),g=uu(r,{relative:u});return U.useCallback(T=>{if(iw(T,e)){T.preventDefault();let b=n!==void 0?n:Jo(p)===Jo(g);m(r,{replace:b,state:s,preventScrollReset:l,relative:u,viewTransition:f})}},[p,m,g,n,s,e,r,l,u,f])}var xw=0,Rw=()=>`__${String(++xw)}__`;function Cw(){let{router:r}=jE("useSubmit"),{basename:e}=U.useContext(si),n=QA();return U.useCallback(async(s,l={})=>{let{action:u,method:f,encType:m,formData:p,body:g}=aw(s,e);if(l.navigate===!1){let T=l.fetcherKey||Rw();await r.fetch(T,n,l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||m,flushSync:l.flushSync})}else await r.navigate(l.action||u,{preventScrollReset:l.preventScrollReset,formData:p,body:g,formMethod:l.method||f,formEncType:l.encType||m,replace:l.replace,state:l.state,fromRouteId:n,flushSync:l.flushSync,viewTransition:l.viewTransition})},[r,e,n])}function Nw(r,{relative:e}={}){let{basename:n}=U.useContext(si),s=U.useContext(ai);ot(s,"useFormAction must be used inside a RouteContext");let[l]=s.matches.slice(-1),u={...uu(r||".",{relative:e})},f=li();if(r==null){u.search=f.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(T=>T==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let T=m.toString();u.search=T?`?${T}`:""}}return(!r||r===".")&&l.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:sr([n,u.pathname])),Jo(u)}function Iw(r,{relative:e}={}){let n=U.useContext(CE);ot(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=jE("useViewTransitionState"),l=uu(r,{relative:e});if(!n.isTransitioning)return!1;let u=ur(n.currentLocation.pathname,s)||n.currentLocation.pathname,f=ur(n.nextLocation.pathname,s)||n.nextLocation.pathname;return _h(l.pathname,f)!=null||_h(l.pathname,u)!=null}const Dw=()=>{};var Gv={};const kE=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let l=r.charCodeAt(s);l<128?e[n++]=l:l<2048?(e[n++]=l>>6|192,e[n++]=l&63|128):(l&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=l>>18|240,e[n++]=l>>12&63|128,e[n++]=l>>6&63|128,e[n++]=l&63|128):(e[n++]=l>>12|224,e[n++]=l>>6&63|128,e[n++]=l&63|128)}return e},Ow=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const l=r[n++];if(l<128)e[s++]=String.fromCharCode(l);else if(l>191&&l<224){const u=r[n++];e[s++]=String.fromCharCode((l&31)<<6|u&63)}else if(l>239&&l<365){const u=r[n++],f=r[n++],m=r[n++],p=((l&7)<<18|(u&63)<<12|(f&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=r[n++],f=r[n++];e[s++]=String.fromCharCode((l&15)<<12|(u&63)<<6|f&63)}}return e.join("")},UE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<r.length;l+=3){const u=r[l],f=l+1<r.length,m=f?r[l+1]:0,p=l+2<r.length,g=p?r[l+2]:0,T=u>>2,b=(u&3)<<4|m>>4;let x=(m&15)<<2|g>>6,j=g&63;p||(j=64,f||(x=64)),s.push(n[T],n[b],n[x],n[j])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(kE(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Ow(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<r.length;){const u=n[r.charAt(l++)],m=l<r.length?n[r.charAt(l)]:0;++l;const g=l<r.length?n[r.charAt(l)]:64;++l;const b=l<r.length?n[r.charAt(l)]:64;if(++l,u==null||m==null||g==null||b==null)throw new Mw;const x=u<<2|m>>4;if(s.push(x),g!==64){const j=m<<4&240|g>>2;if(s.push(j),b!==64){const G=g<<6&192|b;s.push(G)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Mw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vw=function(r){const e=kE(r);return UE.encodeByteArray(e,!0)},Eh=function(r){return Vw(r).replace(/\./g,"")},zE=function(r){try{return UE.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Lw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Pw=()=>Lw().__FIREBASE_DEFAULTS__,jw=()=>{if(typeof process>"u"||typeof Gv>"u")return;const r=Gv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},kw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&zE(r[1]);return e&&JSON.parse(e)},Fh=()=>{try{return Dw()||Pw()||jw()||kw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},BE=r=>Fh()?.emulatorHosts?.[r],Uw=r=>{const e=BE(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},qE=()=>Fh()?.config,HE=r=>Fh()?.[`_${r}`];class zw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}function Sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function FE(r){return(await fetch(r,{credentials:"include"})).ok}function Bw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",l=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f={iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Eh(JSON.stringify(n)),Eh(JSON.stringify(f)),""].join(".")}const Go={};function qw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Go))Go[e]?r.emulator.push(e):r.prod.push(e);return r}function Hw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let Yv=!1;function GE(r,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||Go[r]===e||Go[r]||Yv)return;Go[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=qw().prod.length>0;function f(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function p(x,j){x.setAttribute("width","24"),x.setAttribute("id",j),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function g(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{Yv=!0,f()},x}function T(x,j){x.setAttribute("id",j),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=Hw(s),j=n("text"),G=document.getElementById(j)||document.createElement("span"),X=n("learnmore"),H=document.getElementById(X)||document.createElement("a"),te=n("preprendIcon"),ne=document.getElementById(te)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ie=x.element;m(ie),T(H,X);const Ee=g();p(ne,te),ie.append(ne,G,H,Ee),document.body.appendChild(ie)}u?(G.innerText="Preview backend disconnected.",ne.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ne.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,G.innerText="Preview backend running in this workspace."),G.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Fw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function Gw(){const r=Fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Yw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Kw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Xw(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function $w(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jw(){try{return typeof indexedDB=="object"}catch{return!1}}function Zw(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},l.onupgradeneeded=()=>{n=!1},l.onerror=()=>{e(l.error?.message||"")}}catch(n){e(n)}})}const Ww="FirebaseError";class gr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=Ww,Object.setPrototypeOf(this,gr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},l=`${this.service}/${e}`,u=this.errors[e],f=u?e2(u,s):"Error",m=`${this.serviceName}: ${f} (${l}).`;return new gr(l,m,s)}}function e2(r,e){return r.replace(t2,(n,s)=>{const l=e[s];return l!=null?String(l):`<${s}?>`})}const t2=/\{\$([^}]+)}/g;function n2(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ws(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const l of n){if(!s.includes(l))return!1;const u=r[l],f=e[l];if(Qv(u)&&Qv(f)){if(!Ws(u,f))return!1}else if(u!==f)return!1}for(const l of s)if(!n.includes(l))return!1;return!0}function Qv(r){return r!==null&&typeof r=="object"}function hu(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(l=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(l))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function ko(r){const e={};return r.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[l,u]=s.split("=");e[decodeURIComponent(l)]=decodeURIComponent(u)}}),e}function Uo(r){const e=r.indexOf("?");if(!e)return"";const n=r.indexOf("#",e);return r.substring(e,n>0?n:void 0)}function i2(r,e){const n=new r2(r,e);return n.subscribe.bind(n)}class r2{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let l;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");s2(e,["next","error","complete"])?l=e:l={next:e,error:n,complete:s},l.next===void 0&&(l.next=Em),l.error===void 0&&(l.error=Em),l.complete===void 0&&(l.complete=Em);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function s2(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Em(){}function Ut(r){return r&&r._delegate?r._delegate:r}class ea{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xs="[DEFAULT]";class a2{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new zw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:n});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e?.identifier),s=e?.optional??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(s)return null;throw l}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(o2(e))try{this.getOrInitializeService({instanceIdentifier:Xs})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:l});s.resolve(u)}catch{}}}}clearInstance(e=Xs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Xs){return this.instances.has(e)}getOptions(e=Xs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,f]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&f.resolve(l)}return l}onInit(e,n){const s=this.normalizeInstanceIdentifier(n),l=this.onInitCallbacks.get(s)??new Set;l.add(e),this.onInitCallbacks.set(s,l);const u=this.instances.get(s);return u&&e(u,s),()=>{l.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const l of s)try{l(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:l2(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Xs){return this.component?this.component.multipleInstances?e:Xs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function l2(r){return r===Xs?void 0:r}function o2(r){return r.instantiationMode==="EAGER"}class u2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new a2(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}var Me;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Me||(Me={}));const c2={debug:Me.DEBUG,verbose:Me.VERBOSE,info:Me.INFO,warn:Me.WARN,error:Me.ERROR,silent:Me.SILENT},h2=Me.INFO,f2={[Me.DEBUG]:"log",[Me.VERBOSE]:"log",[Me.INFO]:"info",[Me.WARN]:"warn",[Me.ERROR]:"error"},d2=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),l=f2[e];if(l)console[l](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class mp{constructor(e){this.name=e,this._logLevel=h2,this._logHandler=d2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?c2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Me.DEBUG,...e),this._logHandler(this,Me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Me.VERBOSE,...e),this._logHandler(this,Me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Me.INFO,...e),this._logHandler(this,Me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Me.WARN,...e),this._logHandler(this,Me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Me.ERROR,...e),this._logHandler(this,Me.ERROR,...e)}}const m2=(r,e)=>e.some(n=>r instanceof n);let Kv,Xv;function p2(){return Kv||(Kv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function g2(){return Xv||(Xv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const YE=new WeakMap,Vm=new WeakMap,QE=new WeakMap,Tm=new WeakMap,pp=new WeakMap;function y2(r){const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("success",u),r.removeEventListener("error",f)},u=()=>{n(is(r.result)),l()},f=()=>{s(r.error),l()};r.addEventListener("success",u),r.addEventListener("error",f)});return e.then(n=>{n instanceof IDBCursor&&YE.set(n,r)}).catch(()=>{}),pp.set(e,r),e}function _2(r){if(Vm.has(r))return;const e=new Promise((n,s)=>{const l=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",f),r.removeEventListener("abort",f)},u=()=>{n(),l()},f=()=>{s(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",u),r.addEventListener("error",f),r.addEventListener("abort",f)});Vm.set(r,e)}let Lm={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return Vm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||QE.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return is(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function v2(r){Lm=r(Lm)}function E2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(bm(this),e,...n);return QE.set(s,e.sort?e.sort():[e]),is(s)}:g2().includes(r)?function(...e){return r.apply(bm(this),e),is(YE.get(this))}:function(...e){return is(r.apply(bm(this),e))}}function T2(r){return typeof r=="function"?E2(r):(r instanceof IDBTransaction&&_2(r),m2(r,p2())?new Proxy(r,Lm):r)}function is(r){if(r instanceof IDBRequest)return y2(r);if(Tm.has(r))return Tm.get(r);const e=T2(r);return e!==r&&(Tm.set(r,e),pp.set(e,r)),e}const bm=r=>pp.get(r);function b2(r,e,{blocked:n,upgrade:s,blocking:l,terminated:u}={}){const f=indexedDB.open(r,e),m=is(f);return s&&f.addEventListener("upgradeneeded",p=>{s(is(f.result),p.oldVersion,p.newVersion,is(f.transaction),p)}),n&&f.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),l&&p.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const S2=["get","getKey","getAll","getAllKeys","count"],A2=["put","add","delete","clear"],Sm=new Map;function $v(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Sm.get(e))return Sm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,l=A2.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(l||S2.includes(n)))return;const u=async function(f,...m){const p=this.transaction(f,l?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),l&&p.done]))[0]};return Sm.set(e,u),u}v2(r=>({...r,get:(e,n,s)=>$v(e,n)||r.get(e,n,s),has:(e,n)=>!!$v(e,n)||r.has(e,n)}));class w2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x2(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function x2(r){return r.getComponent()?.type==="VERSION"}const Pm="@firebase/app",Jv="0.14.6";const cr=new mp("@firebase/app"),R2="@firebase/app-compat",C2="@firebase/analytics-compat",N2="@firebase/analytics",I2="@firebase/app-check-compat",D2="@firebase/app-check",O2="@firebase/auth",M2="@firebase/auth-compat",V2="@firebase/database",L2="@firebase/data-connect",P2="@firebase/database-compat",j2="@firebase/functions",k2="@firebase/functions-compat",U2="@firebase/installations",z2="@firebase/installations-compat",B2="@firebase/messaging",q2="@firebase/messaging-compat",H2="@firebase/performance",F2="@firebase/performance-compat",G2="@firebase/remote-config",Y2="@firebase/remote-config-compat",Q2="@firebase/storage",K2="@firebase/storage-compat",X2="@firebase/firestore",$2="@firebase/ai",J2="@firebase/firestore-compat",Z2="firebase",W2="12.6.0";const jm="[DEFAULT]",ex={[Pm]:"fire-core",[R2]:"fire-core-compat",[N2]:"fire-analytics",[C2]:"fire-analytics-compat",[D2]:"fire-app-check",[I2]:"fire-app-check-compat",[O2]:"fire-auth",[M2]:"fire-auth-compat",[V2]:"fire-rtdb",[L2]:"fire-data-connect",[P2]:"fire-rtdb-compat",[j2]:"fire-fn",[k2]:"fire-fn-compat",[U2]:"fire-iid",[z2]:"fire-iid-compat",[B2]:"fire-fcm",[q2]:"fire-fcm-compat",[H2]:"fire-perf",[F2]:"fire-perf-compat",[G2]:"fire-rc",[Y2]:"fire-rc-compat",[Q2]:"fire-gcs",[K2]:"fire-gcs-compat",[X2]:"fire-fst",[J2]:"fire-fst-compat",[$2]:"fire-vertex","fire-js":"fire-js",[Z2]:"fire-js-all"};const Th=new Map,tx=new Map,km=new Map;function Zv(r,e){try{r.container.addComponent(e)}catch(n){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function fl(r){const e=r.name;if(km.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;km.set(e,r);for(const n of Th.values())Zv(n,r);for(const n of tx.values())Zv(n,r);return!0}function gp(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function jn(r){return r==null?!1:r.settings!==void 0}const nx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},rs=new cu("app","Firebase",nx);class ix{constructor(e,n,s){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ea("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw rs.create("app-deleted",{appName:this._name})}}const Al=W2;function KE(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s={name:jm,automaticDataCollectionEnabled:!0,...e},l=s.name;if(typeof l!="string"||!l)throw rs.create("bad-app-name",{appName:String(l)});if(n||(n=qE()),!n)throw rs.create("no-options");const u=Th.get(l);if(u){if(Ws(n,u.options)&&Ws(s,u.config))return u;throw rs.create("duplicate-app",{appName:l})}const f=new u2(l);for(const p of km.values())f.addComponent(p);const m=new ix(n,s,f);return Th.set(l,m),m}function XE(r=jm){const e=Th.get(r);if(!e&&r===jm&&qE())return KE();if(!e)throw rs.create("no-app",{appName:r});return e}function ss(r,e,n){let s=ex[r]??r;n&&(s+=`-${n}`);const l=s.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${s}" with version "${e}":`];l&&f.push(`library name "${s}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(f.join(" "));return}fl(new ea(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}const rx="firebase-heartbeat-database",sx=1,Zo="firebase-heartbeat-store";let Am=null;function $E(){return Am||(Am=b2(rx,sx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Zo)}catch(n){console.warn(n)}}}}).catch(r=>{throw rs.create("idb-open",{originalErrorMessage:r.message})})),Am}async function ax(r){try{const n=(await $E()).transaction(Zo),s=await n.objectStore(Zo).get(JE(r));return await n.done,s}catch(e){if(e instanceof gr)cr.warn(e.message);else{const n=rs.create("idb-get",{originalErrorMessage:e?.message});cr.warn(n.message)}}}async function Wv(r,e){try{const s=(await $E()).transaction(Zo,"readwrite");await s.objectStore(Zo).put(e,JE(r)),await s.done}catch(n){if(n instanceof gr)cr.warn(n.message);else{const s=rs.create("idb-set",{originalErrorMessage:n?.message});cr.warn(s.message)}}}function JE(r){return`${r.name}!${r.options.appId}`}const lx=1024,ox=30;class ux{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new hx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=e0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats.length>ox){const l=fx(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){cr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=e0(),{heartbeatsToSend:n,unsentEntries:s}=cx(this._heartbeatsCache.heartbeats),l=Eh(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(e){return cr.warn(e),""}}}function e0(){return new Date().toISOString().substring(0,10)}function cx(r,e=lx){const n=[];let s=r.slice();for(const l of r){const u=n.find(f=>f.agent===l.agent);if(u){if(u.dates.push(l.date),t0(n)>e){u.dates.pop();break}}else if(n.push({agent:l.agent,dates:[l.date]}),t0(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class hx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Jw()?Zw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ax(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const s=await this.read();return Wv(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function t0(r){return Eh(JSON.stringify({version:2,heartbeats:r})).length}function fx(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}function dx(r){fl(new ea("platform-logger",e=>new w2(e),"PRIVATE")),fl(new ea("heartbeat",e=>new ux(e),"PRIVATE")),ss(Pm,Jv,r),ss(Pm,Jv,"esm2020"),ss("fire-js","")}dx("");var mx="firebase",px="12.6.0";ss(mx,px,"app");function ZE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gx=ZE,WE=new cu("auth","Firebase",ZE());const bh=new mp("@firebase/auth");function yx(r,...e){bh.logLevel<=Me.WARN&&bh.warn(`Auth (${Al}): ${r}`,...e)}function oh(r,...e){bh.logLevel<=Me.ERROR&&bh.error(`Auth (${Al}): ${r}`,...e)}function ni(r,...e){throw yp(r,...e)}function Di(r,...e){return yp(r,...e)}function eT(r,e,n){const s={...gx(),[e]:n};return new cu("auth","Firebase",s).create(e,{appName:r.name})}function ar(r){return eT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return WE.create(r,...e)}function ye(r,e,...n){if(!r)throw yp(e,...n)}function ir(r){const e="INTERNAL ASSERTION FAILED: "+r;throw oh(e),new Error(e)}function hr(r,e){r||ir(e)}function Um(){return typeof self<"u"&&self.location?.href||""}function _x(){return n0()==="http:"||n0()==="https:"}function n0(){return typeof self<"u"&&self.location?.protocol||null}function vx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_x()||Qw()||"connection"in navigator)?navigator.onLine:!0}function Ex(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class fu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hr(n>e,"Short delay should be less than long delay!"),this.isMobile=Fw()||Kw()}get(){return vx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _p(r,e){hr(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class tT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Tx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const bx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Sx=new fu(3e4,6e4);function ms(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function ps(r,e,n,s,l={}){return nT(r,l,async()=>{let u={},f={};s&&(e==="GET"?f=s:u={body:JSON.stringify(s)});const m=hu({key:r.config.apiKey,...f}).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const g={method:e,headers:p,...u};return Yw()||(g.referrerPolicy="no-referrer"),r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(g.credentials="include"),tT.fetch()(await iT(r,r.config.apiHost,n,m),g)})}async function nT(r,e,n){r._canInitEmulator=!1;const s={...Tx,...e};try{const l=new wx(r),u=await Promise.race([n(),l.promise]);l.clearNetworkTimeout();const f=await u.json();if("needConfirmation"in f)throw Wc(r,"account-exists-with-different-credential",f);if(u.ok&&!("errorMessage"in f))return f;{const m=u.ok?f.errorMessage:f.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wc(r,"credential-already-in-use",f);if(p==="EMAIL_EXISTS")throw Wc(r,"email-already-in-use",f);if(p==="USER_DISABLED")throw Wc(r,"user-disabled",f);const T=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw eT(r,T,g);ni(r,T)}}catch(l){if(l instanceof gr)throw l;ni(r,"network-request-failed",{message:String(l)})}}async function du(r,e,n,s,l={}){const u=await ps(r,e,n,s,l);return"mfaPendingCredential"in u&&ni(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function iT(r,e,n,s){const l=`${e}${n}?${s}`,u=r,f=u.config.emulator?_p(r.config,l):`${r.config.apiScheme}://${l}`;return bx.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(f).toString():f}function Ax(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class wx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Di(this.auth,"network-request-failed")),Sx.get())})}}function Wc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const l=Di(r,e,s);return l.customData._tokenResponse=n,l}function i0(r){return r!==void 0&&r.enterprise!==void 0}class xx{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Ax(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Rx(r,e){return ps(r,"GET","/v2/recaptchaConfig",ms(r,e))}async function Cx(r,e){return ps(r,"POST","/v1/accounts:delete",e)}async function Sh(r,e){return ps(r,"POST","/v1/accounts:lookup",e)}function Yo(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Nx(r,e=!1){const n=Ut(r),s=await n.getIdToken(e),l=vp(s);ye(l&&l.exp&&l.auth_time&&l.iat,n.auth,"internal-error");const u=typeof l.firebase=="object"?l.firebase:void 0,f=u?.sign_in_provider;return{claims:l,token:s,authTime:Yo(wm(l.auth_time)),issuedAtTime:Yo(wm(l.iat)),expirationTime:Yo(wm(l.exp)),signInProvider:f||null,signInSecondFactor:u?.sign_in_second_factor||null}}function wm(r){return Number(r)*1e3}function vp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return oh("JWT malformed, contained fewer than 3 sections"),null;try{const l=zE(n);return l?JSON.parse(l):(oh("Failed to decode base64 JWT payload"),null)}catch(l){return oh("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const e=vp(r);return ye(e,"internal-error"),ye(typeof e.exp<"u","internal-error"),ye(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Wo(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof gr&&Ix(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function Ix({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class Dx{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const s=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class zm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ah(r){const e=r.auth,n=await r.getIdToken(),s=await Wo(r,Sh(e,{idToken:n}));ye(s?.users.length,e,"internal-error");const l=s.users[0];r._notifyReloadListener(l);const u=l.providerUserInfo?.length?rT(l.providerUserInfo):[],f=Mx(r.providerData,u),m=r.isAnonymous,p=!(r.email&&l.passwordHash)&&!f?.length,g=m?p:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:g};Object.assign(r,T)}async function Ox(r){const e=Ut(r);await Ah(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Mx(r,e){return[...r.filter(s=>!e.some(l=>l.providerId===s.providerId)),...e]}function rT(r){return r.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}async function Vx(r,e){const n=await nT(r,{},async()=>{const s=hu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:l,apiKey:u}=r.config,f=await iT(r,l,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(p.credentials="include"),tT.fetch()(f,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Lx(r,e){return ps(r,"POST","/v2/accounts:revokeToken",ms(r,e))}class ll{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ye(e.idToken,"internal-error"),ye(typeof e.idToken<"u","internal-error"),ye(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):r0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ye(e.length!==0,"internal-error");const n=r0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ye(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:l,expiresIn:u}=await Vx(e,n);this.updateTokensAndExpiration(s,l,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:l,expirationTime:u}=n,f=new ll;return s&&(ye(typeof s=="string","internal-error",{appName:e}),f.refreshToken=s),l&&(ye(typeof l=="string","internal-error",{appName:e}),f.accessToken=l),u&&(ye(typeof u=="number","internal-error",{appName:e}),f.expirationTime=u),f}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ll,this.toJSON())}_performRefresh(){return ir("not implemented")}}function Jr(r,e){ye(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class ti{constructor({uid:e,auth:n,stsTokenManager:s,...l}){this.providerId="firebase",this.proactiveRefresh=new Dx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new zm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const n=await Wo(this,this.stsTokenManager.getToken(this.auth,e));return ye(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Nx(this,e)}reload(){return Ox(this)}_assign(e){this!==e&&(ye(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ti({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ye(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ah(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(jn(this.auth.app))return Promise.reject(ar(this.auth));const e=await this.getIdToken();return await Wo(this,Cx(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const s=n.displayName??void 0,l=n.email??void 0,u=n.phoneNumber??void 0,f=n.photoURL??void 0,m=n.tenantId??void 0,p=n._redirectEventId??void 0,g=n.createdAt??void 0,T=n.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:j,providerData:G,stsTokenManager:X}=n;ye(b&&X,e,"internal-error");const H=ll.fromJSON(this.name,X);ye(typeof b=="string",e,"internal-error"),Jr(s,e.name),Jr(l,e.name),ye(typeof x=="boolean",e,"internal-error"),ye(typeof j=="boolean",e,"internal-error"),Jr(u,e.name),Jr(f,e.name),Jr(m,e.name),Jr(p,e.name),Jr(g,e.name),Jr(T,e.name);const te=new ti({uid:b,auth:e,email:l,emailVerified:x,displayName:s,isAnonymous:j,photoURL:f,phoneNumber:u,tenantId:m,stsTokenManager:H,createdAt:g,lastLoginAt:T});return G&&Array.isArray(G)&&(te.providerData=G.map(ne=>({...ne}))),p&&(te._redirectEventId=p),te}static async _fromIdTokenResponse(e,n,s=!1){const l=new ll;l.updateFromServerResponse(n);const u=new ti({uid:n.localId,auth:e,stsTokenManager:l,isAnonymous:s});return await Ah(u),u}static async _fromGetAccountInfoResponse(e,n,s){const l=n.users[0];ye(l.localId!==void 0,"internal-error");const u=l.providerUserInfo!==void 0?rT(l.providerUserInfo):[],f=!(l.email&&l.passwordHash)&&!u?.length,m=new ll;m.updateFromIdToken(s);const p=new ti({uid:l.localId,auth:e,stsTokenManager:m,isAnonymous:f}),g={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:u,metadata:new zm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!u?.length};return Object.assign(p,g),p}}const s0=new Map;function rr(r){hr(r instanceof Function,"Expected a class definition");let e=s0.get(r);return e?(hr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,s0.set(r,e),e)}class sT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}sT.type="NONE";const a0=sT;function uh(r,e,n){return`firebase:${r}:${e}:${n}`}class ol{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:l,name:u}=this.auth;this.fullUserKey=uh(this.userKey,l.apiKey,u),this.fullPersistenceKey=uh("persistence",l.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Sh(this.auth,{idToken:e}).catch(()=>{});return n?ti._fromGetAccountInfoResponse(this.auth,n,e):null}return ti._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new ol(rr(a0),e,s);const l=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=l[0]||rr(a0);const f=uh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const T=await g._get(f);if(T){let b;if(typeof T=="string"){const x=await Sh(e,{idToken:T}).catch(()=>{});if(!x)break;b=await ti._fromGetAccountInfoResponse(e,x,T)}else b=ti._fromJSON(e,T);g!==u&&(m=b),u=g;break}}catch{}const p=l.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new ol(u,e,s):(u=p[0],m&&await u._set(f,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(f)}catch{}})),new ol(u,e,s))}}function l0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(uT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hT(e))return"Blackberry";if(fT(e))return"Webos";if(lT(e))return"Safari";if((e.includes("chrome/")||oT(e))&&!e.includes("edge/"))return"Chrome";if(cT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if(s?.length===2)return s[1]}return"Other"}function aT(r=Wt()){return/firefox\//i.test(r)}function lT(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function oT(r=Wt()){return/crios\//i.test(r)}function uT(r=Wt()){return/iemobile/i.test(r)}function cT(r=Wt()){return/android/i.test(r)}function hT(r=Wt()){return/blackberry/i.test(r)}function fT(r=Wt()){return/webos/i.test(r)}function Ep(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Px(r=Wt()){return Ep(r)&&!!window.navigator?.standalone}function jx(){return Xw()&&document.documentMode===10}function dT(r=Wt()){return Ep(r)||cT(r)||fT(r)||hT(r)||/windows phone/i.test(r)||uT(r)}function mT(r,e=[]){let n;switch(r){case"Browser":n=l0(Wt());break;case"Worker":n=`${l0(Wt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${s}`}class kx{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((f,m)=>{try{const p=e(u);f(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const l of n)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}async function Ux(r,e={}){return ps(r,"GET","/v2/passwordPolicy",ms(r,e))}const zx=6;class Bx{constructor(e){const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??zx,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),l&&(n.meetsMaxPasswordLength=e.length<=l)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let l=0;l<e.length;l++)s=e.charAt(l),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,l,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}class qx{constructor(e,n,s,l){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new o0(this),this.idTokenSubscription=new o0(this),this.beforeStateQueue=new kx(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WE,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=rr(n)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ol.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Sh(this,{idToken:e}),s=await ti._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(jn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let s=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=this.redirectUser?._redirectEventId,f=s?._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&m?.user&&(s=m.user,l=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(s)}catch(u){s=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return ye(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ah(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ex()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(jn(this.app))return Promise.reject(ar(this));const n=e?Ut(e):null;return n&&ye(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ye(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return jn(this.app)?Promise.reject(ar(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return jn(this.app)?Promise.reject(ar(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(rr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Ux(this),n=new Bx(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new cu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await Lx(this,s)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&rr(e)||this._popupRedirectResolver;ye(n,this,"argument-error"),this.redirectPersistenceManager=await ol.create(this,[rr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,l){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let f=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(ye(m,this,"internal-error"),m.then(()=>{f||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,l);return()=>{f=!0,p()}}else{const p=e.addObserver(n);return()=>{f=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ye(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();n&&(e["X-Firebase-Client"]=n);const s=await this._getAppCheckToken();return s&&(e["X-Firebase-AppCheck"]=s),e}async _getAppCheckToken(){if(jn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yx(`Error while retrieving App Check token: ${e.error}`),e?.token}}function aa(r){return Ut(r)}class o0{constructor(e){this.auth=e,this.observer=null,this.addObserver=i2(n=>this.observer=n)}get next(){return ye(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Gh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Hx(r){Gh=r}function pT(r){return Gh.loadJS(r)}function Fx(){return Gh.recaptchaEnterpriseScript}function Gx(){return Gh.gapiScript}function Yx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class Qx{constructor(){this.enterprise=new Kx}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class Kx{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const Xx="recaptcha-enterprise",gT="NO_RECAPTCHA";class $x{constructor(e){this.type=Xx,this.auth=aa(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(f,m)=>{Rx(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new xx(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,f(g.siteKey)}}).catch(p=>{m(p)})})}function l(u,f,m){const p=window.grecaptcha;i0(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{f(g)}).catch(()=>{f(gT)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Qx().execute("siteKey",{action:"verify"}):new Promise((u,f)=>{s(this.auth).then(m=>{if(!n&&i0(window.grecaptcha))l(m,u,f);else{if(typeof window>"u"){f(new Error("RecaptchaVerifier is only supported in browser"));return}let p=Fx();p.length!==0&&(p+=m),pT(p).then(()=>{l(m,u,f)}).catch(g=>{f(g)})}}).catch(m=>{f(m)})})}}async function u0(r,e,n,s=!1,l=!1){const u=new $x(r);let f;if(l)f=gT;else try{f=await u.verify(n)}catch{f=await u.verify(n,!0)}const m={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:f,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:f}):Object.assign(m,{captchaResponse:f}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function Bm(r,e,n,s,l){if(r._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await u0(r,e,n,n==="getOobCode");return s(r,u)}else return s(r,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await u0(r,e,n,n==="getOobCode");return s(r,f)}else return Promise.reject(u)})}function Jx(r,e){const n=gp(r,"auth");if(n.isInitialized()){const l=n.getImmediate(),u=n.getOptions();if(Ws(u,e??{}))return l;ni(l,"already-initialized")}return n.initialize({options:e})}function Zx(r,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(rr);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e?.popupRedirectResolver)}function Wx(r,e,n){const s=aa(r);ye(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const l=!1,u=yT(e),{host:f,port:m}=eR(e),p=m===null?"":`:${m}`,g={url:`${u}//${f}${p}/`},T=Object.freeze({host:f,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!s._canInitEmulator){ye(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),ye(Ws(g,s.config.emulator)&&Ws(T,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=T,s.settings.appVerificationDisabledForTesting=!0,Sl(f)?(FE(`${u}//${f}${p}`),GE("Auth",!0)):tR()}function yT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function eR(r){const e=yT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const u=l[1];return{host:u,port:c0(s.substr(u.length+1))}}else{const[u,f]=s.split(":");return{host:u,port:c0(f)}}}function c0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function tR(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Tp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,n){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}}async function nR(r,e){return ps(r,"POST","/v1/accounts:signUp",e)}async function iR(r,e){return du(r,"POST","/v1/accounts:signInWithPassword",ms(r,e))}async function rR(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}async function sR(r,e){return du(r,"POST","/v1/accounts:signInWithEmailLink",ms(r,e))}class eu extends Tp{constructor(e,n,s,l=null){super("password",s),this._email=e,this._password=n,this._tenantId=l}static _fromEmailAndPassword(e,n){return new eu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new eu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,n,"signInWithPassword",iR);case"emailLink":return rR(e,{email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Bm(e,s,"signUpPassword",nR);case"emailLink":return sR(e,{idToken:n,email:this._email,oobCode:this._password});default:ni(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ul(r,e){return du(r,"POST","/v1/accounts:signInWithIdp",ms(r,e))}const aR="http://localhost";class ta extends Tp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new ta(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ni("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:l,...u}=n;if(!s||!l)return null;const f=new ta(s,l);return f.idToken=u.idToken||void 0,f.accessToken=u.accessToken||void 0,f.secret=u.secret,f.nonce=u.nonce,f.pendingToken=u.pendingToken||null,f}_getIdTokenResponse(e){const n=this.buildRequest();return ul(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,ul(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ul(e,n)}buildRequest(){const e={requestUri:aR,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hu(n)}return e}}function lR(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function oR(r){const e=ko(Uo(r)).link,n=e?ko(Uo(e)).deep_link_id:null,s=ko(Uo(r)).deep_link_id;return(s?ko(Uo(s)).link:null)||s||n||e||r}class bp{constructor(e){const n=ko(Uo(e)),s=n.apiKey??null,l=n.oobCode??null,u=lR(n.mode??null);ye(s&&l&&u,"argument-error"),this.apiKey=s,this.operation=u,this.code=l,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=oR(e);try{return new bp(n)}catch{return null}}}class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return eu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=bp.parseLink(n);return ye(s,"argument-error"),eu._fromEmailAndCode(e,s.code,s.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class _T{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mu extends _T{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Zr extends mu{constructor(){super("facebook.com")}static credential(e){return ta._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zr.credential(e.oauthAccessToken)}catch{return null}}}Zr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Zr.PROVIDER_ID="facebook.com";class Wr extends mu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return ta._fromParams({providerId:Wr.PROVIDER_ID,signInMethod:Wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Wr.credentialFromTaggedObject(e)}static credentialFromError(e){return Wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Wr.credential(n,s)}catch{return null}}}Wr.GOOGLE_SIGN_IN_METHOD="google.com";Wr.PROVIDER_ID="google.com";class es extends mu{constructor(){super("github.com")}static credential(e){return ta._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return es.credentialFromTaggedObject(e)}static credentialFromError(e){return es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return es.credential(e.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";class ts extends mu{constructor(){super("twitter.com")}static credential(e,n){return ta._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return ts.credential(n,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";async function uR(r,e){return du(r,"POST","/v1/accounts:signUp",ms(r,e))}class na{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,l=!1){const u=await ti._fromIdTokenResponse(e,s,l),f=h0(s);return new na({user:u,providerId:f,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const l=h0(s);return new na({user:e,providerId:l,_tokenResponse:s,operationType:n})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class wh extends gr{constructor(e,n,s,l){super(n.code,n.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,wh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,l){return new wh(e,n,s,l)}}function vT(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?wh._fromErrorAndOperation(r,u,e,s):u})}async function cR(r,e,n=!1){const s=await Wo(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return na._forOperation(r,"link",s)}async function hR(r,e,n=!1){const{auth:s}=r;if(jn(s.app))return Promise.reject(ar(s));const l="reauthenticate";try{const u=await Wo(r,vT(s,l,e,r),n);ye(u.idToken,s,"internal-error");const f=vp(u.idToken);ye(f,s,"internal-error");const{sub:m}=f;return ye(r.uid===m,s,"user-mismatch"),na._forOperation(r,l,u)}catch(u){throw u?.code==="auth/user-not-found"&&ni(s,"user-mismatch"),u}}async function ET(r,e,n=!1){if(jn(r.app))return Promise.reject(ar(r));const s="signIn",l=await vT(r,s,e),u=await na._fromIdTokenResponse(r,s,l);return n||await r._updateCurrentUser(u.user),u}async function fR(r,e){return ET(aa(r),e)}async function TT(r){const e=aa(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function dR(r,e,n){if(jn(r.app))return Promise.reject(ar(r));const s=aa(r),f=await Bm(s,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uR).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&TT(r),p}),m=await na._fromIdTokenResponse(s,"signIn",f);return await s._updateCurrentUser(m.user),m}function mR(r,e,n){return jn(r.app)?Promise.reject(ar(r)):fR(Ut(r),wl.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&TT(r),s})}function pR(r,e,n,s){return Ut(r).onIdTokenChanged(e,n,s)}function gR(r,e,n){return Ut(r).beforeAuthStateChanged(e,n)}function Sp(r,e,n,s){return Ut(r).onAuthStateChanged(e,n,s)}function yR(r){return Ut(r).signOut()}const xh="__sak";class bT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(xh,"1"),this.storage.removeItem(xh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const _R=1e3,vR=10;class ST extends bT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=dT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),l=this.localCache[n];s!==l&&e(n,l,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((f,m,p)=>{this.notifyListeners(f,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const l=()=>{const f=this.storage.getItem(s);!n&&this.localCache[s]===f||this.notifyListeners(s,f)},u=this.storage.getItem(s);jx()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(l,vR):l()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},_R)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}ST.type="LOCAL";const ER=ST;class AT extends bT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}AT.type="SESSION";const wT=AT;function TR(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}class Yh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(l=>l.isListeningto(e));if(n)return n;const s=new Yh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:l,data:u}=n.data,f=this.handlersMap[l];if(!f?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const m=Array.from(f).map(async g=>g(n.origin,u)),p=await TR(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yh.receivers=[];function Ap(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}class bR{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let u,f;return new Promise((m,p)=>{const g=Ap("",20);l.port1.start();const T=setTimeout(()=>{p(new Error("unsupported_event"))},s);f={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===g)switch(x.data.status){case"ack":clearTimeout(T),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(T),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(f),l.port1.addEventListener("message",f.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[l.port2])}).finally(()=>{f&&this.removeMessageHandler(f)})}}function Oi(){return window}function SR(r){Oi().location.href=r}function xT(){return typeof Oi().WorkerGlobalScope<"u"&&typeof Oi().importScripts=="function"}async function AR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function wR(){return navigator?.serviceWorker?.controller||null}function xR(){return xT()?self:null}const RT="firebaseLocalStorageDb",RR=1,Rh="firebaseLocalStorage",CT="fbase_key";class pu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Qh(r,e){return r.transaction([Rh],e?"readwrite":"readonly").objectStore(Rh)}function CR(){const r=indexedDB.deleteDatabase(RT);return new pu(r).toPromise()}function qm(){const r=indexedDB.open(RT,RR);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(Rh,{keyPath:CT})}catch(l){n(l)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(Rh)?e(s):(s.close(),await CR(),e(await qm()))})})}async function f0(r,e,n){const s=Qh(r,!0).put({[CT]:e,value:n});return new pu(s).toPromise()}async function NR(r,e){const n=Qh(r,!1).get(e),s=await new pu(n).toPromise();return s===void 0?null:s.value}function d0(r,e){const n=Qh(r,!0).delete(e);return new pu(n).toPromise()}const IR=800,DR=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>DR)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yh._getInstance(xR()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AR(),!this.activeServiceWorker)return;this.sender=new bR(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||wR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await qm();return await f0(e,xh,"1"),await d0(e,xh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>f0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>NR(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>d0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(l=>{const u=Qh(l,!1).getAll();return new pu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:l,value:u}of e)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(u)&&(this.notifyListeners(l,u),n.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),n.push(l));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const l of Array.from(s))l(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const OR=NT;new fu(3e4,6e4);function MR(r,e){return e?rr(e):(ye(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends Tp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ul(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ul(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ul(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function VR(r){return ET(r.auth,new wp(r),r.bypassAuthState)}function LR(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),hR(n,new wp(r),r.bypassAuthState)}async function PR(r){const{auth:e,user:n}=r;return ye(n,e,"internal-error"),cR(n,new wp(r),r.bypassAuthState)}class IT{constructor(e,n,s,l,u=!1){this.auth=e,this.resolver=s,this.user=l,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:l,tenantId:u,error:f,type:m}=e;if(f){this.reject(f);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return VR;case"linkViaPopup":case"linkViaRedirect":return PR;case"reauthViaPopup":case"reauthViaRedirect":return LR;default:ni(this.auth,"internal-error")}}resolve(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const jR=new fu(2e3,1e4);class al extends IT{constructor(e,n,s,l,u){super(e,n,l,u),this.provider=s,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ye(e,this.auth,"internal-error"),e}async onExecution(){hr(this.filter.length===1,"Popup operations only handle one event");const e=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Di(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Di(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Di(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,jR.get())};e()}}al.currentPopupAction=null;const kR="pendingRedirect",ch=new Map;class UR extends IT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ch.get(this.auth._key());if(!e){try{const s=await zR(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ch.set(this.auth._key(),e)}return this.bypassAuthState||ch.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function zR(r,e){const n=HR(e),s=qR(r);if(!await s._isAvailable())return!1;const l=await s._get(n)==="true";return await s._remove(n),l}function BR(r,e){ch.set(r._key(),e)}function qR(r){return rr(r._redirectPersistence)}function HR(r){return uh(kR,r.config.apiKey,r.name)}async function FR(r,e,n=!1){if(jn(r.app))return Promise.reject(ar(r));const s=aa(r),l=MR(s,e),f=await new UR(s,l,n).execute();return f&&!n&&(delete f.user._redirectEventId,await s._persistUserIfCurrent(f.user),await s._setRedirectUser(null,e)),f}const GR=600*1e3;class YR{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!QR(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){if(e.error&&!DT(e)){const s=e.error.code?.split("auth/")[1]||"internal-error";n.onError(Di(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=GR&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(e))}saveEventToCache(e){this.cachedEventUids.add(m0(e)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function DT({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function QR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(r);default:return!1}}async function KR(r,e={}){return ps(r,"GET","/v1/projects",e)}const XR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$R=/^https?/;async function JR(r){if(r.config.emulator)return;const{authorizedDomains:e}=await KR(r);for(const n of e)try{if(ZR(n))return}catch{}ni(r,"unauthorized-domain")}function ZR(r){const e=Um(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const f=new URL(r);return f.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&f.hostname===s}if(!$R.test(n))return!1;if(XR.test(r))return s===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}const WR=new fu(3e4,6e4);function p0(){const r=Oi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function eC(r){return new Promise((e,n)=>{function s(){p0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{p0(),n(Di(r,"network-request-failed"))},timeout:WR.get()})}if(Oi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Oi().gapi?.load)s();else{const l=Yx("iframefcb");return Oi()[l]=()=>{gapi.load?s():n(Di(r,"network-request-failed"))},pT(`${Gx()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw hh=null,e})}let hh=null;function tC(r){return hh=hh||eC(r),hh}const nC=new fu(5e3,15e3),iC="__/auth/iframe",rC="emulator/auth/iframe",sC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},aC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function lC(r){const e=r.config;ye(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?_p(e,rC):`https://${r.config.authDomain}/${iC}`,s={apiKey:e.apiKey,appName:r.name,v:Al},l=aC.get(r.config.apiHost);l&&(s.eid=l);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${hu(s).slice(1)}`}async function oC(r){const e=await tC(r),n=Oi().gapi;return ye(n,r,"internal-error"),e.open({where:document.body,url:lC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:sC,dontclear:!0},s=>new Promise(async(l,u)=>{await s.restyle({setHideOnLeave:!1});const f=Di(r,"network-request-failed"),m=Oi().setTimeout(()=>{u(f)},nC.get());function p(){Oi().clearTimeout(m),l(s)}s.ping(p).then(p,()=>{u(f)})}))}const uC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},cC=500,hC=600,fC="_blank",dC="http://localhost";class g0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mC(r,e,n,s=cC,l=hC){const u=Math.max((window.screen.availHeight-l)/2,0).toString(),f=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p={...uC,width:s.toString(),height:l.toString(),top:u,left:f},g=Wt().toLowerCase();n&&(m=oT(g)?fC:n),aT(g)&&(e=e||dC,p.scrollbars="yes");const T=Object.entries(p).reduce((x,[j,G])=>`${x}${j}=${G},`,"");if(Px(g)&&m!=="_self")return pC(e||"",m),new g0(null);const b=window.open(e||"",m,T);ye(b,r,"popup-blocked");try{b.focus()}catch{}return new g0(b)}function pC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}const gC="__/auth/handler",yC="emulator/auth/handler",_C=encodeURIComponent("fac");async function y0(r,e,n,s,l,u){ye(r.config.authDomain,r,"auth-domain-config-required"),ye(r.config.apiKey,r,"invalid-api-key");const f={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:Al,eventId:l};if(e instanceof _T){e.setDefaultLanguage(r.languageCode),f.providerId=e.providerId||"",n2(e.getCustomParameters())||(f.customParameters=JSON.stringify(e.getCustomParameters()));for(const[T,b]of Object.entries({}))f[T]=b}if(e instanceof mu){const T=e.getScopes().filter(b=>b!=="");T.length>0&&(f.scopes=T.join(","))}r.tenantId&&(f.tid=r.tenantId);const m=f;for(const T of Object.keys(m))m[T]===void 0&&delete m[T];const p=await r._getAppCheckToken(),g=p?`#${_C}=${encodeURIComponent(p)}`:"";return`${vC(r)}?${hu(m).slice(1)}${g}`}function vC({config:r}){return r.emulator?_p(r,yC):`https://${r.authDomain}/${gC}`}const xm="webStorageSupport";class EC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=wT,this._completeRedirectFn=FR,this._overrideRedirectResult=BR}async _openPopup(e,n,s,l){hr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const u=await y0(e,n,s,Um(),l);return mC(e,u,Ap())}async _openRedirect(e,n,s,l){await this._originValidation(e);const u=await y0(e,n,s,Um(),l);return SR(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:l,promise:u}=this.eventManagers[n];return l?Promise.resolve(l):(hr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await oC(e),s=new YR(e);return n.register("authEvent",l=>(ye(l?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(xm,{type:xm},l=>{const u=l?.[0]?.[xm];u!==void 0&&n(!!u),ni(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=JR(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return dT()||lT()||Ep()}}const TC=EC;var _0="@firebase/auth",v0="1.11.1";class bC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ye(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function SC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AC(r){fl(new ea("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),l=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:f,authDomain:m}=s.options;ye(f&&!f.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:f,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mT(r)},g=new qx(s,l,u,p);return Zx(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),fl(new ea("auth-internal",e=>{const n=aa(e.getProvider("auth").getImmediate());return(s=>new bC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ss(_0,v0,SC(r)),ss(_0,v0,"esm2020")}const wC=300,xC=HE("authIdTokenMaxAge")||wC;let E0=null;const RC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>xC)return;const l=n?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function CC(r=XE()){const e=gp(r,"auth");if(e.isInitialized())return e.getImmediate();const n=Jx(r,{popupRedirectResolver:TC,persistence:[OR,ER,wT]}),s=HE("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const f=RC(u.toString());gR(n,f,()=>f(n.currentUser)),pR(n,m=>f(m))}}const l=BE("auth");return l&&Wx(n,`http://${l}`),n}function NC(){return document.getElementsByTagName("head")?.[0]??document}Hx({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=l=>{const u=Di("internal-error");u.customData=l,n(u)},s.type="text/javascript",s.charset="UTF-8",NC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AC("Browser");var T0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var as,OT;(function(){var r;function e(w,R){function C(){}C.prototype=R.prototype,w.F=R.prototype,w.prototype=new C,w.prototype.constructor=w,w.D=function(V,D,L){for(var N=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)N[rt-2]=arguments[rt];return R.prototype[D].apply(V,N)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(s,n),s.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,R,C){C||(C=0);const V=Array(16);if(typeof R=="string")for(var D=0;D<16;++D)V[D]=R.charCodeAt(C++)|R.charCodeAt(C++)<<8|R.charCodeAt(C++)<<16|R.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=R[C++]|R[C++]<<8|R[C++]<<16|R[C++]<<24;R=w.g[0],C=w.g[1],D=w.g[2];let L=w.g[3],N;N=R+(L^C&(D^L))+V[0]+3614090360&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(D^R&(C^D))+V[1]+3905402710&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(C^L&(R^C))+V[2]+606105819&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(R^D&(L^R))+V[3]+3250441966&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(L^C&(D^L))+V[4]+4118548399&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(D^R&(C^D))+V[5]+1200080426&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(C^L&(R^C))+V[6]+2821735955&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(R^D&(L^R))+V[7]+4249261313&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(L^C&(D^L))+V[8]+1770035416&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(D^R&(C^D))+V[9]+2336552879&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(C^L&(R^C))+V[10]+4294925233&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(R^D&(L^R))+V[11]+2304563134&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(L^C&(D^L))+V[12]+1804603682&4294967295,R=C+(N<<7&4294967295|N>>>25),N=L+(D^R&(C^D))+V[13]+4254626195&4294967295,L=R+(N<<12&4294967295|N>>>20),N=D+(C^L&(R^C))+V[14]+2792965006&4294967295,D=L+(N<<17&4294967295|N>>>15),N=C+(R^D&(L^R))+V[15]+1236535329&4294967295,C=D+(N<<22&4294967295|N>>>10),N=R+(D^L&(C^D))+V[1]+4129170786&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(R^C))+V[6]+3225465664&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(L^R))+V[11]+643717713&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(D^L))+V[0]+3921069994&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(C^D))+V[5]+3593408605&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(R^C))+V[10]+38016083&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(L^R))+V[15]+3634488961&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(D^L))+V[4]+3889429448&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(C^D))+V[9]+568446438&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(R^C))+V[14]+3275163606&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(L^R))+V[3]+4107603335&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(D^L))+V[8]+1163531501&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(D^L&(C^D))+V[13]+2850285829&4294967295,R=C+(N<<5&4294967295|N>>>27),N=L+(C^D&(R^C))+V[2]+4243563512&4294967295,L=R+(N<<9&4294967295|N>>>23),N=D+(R^C&(L^R))+V[7]+1735328473&4294967295,D=L+(N<<14&4294967295|N>>>18),N=C+(L^R&(D^L))+V[12]+2368359562&4294967295,C=D+(N<<20&4294967295|N>>>12),N=R+(C^D^L)+V[5]+4294588738&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^D)+V[8]+2272392833&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^C)+V[11]+1839030562&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^R)+V[14]+4259657740&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^L)+V[1]+2763975236&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^D)+V[4]+1272893353&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^C)+V[7]+4139469664&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^R)+V[10]+3200236656&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^L)+V[13]+681279174&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^D)+V[0]+3936430074&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^C)+V[3]+3572445317&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^R)+V[6]+76029189&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(C^D^L)+V[9]+3654602809&4294967295,R=C+(N<<4&4294967295|N>>>28),N=L+(R^C^D)+V[12]+3873151461&4294967295,L=R+(N<<11&4294967295|N>>>21),N=D+(L^R^C)+V[15]+530742520&4294967295,D=L+(N<<16&4294967295|N>>>16),N=C+(D^L^R)+V[2]+3299628645&4294967295,C=D+(N<<23&4294967295|N>>>9),N=R+(D^(C|~L))+V[0]+4096336452&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~D))+V[7]+1126891415&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~C))+V[14]+2878612391&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~R))+V[5]+4237533241&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~L))+V[12]+1700485571&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~D))+V[3]+2399980690&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~C))+V[10]+4293915773&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~R))+V[1]+2240044497&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~L))+V[8]+1873313359&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~D))+V[15]+4264355552&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~C))+V[6]+2734768916&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~R))+V[13]+1309151649&4294967295,C=D+(N<<21&4294967295|N>>>11),N=R+(D^(C|~L))+V[4]+4149444226&4294967295,R=C+(N<<6&4294967295|N>>>26),N=L+(C^(R|~D))+V[11]+3174756917&4294967295,L=R+(N<<10&4294967295|N>>>22),N=D+(R^(L|~C))+V[2]+718787259&4294967295,D=L+(N<<15&4294967295|N>>>17),N=C+(L^(D|~R))+V[9]+3951481745&4294967295,w.g[0]=w.g[0]+R&4294967295,w.g[1]=w.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+L&4294967295}s.prototype.v=function(w,R){R===void 0&&(R=w.length);const C=R-this.blockSize,V=this.C;let D=this.h,L=0;for(;L<R;){if(D==0)for(;L<=C;)l(this,w,L),L+=this.blockSize;if(typeof w=="string"){for(;L<R;)if(V[D++]=w.charCodeAt(L++),D==this.blockSize){l(this,V),D=0;break}}else for(;L<R;)if(V[D++]=w[L++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=R},s.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var R=1;R<w.length-8;++R)w[R]=0;R=this.o*8;for(var C=w.length-8;C<w.length;++C)w[C]=R&255,R/=256;for(this.v(w),w=Array(16),R=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)w[R++]=this.g[C]>>>V&255;return w};function u(w,R){var C=m;return Object.prototype.hasOwnProperty.call(C,w)?C[w]:C[w]=R(w)}function f(w,R){this.h=R;const C=[];let V=!0;for(let D=w.length-1;D>=0;D--){const L=w[D]|0;V&&L==R||(C[D]=L,V=!1)}this.g=C}var m={};function p(w){return-128<=w&&w<128?u(w,function(R){return new f([R|0],R<0?-1:0)}):new f([w|0],w<0?-1:0)}function g(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return H(g(-w));const R=[];let C=1;for(let V=0;w>=C;V++)R[V]=w/C|0,C*=4294967296;return new f(R,0)}function T(w,R){if(w.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(w.charAt(0)=="-")return H(T(w.substring(1),R));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=g(Math.pow(R,8));let V=b;for(let L=0;L<w.length;L+=8){var D=Math.min(8,w.length-L);const N=parseInt(w.substring(L,L+D),R);D<8?(D=g(Math.pow(R,D)),V=V.j(D).add(g(N))):(V=V.j(C),V=V.add(g(N)))}return V}var b=p(0),x=p(1),j=p(16777216);r=f.prototype,r.m=function(){if(X(this))return-H(this).m();let w=0,R=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);w+=(V>=0?V:4294967296+V)*R,R*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(G(this))return"0";if(X(this))return"-"+H(this).toString(w);const R=g(Math.pow(w,6));var C=this;let V="";for(;;){const D=Ee(C,R).g;C=te(C,D.j(R));let L=((C.g.length>0?C.g[0]:C.h)>>>0).toString(w);if(C=D,G(C))return L+V;for(;L.length<6;)L="0"+L;V=L+V}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function G(w){if(w.h!=0)return!1;for(let R=0;R<w.g.length;R++)if(w.g[R]!=0)return!1;return!0}function X(w){return w.h==-1}r.l=function(w){return w=te(this,w),X(w)?-1:G(w)?0:1};function H(w){const R=w.g.length,C=[];for(let V=0;V<R;V++)C[V]=~w.g[V];return new f(C,~w.h).add(x)}r.abs=function(){return X(this)?H(this):this},r.add=function(w){const R=Math.max(this.g.length,w.g.length),C=[];let V=0;for(let D=0;D<=R;D++){let L=V+(this.i(D)&65535)+(w.i(D)&65535),N=(L>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);V=N>>>16,L&=65535,N&=65535,C[D]=N<<16|L}return new f(C,C[C.length-1]&-2147483648?-1:0)};function te(w,R){return w.add(H(R))}r.j=function(w){if(G(this)||G(w))return b;if(X(this))return X(w)?H(this).j(H(w)):H(H(this).j(w));if(X(w))return H(this.j(H(w)));if(this.l(j)<0&&w.l(j)<0)return g(this.m()*w.m());const R=this.g.length+w.g.length,C=[];for(var V=0;V<2*R;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<w.g.length;D++){const L=this.i(V)>>>16,N=this.i(V)&65535,rt=w.i(D)>>>16,It=w.i(D)&65535;C[2*V+2*D]+=N*It,ne(C,2*V+2*D),C[2*V+2*D+1]+=L*It,ne(C,2*V+2*D+1),C[2*V+2*D+1]+=N*rt,ne(C,2*V+2*D+1),C[2*V+2*D+2]+=L*rt,ne(C,2*V+2*D+2)}for(w=0;w<R;w++)C[w]=C[2*w+1]<<16|C[2*w];for(w=R;w<2*R;w++)C[w]=0;return new f(C,0)};function ne(w,R){for(;(w[R]&65535)!=w[R];)w[R+1]+=w[R]>>>16,w[R]&=65535,R++}function ie(w,R){this.g=w,this.h=R}function Ee(w,R){if(G(R))throw Error("division by zero");if(G(w))return new ie(b,b);if(X(w))return R=Ee(H(w),R),new ie(H(R.g),H(R.h));if(X(R))return R=Ee(w,H(R)),new ie(H(R.g),R.h);if(w.g.length>30){if(X(w)||X(R))throw Error("slowDivide_ only works with positive integers.");for(var C=x,V=R;V.l(w)<=0;)C=ge(C),V=ge(V);var D=xe(C,1),L=xe(V,1);for(V=xe(V,2),C=xe(C,2);!G(V);){var N=L.add(V);N.l(w)<=0&&(D=D.add(C),L=N),V=xe(V,1),C=xe(C,1)}return R=te(w,D.j(R)),new ie(D,R)}for(D=b;w.l(R)>=0;){for(C=Math.max(1,Math.floor(w.m()/R.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),L=g(C),N=L.j(R);X(N)||N.l(w)>0;)C-=V,L=g(C),N=L.j(R);G(L)&&(L=x),D=D.add(L),w=te(w,N)}return new ie(D,w)}r.B=function(w){return Ee(this,w).h},r.and=function(w){const R=Math.max(this.g.length,w.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)&w.i(V);return new f(C,this.h&w.h)},r.or=function(w){const R=Math.max(this.g.length,w.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)|w.i(V);return new f(C,this.h|w.h)},r.xor=function(w){const R=Math.max(this.g.length,w.g.length),C=[];for(let V=0;V<R;V++)C[V]=this.i(V)^w.i(V);return new f(C,this.h^w.h)};function ge(w){const R=w.g.length+1,C=[];for(let V=0;V<R;V++)C[V]=w.i(V)<<1|w.i(V-1)>>>31;return new f(C,w.h)}function xe(w,R){const C=R>>5;R%=32;const V=w.g.length-C,D=[];for(let L=0;L<V;L++)D[L]=R>0?w.i(L+C)>>>R|w.i(L+C+1)<<32-R:w.i(L+C);return new f(D,w.h)}s.prototype.digest=s.prototype.A,s.prototype.reset=s.prototype.u,s.prototype.update=s.prototype.v,OT=s,f.prototype.add=f.prototype.add,f.prototype.multiply=f.prototype.j,f.prototype.modulo=f.prototype.B,f.prototype.compare=f.prototype.l,f.prototype.toNumber=f.prototype.m,f.prototype.toString=f.prototype.toString,f.prototype.getBits=f.prototype.i,f.fromNumber=g,f.fromString=T,as=f}).apply(typeof T0<"u"?T0:typeof self<"u"?self:typeof window<"u"?window:{});var eh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var MT,zo,VT,fh,Hm,LT,PT,jT;(function(){var r,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof eh=="object"&&eh];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var s=n(this);function l(c,y){if(y)e:{var E=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var k=c[A];if(!(k in E))break e;E=E[k]}c=c[c.length-1],A=E[c],y=y(A),y!=A&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}l("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(c){return c||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});var u=u||{},f=this||self;function m(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function p(c,y,E){return c.call.apply(c.bind,arguments)}function g(c,y,E){return g=p,g.apply(null,arguments)}function T(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function b(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,k,F){for(var re=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)re[Ae-2]=arguments[Ae];return y.prototype[k].apply(A,re)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function j(c){const y=c.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=c[A];return E}return[]}function G(c,y){for(let A=1;A<arguments.length;A++){const k=arguments[A];var E=typeof k;if(E=E!="object"?E:k?Array.isArray(k)?"array":E:"null",E=="array"||E=="object"&&typeof k.length=="number"){E=c.length||0;const F=k.length||0;c.length=E+F;for(let re=0;re<F;re++)c[E+re]=k[re]}else c.push(k)}}class X{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function H(c){f.setTimeout(()=>{throw c},0)}function te(){var c=w;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class ne{constructor(){this.h=this.g=null}add(y,E){const A=ie.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ie=new X(()=>new Ee,c=>c.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let ge,xe=!1,w=new ne,R=()=>{const c=Promise.resolve(void 0);ge=()=>{c.then(C)}};function C(){for(var c;c=te();){try{c.h.call(c.g)}catch(E){H(E)}var y=ie;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}xe=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};f.addEventListener("test",E,y),f.removeEventListener("test",E,y)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function rt(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}b(rt,D),rt.prototype.init=function(c,y){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var It="closure_listenable_"+(Math.random()*1e6|0),K=0;function se(c,y,E,A,k){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=k,this.key=++K,this.da=this.fa=!1}function me(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ue(c,y,E){for(const A in c)y.call(E,c[A],A,c)}function Ge(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function M(c){const y={};for(const E in c)y[E]=c[E];return y}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ae(c,y){let E,A;for(let k=1;k<arguments.length;k++){A=arguments[k];for(E in A)c[E]=A[E];for(let F=0;F<W.length;F++)E=W[F],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ue(c){this.src=c,this.g={},this.h=0}ue.prototype.add=function(c,y,E,A,k){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const re=Re(c,y,A,k);return re>-1?(y=c[re],E||(y.fa=!1)):(y=new se(y,this.src,F,!!A,k),y.fa=E,c.push(y)),y};function ve(c,y){const E=y.type;if(E in c.g){var A=c.g[E],k=Array.prototype.indexOf.call(A,y,void 0),F;(F=k>=0)&&Array.prototype.splice.call(A,k,1),F&&(me(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Re(c,y,E,A){for(let k=0;k<c.length;++k){const F=c[k];if(!F.da&&F.listener==y&&F.capture==!!E&&F.ha==A)return k}return-1}var je="closure_lm_"+(Math.random()*1e6|0),Dt={};function st(c,y,E,A,k){if(Array.isArray(y)){for(let F=0;F<y.length;F++)st(c,y[F],E,A,k);return null}return E=Ol(E),c&&c[It]?c.J(y,E,m(A)?!!A.capture:!1,k):_s(c,y,E,!1,A,k)}function _s(c,y,E,A,k,F){if(!y)throw Error("Invalid event type");const re=m(k)?!!k.capture:!!k;let Ae=vs(c);if(Ae||(c[je]=Ae=new ue(c)),E=Ae.add(y,E,A,re,F),E.proxy)return E;if(A=ha(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)L||(k=re),k===void 0&&(k=!1),c.addEventListener(y.toString(),A,k);else if(c.attachEvent)c.attachEvent(oi(y.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function ha(){function c(E){return y.call(c.src,c.listener,E)}const y=Il;return c}function fa(c,y,E,A,k){if(Array.isArray(y))for(var F=0;F<y.length;F++)fa(c,y[F],E,A,k);else A=m(A)?!!A.capture:!!A,E=Ol(E),c&&c[It]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],E=Re(y,E,A,k),E>-1&&(me(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=vs(c))&&(y=c.g[y.toString()],c=-1,y&&(c=Re(y,E,A,k)),(E=c>-1?y[c]:null)&&da(E))}function da(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[It])ve(y.i,c);else{var E=c.type,A=c.proxy;y.removeEventListener?y.removeEventListener(E,A,c.capture):y.detachEvent?y.detachEvent(oi(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=vs(y))?(ve(E,c),E.h==0&&(E.src=null,y[je]=null)):me(c)}}}function oi(c){return c in Dt?Dt[c]:Dt[c]="on"+c}function Il(c,y){if(c.da)c=!0;else{y=new rt(y,this);const E=c.listener,A=c.ha||c.src;c.fa&&da(c),c=E.call(A,y)}return c}function vs(c){return c=c[je],c instanceof ue?c:null}var Dl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ol(c){return typeof c=="function"?c:(c[Dl]||(c[Dl]=function(y){return c.handleEvent(y)}),c[Dl])}function _t(){V.call(this),this.i=new ue(this),this.M=this,this.G=null}b(_t,V),_t.prototype[It]=!0,_t.prototype.removeEventListener=function(c,y,E,A){fa(this,c,y,E,A)};function Ot(c,y){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var k=y;y=new D(A,c),ae(y,k)}k=!0;let F,re;if(E)for(re=E.length-1;re>=0;re--)F=y.g=E[re],k=_r(F,A,!0,y)&&k;if(F=y.g=c,k=_r(F,A,!0,y)&&k,k=_r(F,A,!1,y)&&k,E)for(re=0;re<E.length;re++)F=y.g=E[re],k=_r(F,A,!1,y)&&k}_t.prototype.N=function(){if(_t.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let A=0;A<E.length;A++)me(E[A]);delete c.g[y],c.h--}}this.G=null},_t.prototype.J=function(c,y,E,A){return this.i.add(String(c),y,!1,E,A)},_t.prototype.K=function(c,y,E,A){return this.i.add(String(c),y,!0,E,A)};function _r(c,y,E,A){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let k=!0;for(let F=0;F<y.length;++F){const re=y[F];if(re&&!re.da&&re.capture==E){const Ae=re.listener,dt=re.ha||re.src;re.fa&&ve(c.i,re),k=Ae.call(dt,A)!==!1&&k}}return k&&!A.defaultPrevented}function mf(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=g(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:f.setTimeout(c,y||0)}function Su(c){c.g=mf(()=>{c.g=null,c.i&&(c.i=!1,Su(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class en extends V{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Su(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(c){V.call(this),this.h=c,this.g={}}b(Es,V);var Ml=[];function Vl(c){Ue(c.g,function(y,E){this.g.hasOwnProperty(E)&&da(y)},c),c.g={}}Es.prototype.N=function(){Es.Z.N.call(this),Vl(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var vr=f.JSON.stringify,pf=f.JSON.parse,Au=class{stringify(c){return f.JSON.stringify(c,void 0)}parse(c){return f.JSON.parse(c,void 0)}};function wu(){}function xu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function zt(){D.call(this,"d")}b(zt,D);function Sn(){D.call(this,"c")}b(Sn,D);var ft={},Ru=null;function ma(){return Ru=Ru||new _t}ft.Ia="serverreachability";function Cu(c){D.call(this,ft.Ia,c)}b(Cu,D);function ui(c){const y=ma();Ot(y,new Cu(y))}ft.STAT_EVENT="statevent";function Ts(c,y){D.call(this,ft.STAT_EVENT,c),this.stat=y}b(Ts,D);function vt(c){const y=ma();Ot(y,new Ts(y,c))}ft.Ja="timingevent";function ci(c,y){D.call(this,ft.Ja,c),this.size=y}b(ci,D);function hi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){c()},y)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function gf(c,y,E,A,k,F){c.info(function(){if(c.g)if(F){var re="",Ae=F.split("&");for(let qe=0;qe<Ae.length;qe++){var dt=Ae[qe].split("=");if(dt.length>1){const at=dt[0];dt=dt[1];const Rn=at.split("_");re=Rn.length>=2&&Rn[1]=="type"?re+(at+"="+dt+"&"):re+(at+"=redacted&")}}}else re=null;else re=F;return"XMLHTTP REQ ("+A+") [attempt "+k+"]: "+y+`
`+E+`
`+re})}function Nu(c,y,E,A,k,F,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+k+"]: "+y+`
`+E+`
`+F+" "+re})}function fi(c,y,E,A){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+yf(c,E)+(A?" "+A:"")})}function bs(c,y){c.info(function(){return"TIMEOUT: "+y})}Hn.prototype.info=function(){};function yf(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var E=F[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(let re=1;re<A.length;re++)A[re]=""}}}}return vr(F)}catch{return y}}var Ss={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ll={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Pl;function As(){}b(As,wu),As.prototype.g=function(){return new XMLHttpRequest},Pl=new As;function ki(c){return encodeURIComponent(String(c))}function Iu(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Fn(c,y,E,A){this.j=c,this.i=y,this.l=E,this.S=A||1,this.V=new Es(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Et={},Lt={};function di(c,y,E){c.M=1,c.A=ws(bt(y)),c.u=E,c.R=!0,pa(c,null)}function pa(c,y){c.F=Date.now(),mi(c),c.B=bt(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),va(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Gn,c.g=Gu(c.j,E?y:null,!c.u),c.P>0&&(c.O=new en(g(c.Y,c,c.g),c.P)),y=c.V,E=c.g,A=c.ba;var k="readystatechange";Array.isArray(k)||(k&&(Ml[0]=k.toString()),k=Ml);for(let F=0;F<k.length;F++){const re=st(E,k[F],A||y.handleEvent,!1,y.h||y);if(!re)break;y.g[re.key]=re}y=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),ui(),gf(c.i,c.v,c.B,c.l,c.S,c.u)}Fn.prototype.ba=function(c){c=c.target;const y=this.O;y&&Kn(c)==3?y.j():this.Y(c)},Fn.prototype.Y=function(c){try{if(c==this.g)e:{const Ae=Kn(this.g),dt=this.g.ya(),qe=this.g.ca();if(!(Ae<3)&&(Ae!=3||this.g&&(this.h.h||this.g.la()||Bt(this.g)))){this.K||Ae!=4||dt==7||(dt==8||qe<=0?ui(3):ui(2)),pi(this);var y=this.g.ca();this.X=y;var E=_f(this);if(this.o=y==200,Nu(this.i,this.v,this.B,this.l,this.S,Ae,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,k=this.g;if((A=k.g?k.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(A)){var F=A;break t}}F=null}if(c=F)fi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,gi(this,c);else{this.o=!1,this.m=3,vt(12),dn(this),An(this);break e}}if(this.R){c=!0;let at;for(;!this.K&&this.C<E.length;)if(at=Ou(this,E),at==Lt){Ae==4&&(this.m=4,vt(14),c=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(at==Et){this.m=4,vt(15),fi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else fi(this.i,this.l,at,null),gi(this,at);if(Du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ae!=4||E.length!=0||this.h.h||(this.m=1,vt(16),c=!1),this.o=this.o&&c,!c)fi(this.i,this.l,E,"[Invalid Chunked Response]"),dn(this),An(this);else if(E.length>0&&!this.W){this.W=!0;var re=this.j;re.g==this&&re.aa&&!re.P&&(re.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Jl(re),re.P=!0,vt(11))}}else fi(this.i,this.l,E,null),gi(this,E);Ae==4&&dn(this),this.o&&!this.K&&(Ae==4?Bu(this.j,this):(this.o=!1,mi(this)))}else zi(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,vt(12)):(this.m=0,vt(13)),dn(this),An(this)}}}catch{}finally{}};function _f(c){if(!Du(c))return c.g.la();const y=Bt(c.g);if(y==="")return"";let E="";const A=y.length,k=Kn(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return dn(c),An(c),"";c.h.i=new f.TextDecoder}for(let F=0;F<A;F++)c.h.h=!0,E+=c.h.i.decode(y[F],{stream:!(k&&F==A-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function Du(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,y){var E=c.C,A=y.indexOf(`
`,E);return A==-1?Lt:(E=Number(y.substring(E,A)),isNaN(E)?Et:(A+=1,A+E>y.length?Lt:(y=y.slice(A,A+E),c.C=A+E,y)))}Fn.prototype.cancel=function(){this.K=!0,dn(this)};function mi(c){c.T=Date.now()+c.H,ga(c,c.H)}function ga(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=hi(g(c.aa,c),y)}function pi(c){c.D&&(f.clearTimeout(c.D),c.D=null)}Fn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(bs(this.i,this.B),this.M!=2&&(ui(),vt(17)),dn(this),this.m=2,An(this)):ga(this,this.T-c)};function An(c){c.j.I==0||c.K||Bu(c.j,c)}function dn(c){pi(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,Vl(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function gi(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||_i(E.h,c))){if(!c.L&&_i(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var k=A;if(k[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Aa(E),Rr(E);else break e;Os(E),vt(18)}}else E.xa=k[1],0<E.xa-E.K&&k[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=hi(g(E.Va,E),6e3));yi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Ai(E,11)}else if((c.L||E.g==c)&&Aa(E),!N(y))for(k=E.Ba.g.parse(y),y=0;y<k.length;y++){let qe=k[y];const at=qe[0];if(!(at<=E.K))if(E.K=at,qe=qe[1],E.I==2)if(qe[0]=="c"){E.M=qe[1],E.ba=qe[2];const Rn=qe[3];Rn!=null&&(E.ka=Rn,E.j.info("VER="+E.ka));const wi=qe[4];wi!=null&&(E.za=wi,E.j.info("SVER="+E.za));const Xn=qe[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const $n=c.g;if($n){const Ms=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ms){var F=A.h;F.g||Ms.indexOf("spdy")==-1&&Ms.indexOf("quic")==-1&&Ms.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Ul(F,F.h),F.h=null))}if(A.G){const wa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(A.wa=wa,Ye(A.J,A.G,wa))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var re=c;if(A.na=Fu(A,A.L?A.ba:null,A.W),re.L){zl(A.h,re);var Ae=re,dt=A.O;dt&&(Ae.H=dt),Ae.D&&(pi(Ae),mi(Ae)),A.g=re}else Uu(A);E.i.length>0&&Si(E)}else qe[0]!="stop"&&qe[0]!="close"||Ai(E,7);else E.I==3&&(qe[0]=="stop"||qe[0]=="close"?qe[0]=="stop"?Ai(E,7):Xl(E):qe[0]!="noop"&&E.l&&E.l.qa(qe),E.A=0)}}ui(4)}catch{}}var Tt=class{constructor(c,y){this.g=c,this.map=y}};function jl(c){this.l=c||10,f.PerformanceNavigationTiming?(c=f.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function yi(c){return c.h?1:c.g?c.g.size:0}function _i(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ul(c,y){c.g?c.g.add(y):c.h=y}function zl(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}jl.prototype.cancel=function(){if(this.i=Bl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Bl(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return j(c.i)}var Mu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ya(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let k,F=null;A>=0?(k=c[E].substring(0,A),F=c[E].substring(A+1)):k=c[E],y(k,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function mn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof mn?(this.l=c.l,Pt(this,c.j),this.o=c.o,this.g=c.g,Er(this,c.u),this.h=c.h,ql(this,ju(c.i)),this.m=c.m):c&&(y=String(c).match(Mu))?(this.l=!1,Pt(this,y[1]||"",!0),this.o=vi(y[2]||""),this.g=vi(y[3]||"",!0),Er(this,y[4]),this.h=vi(y[5]||"",!0),ql(this,y[6]||"",!0),this.m=vi(y[7]||"")):(this.l=!1,this.i=new br(null,this.l))}mn.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(xs(y,_a,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,_a,!0),"@"),c.push(ki(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(xs(E,E.charAt(0)=="/"?Hl:Vu,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",xs(E,Lu)),c.join("")},mn.prototype.resolve=function(c){const y=bt(this);let E=!!c.j;E?Pt(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var A=c.h;if(E)Er(y,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var k=y.h.lastIndexOf("/");k!=-1&&(A=y.h.slice(0,k+1)+A)}if(k=A,k==".."||k==".")A="";else if(k.indexOf("./")!=-1||k.indexOf("/.")!=-1){A=k.lastIndexOf("/",0)==0,k=k.split("/");const F=[];for(let re=0;re<k.length;){const Ae=k[re++];Ae=="."?A&&re==k.length&&F.push(""):Ae==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),A&&re==k.length&&F.push("")):(F.push(Ae),A=!0)}A=F.join("/")}else A=k}return E?y.h=A:E=c.i.toString()!=="",E?ql(y,ju(c.i)):E=!!c.m,E&&(y.m=c.m),y};function bt(c){return new mn(c)}function Pt(c,y,E){c.j=E?vi(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Er(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function ql(c,y,E){y instanceof br?(c.i=y,Ea(c.i,c.l)):(E||(y=xs(y,Tr)),c.i=new br(y,c.l))}function Ye(c,y,E){c.i.set(y,E)}function ws(c){return Ye(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function vi(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,rn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function rn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var _a=/[#\/\?@]/g,Vu=/[#\?:]/g,Hl=/[#\?]/g,Tr=/[#\?@]/g,Lu=/#/g;function br(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function sn(c){c.g||(c.g=new Map,c.h=0,c.i&&ya(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}r=br.prototype,r.add=function(c,y){sn(this),this.i=null,c=Sr(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function Pu(c,y){sn(c),y=Sr(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Fl(c,y){return sn(c),y=Sr(c,y),c.g.has(y)}r.forEach=function(c,y){sn(this),this.g.forEach(function(E,A){E.forEach(function(k){c.call(y,k,A,this)},this)},this)};function Gl(c,y){sn(c);let E=[];if(typeof y=="string")Fl(c,y)&&(E=E.concat(c.g.get(Sr(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}r.set=function(c,y){return sn(this),this.i=null,c=Sr(this,c),Fl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},r.get=function(c,y){return c?(c=Gl(this,c),c.length>0?String(c[0]):y):y};function va(c,y,E){Pu(c,y),E.length>0&&(c.i=null,c.g.set(Sr(c,y),j(E)),c.h+=E.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const k=ki(E);E=Gl(this,E);for(let F=0;F<E.length;F++){let re=k;E[F]!==""&&(re+="="+ki(E[F])),c.push(re)}}return this.i=c.join("&")};function ju(c){const y=new br;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Sr(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Ea(c,y){y&&!c.j&&(sn(c),c.i=null,c.g.forEach(function(E,A){const k=A.toLowerCase();A!=k&&(Pu(this,A),va(this,k,E))},c)),c.j=y}function Yn(c,y){const E=new Hn;if(f.Image){const A=new Image;A.onload=T(wn,E,"TestLoadImage: loaded",!0,y,A),A.onerror=T(wn,E,"TestLoadImage: error",!1,y,A),A.onabort=T(wn,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=T(wn,E,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else y(!1)}function Yl(c,y){const E=new Hn,A=new AbortController,k=setTimeout(()=>{A.abort(),wn(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(k),F.ok?wn(E,"TestPingServer: ok",!0,y):wn(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(k),wn(E,"TestPingServer: error",!1,y)})}function wn(c,y,E,A,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),A(E)}catch{}}function Ar(){this.g=new Au}function Ei(c){this.i=c.Sb||null,this.h=c.ab||!1}b(Ei,wu),Ei.prototype.g=function(){return new Rs(this.i,this.h)};function Rs(c,y){_t.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(Rs,_t),r=Rs.prototype,r.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Qn(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||f).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,wr(this)),this.readyState=0},r.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ta(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ta(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}r.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?wr(this):Qn(this),this.readyState==3&&Ta(this)}},r.Oa=function(c){this.g&&(this.response=this.responseText=c,wr(this))},r.Na=function(c){this.g&&(this.response=c,wr(this))},r.ga=function(){this.g&&wr(this)};function wr(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Qn(c)}r.setRequestHeader=function(c,y){this.A.append(c,y)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Qn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Rs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xn(c){let y="";return Ue(c,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function Cs(c,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=xn(E),typeof c=="string"?E!=null&&ki(E):Ye(c,y,E))}function Xe(c){_t.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Xe,_t);var Ti=/^https?$/i,Ql=["POST","PUT"];r=Xe.prototype,r.Fa=function(c){this.H=c},r.ea=function(c,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Pl.g(),this.g.onreadystatechange=x(g(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){Ns(this,F);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var k in A)E.set(k,A[k]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())E.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),k=f.FormData&&c instanceof f.FormData,!(Array.prototype.indexOf.call(Ql,y,void 0)>=0)||A||k||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of E)this.g.setRequestHeader(F,re);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){Ns(this,F)}};function Ns(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,Kl(c),Ui(c)}function Kl(c){c.A||(c.A=!0,Ot(c,"complete"),Ot(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,Ot(this,"complete"),Ot(this,"abort"),Ui(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ui(this,!0)),Xe.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Is(this):this.Xa())},r.Xa=function(){Is(this)};function Is(c){if(c.h&&typeof u<"u"){if(c.v&&Kn(c)==4)setTimeout(c.Ca.bind(c),0);else if(Ot(c,"readystatechange"),Kn(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=F===0){let re=String(c.D).match(Mu)[1]||null;!re&&f.self&&f.self.location&&(re=f.self.location.protocol.slice(0,-1)),A=!Ti.test(re?re.toLowerCase():"")}E=A}if(E)Ot(c,"complete"),Ot(c,"success");else{c.o=6;try{var k=Kn(c)>2?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.ca()+"]",Kl(c)}}finally{Ui(c)}}}}function Ui(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||Ot(c,"ready");try{E.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(c){return c.g?c.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),pf(y)}};function Bt(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zi(c){const y={};c=(c.g&&Kn(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(N(c[A]))continue;var E=Iu(c[A]);const k=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=y[k]||[];y[k]=F,F.push(E)}Ge(y,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function bi(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function xr(c){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=bi("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=bi("baseRetryDelayMs",5e3,c),this.Za=bi("retryDelaySeedMs",1e4,c),this.Ta=bi("forwardChannelMaxRetries",2,c),this.va=bi("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new jl(c&&c.concurrentRequestLimit),this.Ba=new Ar,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=xr.prototype,r.ka=8,r.I=1,r.connect=function(c,y,E,A){vt(0),this.W=c,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Fu(this,null,this.W),Si(this)};function Xl(c){if(ba(c),c.I==3){var y=c.V++,E=bt(c.J);if(Ye(E,"SID",c.M),Ye(E,"RID",y),Ye(E,"TYPE","terminate"),Ds(c,E),y=new Fn(c,c.j,y),y.M=2,y.A=ws(bt(E)),E=!1,f.navigator&&f.navigator.sendBeacon)try{E=f.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&f.Image&&(new Image().src=y.A,E=!0),E||(y.g=Gu(y.j,null),y.g.ea(y.A)),y.F=Date.now(),mi(y)}Hu(c)}function Rr(c){c.g&&(Jl(c),c.g.cancel(),c.g=null)}function ba(c){Rr(c),c.v&&(f.clearTimeout(c.v),c.v=null),Aa(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&f.clearTimeout(c.m),c.m=null)}function Si(c){if(!kl(c.h)&&!c.m){c.m=!0;var y=c.Ea;ge||R(),xe||(ge(),xe=!0),w.add(y,c),c.D=0}}function Sa(c,y){return yi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=hi(g(c.Ea,c,y),qu(c,c.D)),c.D++,!0)}r.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const k=new Fn(this,this.j,c);let F=this.o;if(this.U&&(F?(F=M(F),ae(F,this.U)):F=this.U),this.u!==null||this.R||(k.J=F,F=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=ku(this,k,y),E=bt(this.J),Ye(E,"RID",c),Ye(E,"CVER",22),this.G&&Ye(E,"X-HTTP-Session-Id",this.G),Ds(this,E),F&&(this.R?y="headers="+ki(xn(F))+"&"+y:this.u&&Cs(E,this.u,F)),Ul(this.h,k),this.Ra&&Ye(E,"TYPE","init"),this.S?(Ye(E,"$req",y),Ye(E,"SID","null"),k.U=!0,di(k,E,null)):di(k,E,y),this.I=2}}else this.I==3&&(c?$l(this,c):this.i.length==0||kl(this.h)||$l(this))};function $l(c,y){var E;y?E=y.l:E=c.V++;const A=bt(c.J);Ye(A,"SID",c.M),Ye(A,"RID",E),Ye(A,"AID",c.K),Ds(c,A),c.u&&c.o&&Cs(A,c.u,c.o),E=new Fn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=ku(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Ul(c.h,E),di(E,A,y)}function Ds(c,y){c.H&&Ue(c.H,function(E,A){Ye(y,A,E)}),c.l&&Ue({},function(E,A){Ye(y,A,E)})}function ku(c,y,E){E=Math.min(c.i.length,E);const A=c.l?g(c.l.Ka,c.l,c):null;e:{var k=c.i;let Ae=-1;for(;;){const dt=["count="+E];Ae==-1?E>0?(Ae=k[0].g,dt.push("ofs="+Ae)):Ae=0:dt.push("ofs="+Ae);let qe=!0;for(let at=0;at<E;at++){var F=k[at].g;const Rn=k[at].map;if(F-=Ae,F<0)Ae=Math.max(0,k[at].g-100),qe=!1;else try{F="req"+F+"_"||"";try{var re=Rn instanceof Map?Rn:Object.entries(Rn);for(const[wi,Xn]of re){let $n=Xn;m(Xn)&&($n=vr(Xn)),dt.push(F+wi+"="+encodeURIComponent($n))}}catch(wi){throw dt.push(F+"type="+encodeURIComponent("_badmap")),wi}}catch{A&&A(Rn)}}if(qe){re=dt.join("&");break e}}re=void 0}return c=c.i.splice(0,E),y.G=c,re}function Uu(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;ge||R(),xe||(ge(),xe=!0),w.add(y,c),c.A=0}}function Os(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=hi(g(c.Da,c),qu(c,c.A)),c.A++,!0)}r.Da=function(){if(this.v=null,zu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=hi(g(this.Wa,this),c)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,vt(10),Rr(this),zu(this))};function Jl(c){c.B!=null&&(f.clearTimeout(c.B),c.B=null)}function zu(c){c.g=new Fn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=bt(c.na);Ye(y,"RID","rpc"),Ye(y,"SID",c.M),Ye(y,"AID",c.K),Ye(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ye(y,"TO",c.ia),Ye(y,"TYPE","xmlhttp"),Ds(c,y),c.u&&c.o&&Cs(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=ws(bt(y)),E.u=null,E.R=!0,pa(E,c)}r.Va=function(){this.C!=null&&(this.C=null,Rr(this),Os(this),vt(19))};function Aa(c){c.C!=null&&(f.clearTimeout(c.C),c.C=null)}function Bu(c,y){var E=null;if(c.g==y){Aa(c),Jl(c),c.g=null;var A=2}else if(_i(c.h,y))E=y.G,zl(c.h,y),A=1;else return;if(c.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var k=c.D;A=ma(),Ot(A,new ci(A,E)),Si(c)}else Uu(c);else if(k=y.m,k==3||k==0&&y.X>0||!(A==1&&Sa(c,y)||A==2&&Os(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),k){case 1:Ai(c,5);break;case 4:Ai(c,10);break;case 3:Ai(c,6);break;default:Ai(c,2)}}}function qu(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Ai(c,y){if(c.j.info("Error code "+y),y==2){var E=g(c.bb,c),A=c.Ua;const k=!A;A=new mn(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||Pt(A,"https"),ws(A),k?Yn(A.toString(),E):Yl(A.toString(),E)}else vt(2);c.I=0,c.l&&c.l.pa(y),Hu(c),ba(c)}r.bb=function(c){c?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Hu(c){if(c.I=0,c.ja=[],c.l){const y=Bl(c.h);(y.length!=0||c.i.length!=0)&&(G(c.ja,y),G(c.ja,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.oa()}}function Fu(c,y,E){var A=E instanceof mn?bt(E):new mn(E);if(A.g!="")y&&(A.g=y+"."+A.g),Er(A,A.u);else{var k=f.location;A=k.protocol,y=y?y+"."+k.hostname:k.hostname,k=+k.port;const F=new mn(null);A&&Pt(F,A),y&&(F.g=y),k&&Er(F,k),E&&(F.h=E),A=F}return E=c.G,y=c.wa,E&&y&&Ye(A,E,y),Ye(A,"VER",c.ka),Ds(c,A),A}function Gu(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new Xe(new Ei({ab:E})):new Xe(c.ma),y.Fa(c.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yu(){}r=Yu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cr(){}Cr.prototype.g=function(c,y){return new tn(c,y)};function tn(c,y){_t.call(this),this.g=new xr(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Bi(this)}b(tn,_t),tn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},tn.prototype.close=function(){Xl(this.g)},tn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=vr(c),c=E);y.i.push(new Tt(y.Ya++,c)),y.I==3&&Si(y)},tn.prototype.N=function(){this.g.l=null,delete this.j,Xl(this.g),delete this.g,tn.Z.N.call(this)};function Qu(c){zt.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}b(Qu,zt);function Ku(){Sn.call(this),this.status=1}b(Ku,Sn);function Bi(c){this.g=c}b(Bi,Yu),Bi.prototype.ra=function(){Ot(this.g,"a")},Bi.prototype.qa=function(c){Ot(this.g,new Qu(c))},Bi.prototype.pa=function(c){Ot(this.g,new Ku)},Bi.prototype.oa=function(){Ot(this.g,"b")},Cr.prototype.createWebChannel=Cr.prototype.g,tn.prototype.send=tn.prototype.o,tn.prototype.open=tn.prototype.m,tn.prototype.close=tn.prototype.close,jT=function(){return new Cr},PT=function(){return ma()},LT=ft,Hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ss.NO_ERROR=0,Ss.TIMEOUT=8,Ss.HTTP_ERROR=6,fh=Ss,Ll.COMPLETE="complete",VT=Ll,xu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",_t.prototype.listen=_t.prototype.J,zo=xu,Xe.prototype.listenOnce=Xe.prototype.K,Xe.prototype.getLastError=Xe.prototype.Ha,Xe.prototype.getLastErrorCode=Xe.prototype.ya,Xe.prototype.getStatus=Xe.prototype.ca,Xe.prototype.getResponseJson=Xe.prototype.La,Xe.prototype.getResponseText=Xe.prototype.la,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Fa,MT=Xe}).apply(typeof eh<"u"?eh:typeof self<"u"?self:typeof window<"u"?window:{});const b0="@firebase/firestore",S0="4.9.2";class Jt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Jt.UNAUTHENTICATED=new Jt(null),Jt.GOOGLE_CREDENTIALS=new Jt("google-credentials-uid"),Jt.FIRST_PARTY=new Jt("first-party-uid"),Jt.MOCK_USER=new Jt("mock-user");let xl="12.3.0";const ia=new mp("@firebase/firestore");function nl(){return ia.logLevel}function oe(r,...e){if(ia.logLevel<=Me.DEBUG){const n=e.map(xp);ia.debug(`Firestore (${xl}): ${r}`,...n)}}function fr(r,...e){if(ia.logLevel<=Me.ERROR){const n=e.map(xp);ia.error(`Firestore (${xl}): ${r}`,...n)}}function dl(r,...e){if(ia.logLevel<=Me.WARN){const n=e.map(xp);ia.warn(`Firestore (${xl}): ${r}`,...n)}}function xp(r){if(typeof r=="string")return r;try{return(function(n){return JSON.stringify(n)})(r)}catch{return r}}function _e(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,kT(r,s,n)}function kT(r,e,n){let s=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw fr(s),new Error(s)}function Fe(r,e,n,s){let l="Unexpected state";typeof n=="string"?l=n:s=n,r||kT(e,l,s)}function Se(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class le extends gr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class lr{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}class UT{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class IC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Jt.UNAUTHENTICATED)))}shutdown(){}}class DC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class OC{constructor(e){this.t=e,this.currentUser=Jt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Fe(this.o===void 0,42304);let s=this.i;const l=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new lr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new lr,e.enqueueRetryable((()=>l(this.currentUser)))};const f=()=>{const p=u;e.enqueueRetryable((async()=>{await p.promise,await l(this.currentUser)}))},m=p=>{oe("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),f())};this.t.onInit((p=>m(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(oe("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new lr)}}),0),f()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((s=>this.i!==e?(oe("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Fe(typeof s.accessToken=="string",31837,{l:s}),new UT(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Fe(e===null||typeof e=="string",2055,{h:e}),new Jt(e)}}class MC{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Jt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class VC{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new MC(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable((()=>n(Jt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class A0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class LC{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Fe(this.o===void 0,3512);const s=u=>{u.error!=null&&oe("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const f=u.token!==this.m;return this.m=u.token,oe("FirebaseAppCheckTokenProvider",`Received ${f?"new":"existing"} token.`),f?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable((()=>s(u)))};const l=u=>{oe("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((u=>l(u))),setTimeout((()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?l(u):oe("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new A0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(Fe(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new A0(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function PC(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}class Rp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=PC(40);for(let u=0;u<l.length;++u)s.length<20&&l[u]<n&&(s+=e.charAt(l[u]%62))}return s}}function Ve(r,e){return r<e?-1:r>e?1:0}function Fm(r,e){const n=Math.min(r.length,e.length);for(let s=0;s<n;s++){const l=r.charAt(s),u=e.charAt(s);if(l!==u)return Rm(l)===Rm(u)?Ve(l,u):Rm(l)?1:-1}return Ve(r.length,e.length)}const jC=55296,kC=57343;function Rm(r){const e=r.charCodeAt(0);return e>=jC&&e<=kC}function ml(r,e,n){return r.length===e.length&&r.every(((s,l)=>n(s,e[l])))}const w0="__name__";class Ii{constructor(e,n,s){n===void 0?n=0:n>e.length&&_e(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&_e(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Ii.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ii?e.forEach((s=>{n.push(s)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let l=0;l<s;l++){const u=Ii.compareSegments(e.get(l),n.get(l));if(u!==0)return u}return Ve(e.length,n.length)}static compareSegments(e,n){const s=Ii.isNumericId(e),l=Ii.isNumericId(n);return s&&!l?-1:!s&&l?1:s&&l?Ii.extractNumericId(e).compare(Ii.extractNumericId(n)):Fm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return as.fromString(e.substring(4,e.length-2))}}class et extends Ii{construct(e,n,s){return new et(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new le(Z.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter((l=>l.length>0)))}return new et(n)}static emptyPath(){return new et([])}}const UC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends Ii{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return UC.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w0}static keyField(){return new Qt([w0])}static fromServerFormat(e){const n=[];let s="",l=0;const u=()=>{if(s.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let f=!1;for(;l<e.length;){const m=e[l];if(m==="\\"){if(l+1===e.length)throw new le(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[l+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new le(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,l+=2}else m==="`"?(f=!f,l++):m!=="."||f?(s+=m,l++):(u(),l++)}if(u(),f)throw new le(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}class de{constructor(e){this.path=e}static fromPath(e){return new de(et.fromString(e))}static fromName(e){return new de(et.fromString(e).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new de(new et(e.slice()))}}function zT(r,e,n){if(!n)throw new le(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function zC(r,e,n,s){if(e===!0&&s===!0)throw new le(Z.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function x0(r){if(!de.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function R0(r){if(de.isDocumentKey(r))throw new le(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function BT(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Kh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":_e(12329,{type:typeof r})}function ii(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new le(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kh(r);throw new le(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}function Nt(r,e){const n={typeString:r};return e&&(n.value=e),n}function gu(r,e){if(!BT(r))throw new le(Z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const l=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in r)){n=`JSON missing required field: '${s}'`;break}const f=r[s];if(l&&typeof f!==l){n=`JSON field '${s}' must be a ${l}.`;break}if(u!==void 0&&f!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new le(Z.INVALID_ARGUMENT,n);return!0}const C0=-62135596800,N0=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*N0);return new it(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new le(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<C0)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new le(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/N0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-C0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Nt("string",it._jsonSchemaVersion),seconds:Nt("number"),nanoseconds:Nt("number")};class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new it(0,0))}static max(){return new Te(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const tu=-1;function BC(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,l=Te.fromTimestamp(s===1e9?new it(n+1,0):new it(n,s));return new os(l,de.empty(),e)}function qC(r){return new os(r.readTime,r.key,tu)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(Te.min(),de.empty(),tu)}static max(){return new os(Te.max(),de.empty(),tu)}}function HC(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=de.comparator(r.documentKey,e.documentKey),n!==0?n:Ve(r.largestBatchId,e.largestBatchId))}const FC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Rl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==FC)throw r;oe("LocalStore","Unexpectedly lost primary lease")}class ee{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&_e(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ee(((s,l)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,l)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,l)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ee?n:ee.resolve(n)}catch(n){return ee.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ee.reject(n)}static resolve(e){return new ee(((n,s)=>{n(e)}))}static reject(e){return new ee(((n,s)=>{s(e)}))}static waitFor(e){return new ee(((n,s)=>{let l=0,u=0,f=!1;e.forEach((m=>{++l,m.next((()=>{++u,f&&u===l&&n()}),(p=>s(p)))})),f=!0,u===l&&n()}))}static or(e){let n=ee.resolve(!1);for(const s of e)n=n.next((l=>l?ee.resolve(l):s()));return n}static forEach(e,n){const s=[];return e.forEach(((l,u)=>{s.push(n.call(this,l,u))})),this.waitFor(s)}static mapArray(e,n){return new ee(((s,l)=>{const u=e.length,f=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next((T=>{f[g]=T,++m,m===u&&s(f)}),(T=>l(T)))}}))}static doWhile(e,n){return new ee(((s,l)=>{const u=()=>{e()===!0?n().next((()=>{u()}),l):s()};u()}))}}function YC(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Cl(r){return r.name==="IndexedDbTransactionError"}class Xh{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ae(s),this.ue=s=>n.writeSequenceNumber(s))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Xh.ce=-1;const Cp=-1;function $h(r){return r==null}function Ch(r){return r===0&&1/r==-1/0}function QC(r){return typeof r=="number"&&Number.isInteger(r)&&!Ch(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const qT="";function KC(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=I0(e)),e=XC(r.get(n),e);return I0(e)}function XC(r,e){let n=e;const s=r.length;for(let l=0;l<s;l++){const u=r.charAt(l);switch(u){case"\0":n+="";break;case qT:n+="";break;default:n+=u}}return n}function I0(r){return r+qT+""}function D0(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function gs(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function HT(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ut{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(e,s.key);if(l===0)return n+s.left.size;l<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,s)=>(e(n,s),!1)))}toString(){const e=[];return this.inorderTraversal(((n,s)=>(e.push(`${n}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new th(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new th(this.root,e,this.comparator,!1)}getReverseIterator(){return new th(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new th(this.root,e,this.comparator,!0)}}class th{constructor(e,n,s,l){this.isReverse=l,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&l&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,s,l,u){this.key=e,this.value=n,this.color=s??Yt.RED,this.left=l??Yt.EMPTY,this.right=u??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,l,u){return new Yt(e??this.key,n??this.value,s??this.color,l??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let l=this;const u=s(e,l.key);return l=u<0?l.copy(null,null,null,l.left.insert(e,n,s),null):u===0?l.copy(null,n,null,null,null):l.copy(null,null,null,null,l.right.insert(e,n,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,l=this;if(n(e,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(e,n),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),n(e,l.key)===0){if(l.right.isEmpty())return Yt.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(e,n))}return l.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _e(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _e(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw _e(27949);return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw _e(57766)}get value(){throw _e(16141)}get color(){throw _e(16727)}get left(){throw _e(29726)}get right(){throw _e(36894)}copy(e,n,s,l,u){return this}insert(e,n,s){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,s)=>(e(n),!1)))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,e[1])>=0)return;n(l.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new O0(this.data.getIterator())}getIteratorFrom(e){return new O0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((s=>{n=n.add(s)})),n}isEqual(e){if(!(e instanceof Vt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(this.comparator(l,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new Vt(this.comparator);return n.data=e,n}}class O0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class bn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new bn([])}unionWith(e){let n=new Vt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new bn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ml(this.fields,e.fields,((n,s)=>n.isEqual(s)))}}class FT extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Kt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(l){try{return atob(l)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new FT("Invalid base64 string: "+u):u}})(e);return new Kt(n)}static fromUint8Array(e){const n=(function(l){let u="";for(let f=0;f<l.length;++f)u+=String.fromCharCode(l[f]);return u})(e);return new Kt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const s=new Uint8Array(n.length);for(let l=0;l<n.length;l++)s[l]=n.charCodeAt(l);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Kt.EMPTY_BYTE_STRING=new Kt("");const $C=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function us(r){if(Fe(!!r,39018),typeof r=="string"){let e=0;const n=$C.exec(r);if(Fe(!!n,46558,{timestamp:r}),n[1]){let l=n[1];l=(l+"000000000").substr(0,9),e=Number(l)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(r.seconds),nanos:gt(r.nanos)}}function gt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function cs(r){return typeof r=="string"?Kt.fromBase64String(r):Kt.fromUint8Array(r)}const GT="server_timestamp",YT="__type__",QT="__previous_value__",KT="__local_write_time__";function Np(r){return(r?.mapValue?.fields||{})[YT]?.stringValue===GT}function Jh(r){const e=r.mapValue.fields[QT];return Np(e)?Jh(e):e}function nu(r){const e=us(r.mapValue.fields[KT].timestampValue);return new it(e.seconds,e.nanos)}class JC{constructor(e,n,s,l,u,f,m,p,g,T){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=l,this.ssl=u,this.forceLongPolling=f,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=T}}const Nh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Nh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Nh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}const XT="__type__",ZC="__max__",nh={mapValue:{}},$T="__vector__",Ih="value";function hs(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Np(r)?4:eN(r)?9007199254740991:WC(r)?10:11:_e(28295,{value:r})}function ji(r,e){if(r===e)return!0;const n=hs(r);if(n!==hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nu(r).isEqual(nu(e));case 3:return(function(l,u){if(typeof l.timestampValue=="string"&&typeof u.timestampValue=="string"&&l.timestampValue.length===u.timestampValue.length)return l.timestampValue===u.timestampValue;const f=us(l.timestampValue),m=us(u.timestampValue);return f.seconds===m.seconds&&f.nanos===m.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(l,u){return cs(l.bytesValue).isEqual(cs(u.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(l,u){return gt(l.geoPointValue.latitude)===gt(u.geoPointValue.latitude)&&gt(l.geoPointValue.longitude)===gt(u.geoPointValue.longitude)})(r,e);case 2:return(function(l,u){if("integerValue"in l&&"integerValue"in u)return gt(l.integerValue)===gt(u.integerValue);if("doubleValue"in l&&"doubleValue"in u){const f=gt(l.doubleValue),m=gt(u.doubleValue);return f===m?Ch(f)===Ch(m):isNaN(f)&&isNaN(m)}return!1})(r,e);case 9:return ml(r.arrayValue.values||[],e.arrayValue.values||[],ji);case 10:case 11:return(function(l,u){const f=l.mapValue.fields||{},m=u.mapValue.fields||{};if(D0(f)!==D0(m))return!1;for(const p in f)if(f.hasOwnProperty(p)&&(m[p]===void 0||!ji(f[p],m[p])))return!1;return!0})(r,e);default:return _e(52216,{left:r})}}function ru(r,e){return(r.values||[]).find((n=>ji(n,e)))!==void 0}function pl(r,e){if(r===e)return 0;const n=hs(r),s=hs(e);if(n!==s)return Ve(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ve(r.booleanValue,e.booleanValue);case 2:return(function(u,f){const m=gt(u.integerValue||u.doubleValue),p=gt(f.integerValue||f.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1})(r,e);case 3:return M0(r.timestampValue,e.timestampValue);case 4:return M0(nu(r),nu(e));case 5:return Fm(r.stringValue,e.stringValue);case 6:return(function(u,f){const m=cs(u),p=cs(f);return m.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(u,f){const m=u.split("/"),p=f.split("/");for(let g=0;g<m.length&&g<p.length;g++){const T=Ve(m[g],p[g]);if(T!==0)return T}return Ve(m.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(u,f){const m=Ve(gt(u.latitude),gt(f.latitude));return m!==0?m:Ve(gt(u.longitude),gt(f.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return V0(r.arrayValue,e.arrayValue);case 10:return(function(u,f){const m=u.fields||{},p=f.fields||{},g=m[Ih]?.arrayValue,T=p[Ih]?.arrayValue,b=Ve(g?.values?.length||0,T?.values?.length||0);return b!==0?b:V0(g,T)})(r.mapValue,e.mapValue);case 11:return(function(u,f){if(u===nh.mapValue&&f===nh.mapValue)return 0;if(u===nh.mapValue)return 1;if(f===nh.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=f.fields||{},T=Object.keys(g);p.sort(),T.sort();for(let b=0;b<p.length&&b<T.length;++b){const x=Fm(p[b],T[b]);if(x!==0)return x;const j=pl(m[p[b]],g[T[b]]);if(j!==0)return j}return Ve(p.length,T.length)})(r.mapValue,e.mapValue);default:throw _e(23264,{he:n})}}function M0(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ve(r,e);const n=us(r),s=us(e),l=Ve(n.seconds,s.seconds);return l!==0?l:Ve(n.nanos,s.nanos)}function V0(r,e){const n=r.values||[],s=e.values||[];for(let l=0;l<n.length&&l<s.length;++l){const u=pl(n[l],s[l]);if(u)return u}return Ve(n.length,s.length)}function gl(r){return Gm(r)}function Gm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(n){const s=us(n);return`time(${s.seconds},${s.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(n){return cs(n).toBase64()})(r.bytesValue):"referenceValue"in r?(function(n){return de.fromName(n).toString()})(r.referenceValue):"geoPointValue"in r?(function(n){return`geo(${n.latitude},${n.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(n){let s="[",l=!0;for(const u of n.values||[])l?l=!1:s+=",",s+=Gm(u);return s+"]"})(r.arrayValue):"mapValue"in r?(function(n){const s=Object.keys(n.fields||{}).sort();let l="{",u=!0;for(const f of s)u?u=!1:l+=",",l+=`${f}:${Gm(n.fields[f])}`;return l+"}"})(r.mapValue):_e(61005,{value:r})}function dh(r){switch(hs(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jh(r);return e?16+dh(e):16;case 5:return 2*r.stringValue.length;case 6:return cs(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((l,u)=>l+dh(u)),0)})(r.arrayValue);case 10:case 11:return(function(s){let l=0;return gs(s.fields,((u,f)=>{l+=u.length+dh(f)})),l})(r.mapValue);default:throw _e(13486,{value:r})}}function L0(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Ym(r){return!!r&&"integerValue"in r}function Ip(r){return!!r&&"arrayValue"in r}function P0(r){return!!r&&"nullValue"in r}function j0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function mh(r){return!!r&&"mapValue"in r}function WC(r){return(r?.mapValue?.fields||{})[XT]?.stringValue===$T}function Qo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return gs(r.mapValue.fields,((n,s)=>e.mapValue.fields[n]=Qo(s))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qo(r.arrayValue.values[n]);return e}return{...r}}function eN(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ZC}class fn{constructor(e){this.value=e}static empty(){return new fn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!mh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Qo(n)}setAll(e){let n=Qt.emptyPath(),s={},l=[];e.forEach(((f,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,l),s={},l=[],n=m.popLast()}f?s[m.lastSegment()]=Qo(f):l.push(m.lastSegment())}));const u=this.getFieldsMap(n);this.applyChanges(u,s,l)}delete(e){const n=this.field(e.popLast());mh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return ji(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let l=n.mapValue.fields[e.get(s)];mh(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=l),n=l}return n.mapValue.fields}applyChanges(e,n,s){gs(n,((l,u)=>e[l]=u));for(const l of s)delete e[l]}clone(){return new fn(Qo(this.value))}}function JT(r){const e=[];return gs(r.fields,((n,s)=>{const l=new Qt([n]);if(mh(s)){const u=JT(s.mapValue).fields;if(u.length===0)e.push(l);else for(const f of u)e.push(l.child(f))}else e.push(l)})),new bn(e)}class Zt{constructor(e,n,s,l,u,f,m){this.key=e,this.documentType=n,this.version=s,this.readTime=l,this.createTime=u,this.data=f,this.documentState=m}static newInvalidDocument(e){return new Zt(e,0,Te.min(),Te.min(),Te.min(),fn.empty(),0)}static newFoundDocument(e,n,s,l){return new Zt(e,1,n,Te.min(),s,l,0)}static newNoDocument(e,n){return new Zt(e,2,n,Te.min(),Te.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new Zt(e,3,n,Te.min(),Te.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Zt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Zt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Dh{constructor(e,n){this.position=e,this.inclusive=n}}function k0(r,e,n){let s=0;for(let l=0;l<r.position.length;l++){const u=e[l],f=r.position[l];if(u.field.isKeyField()?s=de.comparator(de.fromName(f.referenceValue),n.key):s=pl(f,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function U0(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!ji(r.position[n],e.position[n]))return!1;return!0}class Oh{constructor(e,n="asc"){this.field=e,this.dir=n}}function tN(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class ZT{}class Ct extends ZT{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new iN(e,n,s):n==="array-contains"?new aN(e,s):n==="in"?new lN(e,s):n==="not-in"?new oN(e,s):n==="array-contains-any"?new uN(e,s):new Ct(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new rN(e,s):new sN(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&hs(this.value)===hs(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return _e(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ri extends ZT{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ri(e,n)}matches(e){return WT(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WT(r){return r.op==="and"}function e1(r){return nN(r)&&WT(r)}function nN(r){for(const e of r.filters)if(e instanceof ri)return!1;return!0}function Qm(r){if(r instanceof Ct)return r.field.canonicalString()+r.op.toString()+gl(r.value);if(e1(r))return r.filters.map((e=>Qm(e))).join(",");{const e=r.filters.map((n=>Qm(n))).join(",");return`${r.op}(${e})`}}function t1(r,e){return r instanceof Ct?(function(s,l){return l instanceof Ct&&s.op===l.op&&s.field.isEqual(l.field)&&ji(s.value,l.value)})(r,e):r instanceof ri?(function(s,l){return l instanceof ri&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce(((u,f,m)=>u&&t1(f,l.filters[m])),!0):!1})(r,e):void _e(19439)}function n1(r){return r instanceof Ct?(function(n){return`${n.field.canonicalString()} ${n.op} ${gl(n.value)}`})(r):r instanceof ri?(function(n){return n.op.toString()+" {"+n.getFilters().map(n1).join(" ,")+"}"})(r):"Filter"}class iN extends Ct{constructor(e,n,s){super(e,n,s),this.key=de.fromName(s.referenceValue)}matches(e){const n=de.comparator(e.key,this.key);return this.matchesComparison(n)}}class rN extends Ct{constructor(e,n){super(e,"in",n),this.keys=i1("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class sN extends Ct{constructor(e,n){super(e,"not-in",n),this.keys=i1("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function i1(r,e){return(e.arrayValue?.values||[]).map((n=>de.fromName(n.referenceValue)))}class aN extends Ct{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ip(n)&&ru(n.arrayValue,this.value)}}class lN extends Ct{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ru(this.value.arrayValue,n)}}class oN extends Ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ru(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ru(this.value.arrayValue,n)}}class uN extends Ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ip(n)||!n.arrayValue.values)&&n.arrayValue.values.some((s=>ru(this.value.arrayValue,s)))}}class cN{constructor(e,n=null,s=[],l=[],u=null,f=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=l,this.limit=u,this.startAt=f,this.endAt=m,this.Te=null}}function z0(r,e=null,n=[],s=[],l=null,u=null,f=null){return new cN(r,e,n,s,l,u,f)}function Dp(r){const e=Se(r);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((s=>Qm(s))).join(","),n+="|ob:",n+=e.orderBy.map((s=>(function(u){return u.field.canonicalString()+u.dir})(s))).join(","),$h(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((s=>gl(s))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((s=>gl(s))).join(",")),e.Te=n}return e.Te}function Op(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!tN(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!t1(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!U0(r.startAt,e.startAt)&&U0(r.endAt,e.endAt)}function Km(r){return de.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class yu{constructor(e,n=null,s=[],l=[],u=null,f="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=l,this.limit=u,this.limitType=f,this.startAt=m,this.endAt=p,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function hN(r,e,n,s,l,u,f,m){return new yu(r,e,n,s,l,u,f,m)}function Mp(r){return new yu(r)}function B0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function r1(r){return r.collectionGroup!==null}function Ko(r){const e=Se(r);if(e.Ie===null){e.Ie=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ie.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(f){let m=new Vt(Qt.comparator);return f.filters.forEach((p=>{p.getFlattenedFilters().forEach((g=>{g.isInequality()&&(m=m.add(g.field))}))})),m})(e).forEach((u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ie.push(new Oh(u,s))})),n.has(Qt.keyField().canonicalString())||e.Ie.push(new Oh(Qt.keyField(),s))}return e.Ie}function Mi(r){const e=Se(r);return e.Ee||(e.Ee=fN(e,Ko(r))),e.Ee}function fN(r,e){if(r.limitType==="F")return z0(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((l=>{const u=l.dir==="desc"?"asc":"desc";return new Oh(l.field,u)}));const n=r.endAt?new Dh(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Dh(r.startAt.position,r.startAt.inclusive):null;return z0(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function Xm(r,e){const n=r.filters.concat([e]);return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function Mh(r,e,n){return new yu(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function Zh(r,e){return Op(Mi(r),Mi(e))&&r.limitType===e.limitType}function s1(r){return`${Dp(Mi(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${(function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map((l=>n1(l))).join(", ")}]`),$h(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map((l=>(function(f){return`${f.field.canonicalString()} (${f.dir})`})(l))).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map((l=>gl(l))).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map((l=>gl(l))).join(",")),`Target(${s})`})(Mi(r))}; limitType=${r.limitType})`}function Wh(r,e){return e.isFoundDocument()&&(function(s,l){const u=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):de.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)})(r,e)&&(function(s,l){for(const u of Ko(s))if(!u.field.isKeyField()&&l.data.field(u.field)===null)return!1;return!0})(r,e)&&(function(s,l){for(const u of s.filters)if(!u.matches(l))return!1;return!0})(r,e)&&(function(s,l){return!(s.startAt&&!(function(f,m,p){const g=k0(f,m,p);return f.inclusive?g<=0:g<0})(s.startAt,Ko(s),l)||s.endAt&&!(function(f,m,p){const g=k0(f,m,p);return f.inclusive?g>=0:g>0})(s.endAt,Ko(s),l))})(r,e)}function dN(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function a1(r){return(e,n)=>{let s=!1;for(const l of Ko(r)){const u=mN(l,e,n);if(u!==0)return u;s=s||l.field.isKeyField()}return 0}}function mN(r,e,n){const s=r.field.isKeyField()?de.comparator(e.key,n.key):(function(u,f,m){const p=f.data.field(u),g=m.data.field(u);return p!==null&&g!==null?pl(p,g):_e(42886)})(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return _e(19790,{direction:r.dir})}}class la{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[l,u]of s)if(this.equalsFn(l,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),l=this.inner[s];if(l===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<l.length;u++)if(this.equalsFn(l[u][0],e))return void(l[u]=[e,n]);l.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],e))return s.length===1?delete this.inner[n]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(e){gs(this.inner,((n,s)=>{for(const[l,u]of s)e(l,u)}))}isEmpty(){return HT(this.inner)}size(){return this.innerSize}}const pN=new ut(de.comparator);function dr(){return pN}const l1=new ut(de.comparator);function Bo(...r){let e=l1;for(const n of r)e=e.insert(n.key,n);return e}function o1(r){let e=l1;return r.forEach(((n,s)=>e=e.insert(n,s.overlayedDocument))),e}function $s(){return Xo()}function u1(){return Xo()}function Xo(){return new la((r=>r.toString()),((r,e)=>r.isEqual(e)))}const gN=new ut(de.comparator),yN=new Vt(de.comparator);function Le(...r){let e=yN;for(const n of r)e=e.add(n);return e}const _N=new Vt(Ve);function vN(){return _N}function Vp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ch(e)?"-0":e}}function c1(r){return{integerValue:""+r}}function EN(r,e){return QC(e)?c1(e):Vp(r,e)}class ef{constructor(){this._=void 0}}function TN(r,e,n){return r instanceof su?(function(l,u){const f={fields:{[YT]:{stringValue:GT},[KT]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return u&&Np(u)&&(u=Jh(u)),u&&(f.fields[QT]=u),{mapValue:f}})(n,e):r instanceof au?f1(r,e):r instanceof lu?d1(r,e):(function(l,u){const f=h1(l,u),m=q0(f)+q0(l.Ae);return Ym(f)&&Ym(l.Ae)?c1(m):Vp(l.serializer,m)})(r,e)}function bN(r,e,n){return r instanceof au?f1(r,e):r instanceof lu?d1(r,e):n}function h1(r,e){return r instanceof Vh?(function(s){return Ym(s)||(function(u){return!!u&&"doubleValue"in u})(s)})(e)?e:{integerValue:0}:null}class su extends ef{}class au extends ef{constructor(e){super(),this.elements=e}}function f1(r,e){const n=m1(e);for(const s of r.elements)n.some((l=>ji(l,s)))||n.push(s);return{arrayValue:{values:n}}}class lu extends ef{constructor(e){super(),this.elements=e}}function d1(r,e){let n=m1(e);for(const s of r.elements)n=n.filter((l=>!ji(l,s)));return{arrayValue:{values:n}}}class Vh extends ef{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function q0(r){return gt(r.integerValue||r.doubleValue)}function m1(r){return Ip(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class SN{constructor(e,n){this.field=e,this.transform=n}}function AN(r,e){return r.field.isEqual(e.field)&&(function(s,l){return s instanceof au&&l instanceof au||s instanceof lu&&l instanceof lu?ml(s.elements,l.elements,ji):s instanceof Vh&&l instanceof Vh?ji(s.Ae,l.Ae):s instanceof su&&l instanceof su})(r.transform,e.transform)}class wN{constructor(e,n){this.version=e,this.transformResults=n}}class zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new zn}static exists(e){return new zn(void 0,e)}static updateTime(e){return new zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ph(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class tf{}function p1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Lp(r.key,zn.none()):new _u(r.key,r.data,zn.none());{const n=r.data,s=fn.empty();let l=new Vt(Qt.comparator);for(let u of e.fields)if(!l.has(u)){let f=n.field(u);f===null&&u.length>1&&(u=u.popLast(),f=n.field(u)),f===null?s.delete(u):s.set(u,f),l=l.add(u)}return new ys(r.key,s,new bn(l.toArray()),zn.none())}}function xN(r,e,n){r instanceof _u?(function(l,u,f){const m=l.value.clone(),p=F0(l.fieldTransforms,u,f.transformResults);m.setAll(p),u.convertToFoundDocument(f.version,m).setHasCommittedMutations()})(r,e,n):r instanceof ys?(function(l,u,f){if(!ph(l.precondition,u))return void u.convertToUnknownDocument(f.version);const m=F0(l.fieldTransforms,u,f.transformResults),p=u.data;p.setAll(g1(l)),p.setAll(m),u.convertToFoundDocument(f.version,p).setHasCommittedMutations()})(r,e,n):(function(l,u,f){u.convertToNoDocument(f.version).setHasCommittedMutations()})(0,e,n)}function $o(r,e,n,s){return r instanceof _u?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=u.value.clone(),T=G0(u.fieldTransforms,p,f);return g.setAll(T),f.convertToFoundDocument(f.version,g).setHasLocalMutations(),null})(r,e,n,s):r instanceof ys?(function(u,f,m,p){if(!ph(u.precondition,f))return m;const g=G0(u.fieldTransforms,p,f),T=f.data;return T.setAll(g1(u)),T.setAll(g),f.convertToFoundDocument(f.version,T).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map((b=>b.field)))})(r,e,n,s):(function(u,f,m){return ph(u.precondition,f)?(f.convertToNoDocument(f.version).setHasLocalMutations(),null):m})(r,e,n)}function RN(r,e){let n=null;for(const s of r.fieldTransforms){const l=e.data.field(s.field),u=h1(s.transform,l||null);u!=null&&(n===null&&(n=fn.empty()),n.set(s.field,u))}return n||null}function H0(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&ml(s,l,((u,f)=>AN(u,f)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class _u extends tf{constructor(e,n,s,l=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ys extends tf{constructor(e,n,s,l,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=l,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function g1(r){const e=new Map;return r.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}})),e}function F0(r,e,n){const s=new Map;Fe(r.length===n.length,32656,{Re:n.length,Ve:r.length});for(let l=0;l<n.length;l++){const u=r[l],f=u.transform,m=e.data.field(u.field);s.set(u.field,bN(f,m,n[l]))}return s}function G0(r,e,n){const s=new Map;for(const l of r){const u=l.transform,f=n.data.field(l.field);s.set(l.field,TN(u,f,e))}return s}class Lp extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class CN extends tf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class NN{constructor(e,n,s,l){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let l=0;l<this.mutations.length;l++){const u=this.mutations[l];u.key.isEqual(e.key)&&xN(u,e,s[l])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=$o(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=$o(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=u1();return this.mutations.forEach((l=>{const u=e.get(l.key),f=u.overlayedDocument;let m=this.applyToLocalView(f,u.mutatedFields);m=n.has(l.key)?null:m;const p=p1(f,m);p!==null&&s.set(l.key,p),f.isValidDocument()||f.convertToNoDocument(Te.min())})),s}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),Le())}isEqual(e){return this.batchId===e.batchId&&ml(this.mutations,e.mutations,((n,s)=>H0(n,s)))&&ml(this.baseMutations,e.baseMutations,((n,s)=>H0(n,s)))}}class Pp{constructor(e,n,s,l){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=l}static from(e,n,s){Fe(e.mutations.length===s.length,58842,{me:e.mutations.length,fe:s.length});let l=(function(){return gN})();const u=e.mutations;for(let f=0;f<u.length;f++)l=l.insert(u[f].key,s[f].version);return new Pp(e,n,s,l)}}class IN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class DN{constructor(e,n){this.count=e,this.unchangedNames=n}}var Rt,ke;function ON(r){switch(r){case Z.OK:return _e(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return _e(15467,{code:r})}}function y1(r){if(r===void 0)return fr("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Rt.OK:return Z.OK;case Rt.CANCELLED:return Z.CANCELLED;case Rt.UNKNOWN:return Z.UNKNOWN;case Rt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Rt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Rt.INTERNAL:return Z.INTERNAL;case Rt.UNAVAILABLE:return Z.UNAVAILABLE;case Rt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Rt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Rt.NOT_FOUND:return Z.NOT_FOUND;case Rt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Rt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Rt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Rt.ABORTED:return Z.ABORTED;case Rt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Rt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Rt.DATA_LOSS:return Z.DATA_LOSS;default:return _e(39323,{code:r})}}(ke=Rt||(Rt={}))[ke.OK=0]="OK",ke[ke.CANCELLED=1]="CANCELLED",ke[ke.UNKNOWN=2]="UNKNOWN",ke[ke.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ke[ke.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ke[ke.NOT_FOUND=5]="NOT_FOUND",ke[ke.ALREADY_EXISTS=6]="ALREADY_EXISTS",ke[ke.PERMISSION_DENIED=7]="PERMISSION_DENIED",ke[ke.UNAUTHENTICATED=16]="UNAUTHENTICATED",ke[ke.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ke[ke.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ke[ke.ABORTED=10]="ABORTED",ke[ke.OUT_OF_RANGE=11]="OUT_OF_RANGE",ke[ke.UNIMPLEMENTED=12]="UNIMPLEMENTED",ke[ke.INTERNAL=13]="INTERNAL",ke[ke.UNAVAILABLE=14]="UNAVAILABLE",ke[ke.DATA_LOSS=15]="DATA_LOSS";function MN(){return new TextEncoder}const VN=new as([4294967295,4294967295],0);function Y0(r){const e=MN().encode(r),n=new OT;return n.update(e),new Uint8Array(n.digest())}function Q0(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),l=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new as([n,s],0),new as([l,u],0)]}class jp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new qo(`Invalid padding: ${n}`);if(s<0)throw new qo(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new qo(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new qo(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=as.fromNumber(this.ge)}ye(e,n,s){let l=e.add(n.multiply(as.fromNumber(s)));return l.compare(VN)===1&&(l=new as([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Y0(e),[s,l]=Q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);if(!this.we(f))return!1}return!0}static create(e,n,s){const l=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),f=new jp(u,l,n);return s.forEach((m=>f.insert(m))),f}insert(e){if(this.ge===0)return;const n=Y0(e),[s,l]=Q0(n);for(let u=0;u<this.hashCount;u++){const f=this.ye(s,l,u);this.Se(f)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class qo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class nf{constructor(e,n,s,l,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const l=new Map;return l.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new nf(Te.min(),l,new ut(Ve),dr(),Le())}}class vu{constructor(e,n,s,l,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new vu(s,n,Le(),Le(),Le())}}class gh{constructor(e,n,s,l){this.be=e,this.removedTargetIds=n,this.key=s,this.De=l}}class _1{constructor(e,n){this.targetId=e,this.Ce=n}}class v1{constructor(e,n,s=Kt.EMPTY_BYTE_STRING,l=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=l}}class K0{constructor(){this.ve=0,this.Fe=X0(),this.Me=Kt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Le(),n=Le(),s=Le();return this.Fe.forEach(((l,u)=>{switch(u){case 0:e=e.add(l);break;case 2:n=n.add(l);break;case 1:s=s.add(l);break;default:_e(38017,{changeType:u})}})),new vu(this.Me,this.xe,e,n,s)}qe(){this.Oe=!1,this.Fe=X0()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Fe(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class LN{constructor(e){this.Ge=e,this.ze=new Map,this.je=dr(),this.Je=ih(),this.He=ih(),this.Ye=new ut(Ve)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,(n=>{const s=this.nt(n);switch(e.state){case 0:this.rt(n)&&s.Le(e.resumeToken);break;case 1:s.Ke(),s.Ne||s.qe(),s.Le(e.resumeToken);break;case 2:s.Ke(),s.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(s.We(),s.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),s.Le(e.resumeToken));break;default:_e(56790,{state:e.state})}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach(((s,l)=>{this.rt(l)&&n(l)}))}st(e){const n=e.targetId,s=e.Ce.count,l=this.ot(n);if(l){const u=l.target;if(Km(u))if(s===0){const f=new de(u.path);this.et(n,f,Zt.newNoDocument(f,Te.min()))}else Fe(s===1,20013,{expectedCount:s});else{const f=this._t(n);if(f!==s){const m=this.ut(e),p=m?this.ct(m,e,f):1;if(p!==0){this.it(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,g)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:u=0}=n;let f,m;try{f=cs(s).toUint8Array()}catch(p){if(p instanceof FT)return dl("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new jp(f,l,u)}catch(p){return dl(p instanceof qo?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.ge===0?null:m}ct(e,n,s){return n.Ce.count===s-this.Pt(e,n.targetId)?0:2}Pt(e,n){const s=this.Ge.getRemoteKeysForTarget(n);let l=0;return s.forEach((u=>{const f=this.Ge.ht(),m=`projects/${f.projectId}/databases/${f.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.et(n,u,null),l++)})),l}Tt(e){const n=new Map;this.ze.forEach(((u,f)=>{const m=this.ot(f);if(m){if(u.current&&Km(m.target)){const p=new de(m.target.path);this.It(p).has(f)||this.Et(f,p)||this.et(f,p,Zt.newNoDocument(p,e))}u.Be&&(n.set(f,u.ke()),u.qe())}}));let s=Le();this.He.forEach(((u,f)=>{let m=!0;f.forEachWhile((p=>{const g=this.ot(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(s=s.add(u))})),this.je.forEach(((u,f)=>f.setReadTime(e)));const l=new nf(e,n,this.Ye,this.je,s);return this.je=dr(),this.Je=ih(),this.He=ih(),this.Ye=new ut(Ve),l}Xe(e,n){if(!this.rt(e))return;const s=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,s),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,s){if(!this.rt(e))return;const l=this.nt(e);this.Et(e,n)?l.Qe(n,1):l.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),s&&(this.je=this.je.insert(n,s))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new K0,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vt(Ve),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vt(Ve),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||oe("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new K0),this.Ge.getRemoteKeysForTarget(e).forEach((n=>{this.et(e,n,null)}))}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function ih(){return new ut(de.comparator)}function X0(){return new ut(de.comparator)}const PN={asc:"ASCENDING",desc:"DESCENDING"},jN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kN={and:"AND",or:"OR"};class UN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(r,e){return r.useProto3Json||$h(e)?e:{value:e}}function Lh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function E1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function zN(r,e){return Lh(r,e.toTimestamp())}function Vi(r){return Fe(!!r,49232),Te.fromTimestamp((function(n){const s=us(n);return new it(s.seconds,s.nanos)})(r))}function kp(r,e){return Jm(r,e).canonicalString()}function Jm(r,e){const n=(function(l){return new et(["projects",l.projectId,"databases",l.database])})(r).child("documents");return e===void 0?n:n.child(e)}function T1(r){const e=et.fromString(r);return Fe(x1(e),10190,{key:e.toString()}),e}function Zm(r,e){return kp(r.databaseId,e.path)}function Cm(r,e){const n=T1(e);if(n.get(1)!==r.databaseId.projectId)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new le(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new de(S1(n))}function b1(r,e){return kp(r.databaseId,e)}function BN(r){const e=T1(r);return e.length===4?et.emptyPath():S1(e)}function Wm(r){return new et(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S1(r){return Fe(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function $0(r,e,n){return{name:Zm(r,e),fields:n.value.mapValue.fields}}function qN(r,e){let n;if("targetChange"in e){e.targetChange;const s=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:_e(39313,{state:g})})(e.targetChange.targetChangeType||"NO_CHANGE"),l=e.targetChange.targetIds||[],u=(function(g,T){return g.useProto3Json?(Fe(T===void 0||typeof T=="string",58123),Kt.fromBase64String(T||"")):(Fe(T===void 0||T instanceof Buffer||T instanceof Uint8Array,16193),Kt.fromUint8Array(T||new Uint8Array))})(r,e.targetChange.resumeToken),f=e.targetChange.cause,m=f&&(function(g){const T=g.code===void 0?Z.UNKNOWN:y1(g.code);return new le(T,g.message||"")})(f);n=new v1(s,l,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const l=Cm(r,s.document.name),u=Vi(s.document.updateTime),f=s.document.createTime?Vi(s.document.createTime):Te.min(),m=new fn({mapValue:{fields:s.document.fields}}),p=Zt.newFoundDocument(l,u,f,m),g=s.targetIds||[],T=s.removedTargetIds||[];n=new gh(g,T,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const l=Cm(r,s.document),u=s.readTime?Vi(s.readTime):Te.min(),f=Zt.newNoDocument(l,u),m=s.removedTargetIds||[];n=new gh([],m,f.key,f)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const l=Cm(r,s.document),u=s.removedTargetIds||[];n=new gh([],u,l,null)}else{if(!("filter"in e))return _e(11601,{Rt:e});{e.filter;const s=e.filter;s.targetId;const{count:l=0,unchangedNames:u}=s,f=new DN(l,u),m=s.targetId;n=new _1(m,f)}}return n}function HN(r,e){let n;if(e instanceof _u)n={update:$0(r,e.key,e.value)};else if(e instanceof Lp)n={delete:Zm(r,e.key)};else if(e instanceof ys)n={update:$0(r,e.key,e.data),updateMask:ZN(e.fieldMask)};else{if(!(e instanceof CN))return _e(16599,{Vt:e.type});n={verify:Zm(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((s=>(function(u,f){const m=f.transform;if(m instanceof su)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof au)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof lu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Vh)return{fieldPath:f.field.canonicalString(),increment:m.Ae};throw _e(20930,{transform:f.transform})})(0,s)))),e.precondition.isNone||(n.currentDocument=(function(l,u){return u.updateTime!==void 0?{updateTime:zN(l,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:_e(27497)})(r,e.precondition)),n}function FN(r,e){return r&&r.length>0?(Fe(e!==void 0,14353),r.map((n=>(function(l,u){let f=l.updateTime?Vi(l.updateTime):Vi(u);return f.isEqual(Te.min())&&(f=Vi(u)),new wN(f,l.transformResults||[])})(n,e)))):[]}function GN(r,e){return{documents:[b1(r,e.path)]}}function YN(r,e){const n={structuredQuery:{}},s=e.path;let l;e.collectionGroup!==null?(l=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(l=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=b1(r,l);const u=(function(g){if(g.length!==0)return w1(ri.create(g,"and"))})(e.filters);u&&(n.structuredQuery.where=u);const f=(function(g){if(g.length!==0)return g.map((T=>(function(x){return{field:rl(x.field),direction:XN(x.dir)}})(T)))})(e.orderBy);f&&(n.structuredQuery.orderBy=f);const m=$m(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(e.endAt)),{ft:n,parent:l}}function QN(r){let e=BN(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let l=null;if(s>0){Fe(s===1,65062);const T=n.from[0];T.allDescendants?l=T.collectionId:e=e.child(T.collectionId)}let u=[];n.where&&(u=(function(b){const x=A1(b);return x instanceof ri&&e1(x)?x.getFilters():[x]})(n.where));let f=[];n.orderBy&&(f=(function(b){return b.map((x=>(function(G){return new Oh(sl(G.field),(function(H){switch(H){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(G.direction))})(x)))})(n.orderBy));let m=null;n.limit&&(m=(function(b){let x;return x=typeof b=="object"?b.value:b,$h(x)?null:x})(n.limit));let p=null;n.startAt&&(p=(function(b){const x=!!b.before,j=b.values||[];return new Dh(j,x)})(n.startAt));let g=null;return n.endAt&&(g=(function(b){const x=!b.before,j=b.values||[];return new Dh(j,x)})(n.endAt)),hN(e,l,f,u,m,"F",p,g)}function KN(r,e){const n=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _e(28987,{purpose:l})}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function A1(r){return r.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=sl(n.unaryFilter.field);return Ct.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=sl(n.unaryFilter.field);return Ct.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=sl(n.unaryFilter.field);return Ct.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const f=sl(n.unaryFilter.field);return Ct.create(f,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _e(61313);default:return _e(60726)}})(r):r.fieldFilter!==void 0?(function(n){return Ct.create(sl(n.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _e(58110);default:return _e(50506)}})(n.fieldFilter.op),n.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(n){return ri.create(n.compositeFilter.filters.map((s=>A1(s))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _e(1026)}})(n.compositeFilter.op))})(r):_e(30097,{filter:r})}function XN(r){return PN[r]}function $N(r){return jN[r]}function JN(r){return kN[r]}function rl(r){return{fieldPath:r.canonicalString()}}function sl(r){return Qt.fromServerFormat(r.fieldPath)}function w1(r){return r instanceof Ct?(function(n){if(n.op==="=="){if(j0(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NAN"}};if(P0(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(j0(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NAN"}};if(P0(n.value))return{unaryFilter:{field:rl(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rl(n.field),op:$N(n.op),value:n.value}}})(r):r instanceof ri?(function(n){const s=n.getFilters().map((l=>w1(l)));return s.length===1?s[0]:{compositeFilter:{op:JN(n.op),filters:s}}})(r):_e(54877,{filter:r})}function ZN(r){const e=[];return r.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function x1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class ns{constructor(e,n,s,l,u=Te.min(),f=Te.min(),m=Kt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=f,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new ns(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ns(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class WN{constructor(e){this.yt=e}}function eI(r){const e=QN({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Mh(e,e.limit,"L"):e}class tI{constructor(){this.Cn=new nI}addToCollectionParentIndex(e,n){return this.Cn.add(n),ee.resolve()}getCollectionParents(e,n){return ee.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return ee.resolve()}deleteFieldIndex(e,n){return ee.resolve()}deleteAllFieldIndexes(e){return ee.resolve()}createTargetIndexes(e,n){return ee.resolve()}getDocumentsMatchingTarget(e,n){return ee.resolve(null)}getIndexType(e,n){return ee.resolve(0)}getFieldIndexes(e,n){return ee.resolve([])}getNextCollectionGroupToUpdate(e){return ee.resolve(null)}getMinOffset(e,n){return ee.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return ee.resolve(os.min())}updateCollectionGroup(e,n,s){return ee.resolve()}updateIndexEntries(e,n){return ee.resolve()}}class nI{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n]||new Vt(et.comparator),u=!l.has(s);return this.index[n]=l.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),l=this.index[n];return l&&l.has(s)}getEntries(e){return(this.index[e]||new Vt(et.comparator)).toArray()}}const J0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R1=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(R1,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);class yl{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new yl(0)}static cr(){return new yl(-1)}}const Z0="LruGarbageCollector",iI=1048576;function W0([r,e],[n,s]){const l=Ve(r,n);return l===0?Ve(e,s):l}class rI{constructor(e){this.Ir=e,this.buffer=new Vt(W0),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();W0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class sI{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){oe(Z0,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cl(n)?oe(Z0,"Ignoring IndexedDB error during garbage collection: ",n):await Rl(n)}await this.Vr(3e5)}))}}class aI{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next((s=>Math.floor(n/100*s)))}nthSequenceNumber(e,n){if(n===0)return ee.resolve(Xh.ce);const s=new rI(n);return this.mr.forEachTarget(e,(l=>s.Ar(l.sequenceNumber))).next((()=>this.mr.pr(e,(l=>s.Ar(l))))).next((()=>s.maxValue))}removeTargets(e,n,s){return this.mr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(oe("LruGarbageCollector","Garbage collection skipped; disabled"),ee.resolve(J0)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(oe("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),J0):this.yr(e,n)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let s,l,u,f,m,p,g;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(oe("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,f=Date.now(),this.nthSequenceNumber(e,l)))).next((b=>(s=b,m=Date.now(),this.removeTargets(e,s,n)))).next((b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((b=>(g=Date.now(),nl()<=Me.DEBUG&&oe("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${f-T}ms
	Determined least recently used ${l} in `+(m-f)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-T}ms`),ee.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:u,documentsRemoved:b}))))}}function lI(r,e){return new aI(r,e)}class oI{constructor(){this.changes=new la((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Zt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?ee.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class uI{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}class cI{constructor(e,n,s,l){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=l}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next((l=>(s=l,this.remoteDocumentCache.getEntry(e,n)))).next((l=>(s!==null&&$o(s.mutation,l,bn.empty(),it.now()),l)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.getLocalViewOfDocuments(e,s,Le()).next((()=>s))))}getLocalViewOfDocuments(e,n,s=Le()){const l=$s();return this.populateOverlays(e,l,n).next((()=>this.computeViews(e,n,l,s).next((u=>{let f=Bo();return u.forEach(((m,p)=>{f=f.insert(m,p.overlayedDocument)})),f}))))}getOverlayedDocuments(e,n){const s=$s();return this.populateOverlays(e,s,n).next((()=>this.computeViews(e,n,s,Le())))}populateOverlays(e,n,s){const l=[];return s.forEach((u=>{n.has(u)||l.push(u)})),this.documentOverlayCache.getOverlays(e,l).next((u=>{u.forEach(((f,m)=>{n.set(f,m)}))}))}computeViews(e,n,s,l){let u=dr();const f=Xo(),m=(function(){return Xo()})();return n.forEach(((p,g)=>{const T=s.get(g.key);l.has(g.key)&&(T===void 0||T.mutation instanceof ys)?u=u.insert(g.key,g):T!==void 0?(f.set(g.key,T.mutation.getFieldMask()),$o(T.mutation,g,T.mutation.getFieldMask(),it.now())):f.set(g.key,bn.empty())})),this.recalculateAndSaveOverlays(e,u).next((p=>(p.forEach(((g,T)=>f.set(g,T))),n.forEach(((g,T)=>m.set(g,new uI(T,f.get(g)??null)))),m)))}recalculateAndSaveOverlays(e,n){const s=Xo();let l=new ut(((f,m)=>f-m)),u=Le();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((f=>{for(const m of f)m.keys().forEach((p=>{const g=n.get(p);if(g===null)return;let T=s.get(p)||bn.empty();T=m.applyToLocalView(g,T),s.set(p,T);const b=(l.get(m.batchId)||Le()).add(p);l=l.insert(m.batchId,b)}))})).next((()=>{const f=[],m=l.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,T=p.value,b=u1();T.forEach((x=>{if(!u.has(x)){const j=p1(n.get(x),s.get(x));j!==null&&b.set(x,j),u=u.add(x)}})),f.push(this.documentOverlayCache.saveOverlays(e,g,b))}return ee.waitFor(f)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,n,s,l){return(function(f){return de.isDocumentKey(f.path)&&f.collectionGroup===null&&f.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):r1(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,l):this.getDocumentsMatchingCollectionQuery(e,n,s,l)}getNextDocuments(e,n,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,l).next((u=>{const f=l-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,l-u.size):ee.resolve($s());let m=tu,p=u;return f.next((g=>ee.forEach(g,((T,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(T)?ee.resolve():this.remoteDocumentCache.getEntry(e,T).next((x=>{p=p.insert(T,x)}))))).next((()=>this.populateOverlays(e,g,u))).next((()=>this.computeViews(e,p,g,Le()))).next((T=>({batchId:m,changes:o1(T)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new de(n)).next((s=>{let l=Bo();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l}))}getDocumentsMatchingCollectionGroupQuery(e,n,s,l){const u=n.collectionGroup;let f=Bo();return this.indexManager.getCollectionParents(e,u).next((m=>ee.forEach(m,(p=>{const g=(function(b,x){return new yu(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,l).next((T=>{T.forEach(((b,x)=>{f=f.insert(b,x)}))}))})).next((()=>f))))}getDocumentsMatchingCollectionQuery(e,n,s,l){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next((f=>(u=f,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,l)))).next((f=>{u.forEach(((p,g)=>{const T=g.getKey();f.get(T)===null&&(f=f.insert(T,Zt.newInvalidDocument(T)))}));let m=Bo();return f.forEach(((p,g)=>{const T=u.get(p);T!==void 0&&$o(T.mutation,g,bn.empty(),it.now()),Wh(n,g)&&(m=m.insert(p,g))})),m}))}}class hI{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return ee.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(n)),ee.resolve()}getNamedQuery(e,n){return ee.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,(function(l){return{name:l.name,query:eI(l.bundledQuery),readTime:Vi(l.readTime)}})(n)),ee.resolve()}}class fI{constructor(){this.overlays=new ut(de.comparator),this.qr=new Map}getOverlay(e,n){return ee.resolve(this.overlays.get(n))}getOverlays(e,n){const s=$s();return ee.forEach(n,(l=>this.getOverlay(e,l).next((u=>{u!==null&&s.set(l,u)})))).next((()=>s))}saveOverlays(e,n,s){return s.forEach(((l,u)=>{this.St(e,n,u)})),ee.resolve()}removeOverlaysForBatchId(e,n,s){const l=this.qr.get(s);return l!==void 0&&(l.forEach((u=>this.overlays=this.overlays.remove(u))),this.qr.delete(s)),ee.resolve()}getOverlaysForCollection(e,n,s){const l=$s(),u=n.length+1,f=new de(n.child("")),m=this.overlays.getIteratorFrom(f);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&l.set(p.getKey(),p)}return ee.resolve(l)}getOverlaysForCollectionGroup(e,n,s,l){let u=new ut(((g,T)=>g-T));const f=this.overlays.getIterator();for(;f.hasNext();){const g=f.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let T=u.get(g.largestBatchId);T===null&&(T=$s(),u=u.insert(g.largestBatchId,T)),T.set(g.getKey(),g)}}const m=$s(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((g,T)=>m.set(g,T))),!(m.size()>=l)););return ee.resolve(m)}St(e,n,s){const l=this.overlays.get(s.key);if(l!==null){const f=this.qr.get(l.largestBatchId).delete(s.key);this.qr.set(l.largestBatchId,f)}this.overlays=this.overlays.insert(s.key,new IN(n,s));let u=this.qr.get(n);u===void 0&&(u=Le(),this.qr.set(n,u)),this.qr.set(n,u.add(s.key))}}class dI{constructor(){this.sessionToken=Kt.EMPTY_BYTE_STRING}getSessionToken(e){return ee.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ee.resolve()}}class Up{constructor(){this.Qr=new Vt(kt.$r),this.Ur=new Vt(kt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const s=new kt(e,n);this.Qr=this.Qr.add(s),this.Ur=this.Ur.add(s)}Wr(e,n){e.forEach((s=>this.addReference(s,n)))}removeReference(e,n){this.Gr(new kt(e,n))}zr(e,n){e.forEach((s=>this.removeReference(s,n)))}jr(e){const n=new de(new et([])),s=new kt(n,e),l=new kt(n,e+1),u=[];return this.Ur.forEachInRange([s,l],(f=>{this.Gr(f),u.push(f.key)})),u}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new de(new et([])),s=new kt(n,e),l=new kt(n,e+1);let u=Le();return this.Ur.forEachInRange([s,l],(f=>{u=u.add(f.key)})),u}containsKey(e){const n=new kt(e,0),s=this.Qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class kt{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return de.comparator(e.key,n.key)||Ve(e.Yr,n.Yr)}static Kr(e,n){return Ve(e.Yr,n.Yr)||de.comparator(e.key,n.key)}}class mI{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vt(kt.$r)}checkEmpty(e){return ee.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,l){const u=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const f=new NN(u,n,s,l);this.mutationQueue.push(f);for(const m of l)this.Zr=this.Zr.add(new kt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ee.resolve(f)}lookupMutationBatch(e,n){return ee.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,l=this.ei(s),u=l<0?0:l;return ee.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ee.resolve(this.mutationQueue.length===0?Cp:this.tr-1)}getAllMutationBatches(e){return ee.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new kt(n,0),l=new kt(n,Number.POSITIVE_INFINITY),u=[];return this.Zr.forEachInRange([s,l],(f=>{const m=this.Xr(f.Yr);u.push(m)})),ee.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Vt(Ve);return n.forEach((l=>{const u=new kt(l,0),f=new kt(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([u,f],(m=>{s=s.add(m.Yr)}))})),ee.resolve(this.ti(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,l=s.length+1;let u=s;de.isDocumentKey(u)||(u=u.child(""));const f=new kt(new de(u),0);let m=new Vt(Ve);return this.Zr.forEachWhile((p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===l&&(m=m.add(p.Yr)),!0)}),f),ee.resolve(this.ti(m))}ti(e){const n=[];return e.forEach((s=>{const l=this.Xr(s);l!==null&&n.push(l)})),n}removeMutationBatch(e,n){Fe(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Zr;return ee.forEach(n.mutations,(l=>{const u=new kt(l.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,l.key)})).next((()=>{this.Zr=s}))}ir(e){}containsKey(e,n){const s=new kt(n,0),l=this.Zr.firstAfterOrEqual(s);return ee.resolve(n.isEqual(l&&l.key))}performConsistencyCheck(e){return this.mutationQueue.length,ee.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}class pI{constructor(e){this.ri=e,this.docs=(function(){return new ut(de.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,l=this.docs.get(s),u=l?l.size:0,f=this.ri(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:f}),this.size+=f-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return ee.resolve(s?s.document.mutableCopy():Zt.newInvalidDocument(n))}getEntries(e,n){let s=dr();return n.forEach((l=>{const u=this.docs.get(l);s=s.insert(l,u?u.document.mutableCopy():Zt.newInvalidDocument(l))})),ee.resolve(s)}getDocumentsMatchingQuery(e,n,s,l){let u=dr();const f=n.path,m=new de(f.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:T}}=p.getNext();if(!f.isPrefixOf(g.path))break;g.path.length>f.length+1||HC(qC(T),s)<=0||(l.has(T.key)||Wh(n,T))&&(u=u.insert(T.key,T.mutableCopy()))}return ee.resolve(u)}getAllFromCollectionGroup(e,n,s,l){_e(9500)}ii(e,n){return ee.forEach(this.docs,(s=>n(s)))}newChangeBuffer(e){return new gI(this)}getSize(e){return ee.resolve(this.size)}}class gI extends oI{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach(((s,l)=>{l.isValidDocument()?n.push(this.Nr.addEntry(e,l)):this.Nr.removeEntry(s)})),ee.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}class yI{constructor(e){this.persistence=e,this.si=new la((n=>Dp(n)),Op),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new Up,this.targetCount=0,this.ai=yl.ur()}forEachTarget(e,n){return this.si.forEach(((s,l)=>n(l))),ee.resolve()}getLastRemoteSnapshotVersion(e){return ee.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ee.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),ee.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.oi&&(this.oi=n),ee.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new yl(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,ee.resolve()}updateTargetData(e,n){return this.Pr(n),ee.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,ee.resolve()}removeTargets(e,n,s){let l=0;const u=[];return this.si.forEach(((f,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.si.delete(f),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),l++)})),ee.waitFor(u).next((()=>l))}getTargetCount(e){return ee.resolve(this.targetCount)}getTargetData(e,n){const s=this.si.get(n)||null;return ee.resolve(s)}addMatchingKeys(e,n,s){return this._i.Wr(n,s),ee.resolve()}removeMatchingKeys(e,n,s){this._i.zr(n,s);const l=this.persistence.referenceDelegate,u=[];return l&&n.forEach((f=>{u.push(l.markPotentiallyOrphaned(e,f))})),ee.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),ee.resolve()}getMatchingKeysForTargetId(e,n){const s=this._i.Hr(n);return ee.resolve(s)}containsKey(e,n){return ee.resolve(this._i.containsKey(n))}}class C1{constructor(e,n){this.ui={},this.overlays={},this.ci=new Xh(0),this.li=!1,this.li=!0,this.hi=new dI,this.referenceDelegate=e(this),this.Pi=new yI(this),this.indexManager=new tI,this.remoteDocumentCache=(function(l){return new pI(l)})((s=>this.referenceDelegate.Ti(s))),this.serializer=new WN(n),this.Ii=new hI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new fI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ui[e.toKey()];return s||(s=new mI(n,this.referenceDelegate),this.ui[e.toKey()]=s),s}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,s){oe("MemoryPersistence","Starting transaction:",e);const l=new _I(this.ci.next());return this.referenceDelegate.Ei(),s(l).next((u=>this.referenceDelegate.di(l).next((()=>u)))).toPromise().then((u=>(l.raiseOnCommittedEvent(),u)))}Ai(e,n){return ee.or(Object.values(this.ui).map((s=>()=>s.containsKey(e,n))))}}class _I extends GC{constructor(e){super(),this.currentSequenceNumber=e}}class zp{constructor(e){this.persistence=e,this.Ri=new Up,this.Vi=null}static mi(e){return new zp(e)}get fi(){if(this.Vi)return this.Vi;throw _e(60996)}addReference(e,n,s){return this.Ri.addReference(s,n),this.fi.delete(s.toString()),ee.resolve()}removeReference(e,n,s){return this.Ri.removeReference(s,n),this.fi.add(s.toString()),ee.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),ee.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach((l=>this.fi.add(l.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next((l=>{l.forEach((u=>this.fi.add(u.toString())))})).next((()=>s.removeTargetData(e,n)))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ee.forEach(this.fi,(s=>{const l=de.fromPath(s);return this.gi(e,l).next((u=>{u||n.removeEntry(l,Te.min())}))})).next((()=>(this.Vi=null,n.apply(e))))}updateLimboDocument(e,n){return this.gi(e,n).next((s=>{s?this.fi.delete(n.toString()):this.fi.add(n.toString())}))}Ti(e){return 0}gi(e,n){return ee.or([()=>ee.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class Ph{constructor(e,n){this.persistence=e,this.pi=new la((s=>KC(s.path)),((s,l)=>s.isEqual(l))),this.garbageCollector=lI(this,n)}static mi(e,n){return new Ph(e,n)}Ei(){}di(e){return ee.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>n.next((l=>s+l))))}wr(e){let n=0;return this.pr(e,(s=>{n++})).next((()=>n))}pr(e,n){return ee.forEach(this.pi,((s,l)=>this.br(e,s,l).next((u=>u?ee.resolve():n(l)))))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const l=this.persistence.getRemoteDocumentCache(),u=l.newChangeBuffer();return l.ii(e,(f=>this.br(e,f,n).next((m=>{m||(s++,u.removeEntry(f,Te.min()))})))).next((()=>u.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}removeReference(e,n,s){return this.pi.set(s,e.currentSequenceNumber),ee.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),ee.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=dh(e.data.value)),n}br(e,n,s){return ee.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const l=this.pi.get(n);return ee.resolve(l!==void 0&&l>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Bp{constructor(e,n,s,l){this.targetId=e,this.fromCache=n,this.Es=s,this.ds=l}static As(e,n){let s=Le(),l=Le();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:l=l.add(u.doc.key)}return new Bp(e,n.fromCache,s,l)}}class vI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class EI{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return $w()?8:YC(Wt())>0?6:4})()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,s,l){const u={result:null};return this.ys(e,n).next((f=>{u.result=f})).next((()=>{if(!u.result)return this.ws(e,n,l,s).next((f=>{u.result=f}))})).next((()=>{if(u.result)return;const f=new vI;return this.Ss(e,n,f).next((m=>{if(u.result=m,this.Vs)return this.bs(e,n,f,m.size)}))})).next((()=>u.result))}bs(e,n,s,l){return s.documentReadCount<this.fs?(nl()<=Me.DEBUG&&oe("QueryEngine","SDK will not create cache indexes for query:",il(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ee.resolve()):(nl()<=Me.DEBUG&&oe("QueryEngine","Query:",il(n),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.gs*l?(nl()<=Me.DEBUG&&oe("QueryEngine","The SDK decides to create cache indexes for query:",il(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):ee.resolve())}ys(e,n){if(B0(n))return ee.resolve(null);let s=Mi(n);return this.indexManager.getIndexType(e,s).next((l=>l===0?null:(n.limit!==null&&l===1&&(n=Mh(n,null,"F"),s=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next((u=>{const f=Le(...u);return this.ps.getDocuments(e,f).next((m=>this.indexManager.getMinOffset(e,s).next((p=>{const g=this.Ds(n,m);return this.Cs(n,g,f,p.readTime)?this.ys(e,Mh(n,null,"F")):this.vs(e,g,n,p)}))))})))))}ws(e,n,s,l){return B0(n)||l.isEqual(Te.min())?ee.resolve(null):this.ps.getDocuments(e,s).next((u=>{const f=this.Ds(n,u);return this.Cs(n,f,s,l)?ee.resolve(null):(nl()<=Me.DEBUG&&oe("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),il(n)),this.vs(e,f,n,BC(l,tu)).next((m=>m)))}))}Ds(e,n){let s=new Vt(a1(e));return n.forEach(((l,u)=>{Wh(e,u)&&(s=s.add(u))})),s}Cs(e,n,s,l){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(l)>0)}Ss(e,n,s){return nl()<=Me.DEBUG&&oe("QueryEngine","Using full collection scan to execute query:",il(n)),this.ps.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,l){return this.ps.getDocumentsMatchingQuery(e,s,l).next((u=>(n.forEach((f=>{u=u.insert(f.key,f)})),u)))}}const qp="LocalStore",TI=3e8;class bI{constructor(e,n,s,l){this.persistence=e,this.Fs=n,this.serializer=l,this.Ms=new ut(Ve),this.xs=new la((u=>Dp(u)),Op),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(s)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cI(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.Ms)))}}function SI(r,e,n,s){return new bI(r,e,n,s)}async function N1(r,e){const n=Se(r);return await n.persistence.runTransaction("Handle user change","readonly",(s=>{let l;return n.mutationQueue.getAllMutationBatches(s).next((u=>(l=u,n.Bs(e),n.mutationQueue.getAllMutationBatches(s)))).next((u=>{const f=[],m=[];let p=Le();for(const g of l){f.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}for(const g of u){m.push(g.batchId);for(const T of g.mutations)p=p.add(T.key)}return n.localDocuments.getDocuments(s,p).next((g=>({Ls:g,removedBatchIds:f,addedBatchIds:m})))}))}))}function AI(r,e){const n=Se(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const l=e.batch.keys(),u=n.Ns.newChangeBuffer({trackRemovals:!0});return(function(m,p,g,T){const b=g.batch,x=b.keys();let j=ee.resolve();return x.forEach((G=>{j=j.next((()=>T.getEntry(p,G))).next((X=>{const H=g.docVersions.get(G);Fe(H!==null,48541),X.version.compareTo(H)<0&&(b.applyToRemoteDocument(X,g),X.isValidDocument()&&(X.setReadTime(g.commitVersion),T.addEntry(X)))}))})),j.next((()=>m.mutationQueue.removeMutationBatch(p,b)))})(n,s,e,u).next((()=>u.apply(s))).next((()=>n.mutationQueue.performConsistencyCheck(s))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(s,l,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(m){let p=Le();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p})(e)))).next((()=>n.localDocuments.getDocuments(s,l)))}))}function I1(r){const e=Se(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.Pi.getLastRemoteSnapshotVersion(n)))}function wI(r,e){const n=Se(r),s=e.snapshotVersion;let l=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(u=>{const f=n.Ns.newChangeBuffer({trackRemovals:!0});l=n.Ms;const m=[];e.targetChanges.forEach(((T,b)=>{const x=l.get(b);if(!x)return;m.push(n.Pi.removeMatchingKeys(u,T.removedDocuments,b).next((()=>n.Pi.addMatchingKeys(u,T.addedDocuments,b))));let j=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?j=j.withResumeToken(Kt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):T.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(T.resumeToken,s)),l=l.insert(b,j),(function(X,H,te){return X.resumeToken.approximateByteSize()===0||H.snapshotVersion.toMicroseconds()-X.snapshotVersion.toMicroseconds()>=TI?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0})(x,j,T)&&m.push(n.Pi.updateTargetData(u,j))}));let p=dr(),g=Le();if(e.documentUpdates.forEach((T=>{e.resolvedLimboDocuments.has(T)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,T))})),m.push(xI(u,f,e.documentUpdates).next((T=>{p=T.ks,g=T.qs}))),!s.isEqual(Te.min())){const T=n.Pi.getLastRemoteSnapshotVersion(u).next((b=>n.Pi.setTargetsMetadata(u,u.currentSequenceNumber,s)));m.push(T)}return ee.waitFor(m).next((()=>f.apply(u))).next((()=>n.localDocuments.getLocalViewOfDocuments(u,p,g))).next((()=>p))})).then((u=>(n.Ms=l,u)))}function xI(r,e,n){let s=Le(),l=Le();return n.forEach((u=>s=s.add(u))),e.getEntries(r,s).next((u=>{let f=dr();return n.forEach(((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(l=l.add(m)),p.isNoDocument()&&p.version.isEqual(Te.min())?(e.removeEntry(m,p.readTime),f=f.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),f=f.insert(m,p)):oe(qp,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)})),{ks:f,qs:l}}))}function RI(r,e){const n=Se(r);return n.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Cp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function CI(r,e){const n=Se(r);return n.persistence.runTransaction("Allocate target","readwrite",(s=>{let l;return n.Pi.getTargetData(s,e).next((u=>u?(l=u,ee.resolve(l)):n.Pi.allocateTargetId(s).next((f=>(l=new ns(e,f,"TargetPurposeListen",s.currentSequenceNumber),n.Pi.addTargetData(s,l).next((()=>l)))))))})).then((s=>{const l=n.Ms.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(s.targetId,s),n.xs.set(e,s.targetId)),s}))}async function ep(r,e,n){const s=Se(r),l=s.Ms.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,(f=>s.persistence.referenceDelegate.removeTarget(f,l)))}catch(f){if(!Cl(f))throw f;oe(qp,`Failed to update sequence numbers for target ${e}: ${f}`)}s.Ms=s.Ms.remove(e),s.xs.delete(l.target)}function eE(r,e,n){const s=Se(r);let l=Te.min(),u=Le();return s.persistence.runTransaction("Execute query","readwrite",(f=>(function(p,g,T){const b=Se(p),x=b.xs.get(T);return x!==void 0?ee.resolve(b.Ms.get(x)):b.Pi.getTargetData(g,T)})(s,f,Mi(e)).next((m=>{if(m)return l=m.lastLimboFreeSnapshotVersion,s.Pi.getMatchingKeysForTargetId(f,m.targetId).next((p=>{u=p}))})).next((()=>s.Fs.getDocumentsMatchingQuery(f,e,n?l:Te.min(),n?u:Le()))).next((m=>(NI(s,dN(e),m),{documents:m,Qs:u})))))}function NI(r,e,n){let s=r.Os.get(e)||Te.min();n.forEach(((l,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)})),r.Os.set(e,s)}class tE{constructor(){this.activeTargetIds=vN()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class II{constructor(){this.Mo=new tE,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,s){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new tE,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class DI{Oo(e){}shutdown(){}}const nE="ConnectivityMonitor";class iE{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){oe(nE,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){oe(nE,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let rh=null;function tp(){return rh===null?rh=(function(){return 268435456+Math.round(2147483648*Math.random())})():rh++,"0x"+rh.toString(16)}const Nm="RestConnection",OI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class MI{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${s}/databases/${l}`,this.Wo=this.databaseId.database===Nh?`project_id=${s}`:`project_id=${s}&database_id=${l}`}Go(e,n,s,l,u){const f=tp(),m=this.zo(e,n.toUriEncodedString());oe(Nm,`Sending RPC '${e}' ${f}:`,m,s);const p={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(p,l,u);const{host:g}=new URL(m),T=Sl(g);return this.Jo(e,m,p,s,T).then((b=>(oe(Nm,`Received RPC '${e}' ${f}: `,b),b)),(b=>{throw dl(Nm,`RPC '${e}' ${f} failed with error: `,b,"url: ",m,"request:",s),b}))}Ho(e,n,s,l,u,f){return this.Go(e,n,s,l,u)}jo(e,n,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach(((l,u)=>e[u]=l)),s&&s.headers.forEach(((l,u)=>e[u]=l))}zo(e,n){const s=OI[e];return`${this.Uo}/v1/${n}:${s}`}terminate(){}}class VI{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}const $t="WebChannelConnection";class LI extends MI{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,l,u){const f=tp();return new Promise(((m,p)=>{const g=new MT;g.setWithCredentials(!0),g.listenOnce(VT.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case fh.NO_ERROR:const b=g.getResponseJson();oe($t,`XHR for RPC '${e}' ${f} received:`,JSON.stringify(b)),m(b);break;case fh.TIMEOUT:oe($t,`RPC '${e}' ${f} timed out`),p(new le(Z.DEADLINE_EXCEEDED,"Request time out"));break;case fh.HTTP_ERROR:const x=g.getStatus();if(oe($t,`RPC '${e}' ${f} failed with status:`,x,"response text:",g.getResponseText()),x>0){let j=g.getResponseJson();Array.isArray(j)&&(j=j[0]);const G=j?.error;if(G&&G.status&&G.message){const X=(function(te){const ne=te.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ne)>=0?ne:Z.UNKNOWN})(G.status);p(new le(X,G.message))}else p(new le(Z.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new le(Z.UNAVAILABLE,"Connection failed."));break;default:_e(9055,{l_:e,streamId:f,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{oe($t,`RPC '${e}' ${f} completed.`)}}));const T=JSON.stringify(l);oe($t,`RPC '${e}' ${f} sending request:`,l),g.send(n,"POST",T,s,15)}))}T_(e,n,s){const l=tp(),u=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=jT(),m=PT(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.jo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const T=u.join("");oe($t,`Creating RPC '${e}' stream ${l}: ${T}`,p);const b=f.createWebChannel(T,p);this.I_(b);let x=!1,j=!1;const G=new VI({Yo:H=>{j?oe($t,`Not sending because RPC '${e}' stream ${l} is closed:`,H):(x||(oe($t,`Opening RPC '${e}' stream ${l} transport.`),b.open(),x=!0),oe($t,`RPC '${e}' stream ${l} sending:`,H),b.send(H))},Zo:()=>b.close()}),X=(H,te,ne)=>{H.listen(te,(ie=>{try{ne(ie)}catch(Ee){setTimeout((()=>{throw Ee}),0)}}))};return X(b,zo.EventType.OPEN,(()=>{j||(oe($t,`RPC '${e}' stream ${l} transport opened.`),G.o_())})),X(b,zo.EventType.CLOSE,(()=>{j||(j=!0,oe($t,`RPC '${e}' stream ${l} transport closed`),G.a_(),this.E_(b))})),X(b,zo.EventType.ERROR,(H=>{j||(j=!0,dl($t,`RPC '${e}' stream ${l} transport errored. Name:`,H.name,"Message:",H.message),G.a_(new le(Z.UNAVAILABLE,"The operation could not be completed")))})),X(b,zo.EventType.MESSAGE,(H=>{if(!j){const te=H.data[0];Fe(!!te,16349);const ne=te,ie=ne?.error||ne[0]?.error;if(ie){oe($t,`RPC '${e}' stream ${l} received error:`,ie);const Ee=ie.status;let ge=(function(R){const C=Rt[R];if(C!==void 0)return y1(C)})(Ee),xe=ie.message;ge===void 0&&(ge=Z.INTERNAL,xe="Unknown error status: "+Ee+" with message "+ie.message),j=!0,G.a_(new le(ge,xe)),b.close()}else oe($t,`RPC '${e}' stream ${l} received:`,te),G.u_(te)}})),X(m,LT.STAT_EVENT,(H=>{H.stat===Hm.PROXY?oe($t,`RPC '${e}' stream ${l} detected buffering proxy`):H.stat===Hm.NOPROXY&&oe($t,`RPC '${e}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{G.__()}),0),G}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((n=>n===e))}}function Im(){return typeof document<"u"?document:null}function rf(r){return new UN(r,!0)}class D1{constructor(e,n,s=1e3,l=1.5,u=6e4){this.Mi=e,this.timerId=n,this.d_=s,this.A_=l,this.R_=u,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),s=Math.max(0,Date.now()-this.f_),l=Math.max(0,n-s);l>0&&oe("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const rE="PersistentStream";class O1{constructor(e,n,s,l,u,f,m,p){this.Mi=e,this.S_=s,this.b_=l,this.connection=u,this.authCredentialsProvider=f,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new D1(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===Z.RESOURCE_EXHAUSTED?(fr(n.toString()),fr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,l])=>{this.D_===n&&this.G_(s,l)}),(s=>{e((()=>{const l=new le(Z.UNKNOWN,"Fetching auth token failed: "+s.message);return this.z_(l)}))}))}G_(e,n){const s=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo((()=>{s((()=>this.listener.Xo()))})),this.stream.t_((()=>{s((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{s((()=>this.z_(l)))})),this.stream.onMessage((l=>{s((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return oe(rE,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget((()=>this.D_===e?n():(oe(rE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class PI extends O1{constructor(e,n,s,l,u,f){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=qN(this.serializer,e),s=(function(u){if(!("targetChange"in u))return Te.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Te.min():f.readTime?Vi(f.readTime):Te.min()})(e);return this.listener.H_(n,s)}Y_(e){const n={};n.database=Wm(this.serializer),n.addTarget=(function(u,f){let m;const p=f.target;if(m=Km(p)?{documents:GN(u,p)}:{query:YN(u,p).ft},m.targetId=f.targetId,f.resumeToken.approximateByteSize()>0){m.resumeToken=E1(u,f.resumeToken);const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}else if(f.snapshotVersion.compareTo(Te.min())>0){m.readTime=Lh(u,f.snapshotVersion.toTimestamp());const g=$m(u,f.expectedCount);g!==null&&(m.expectedCount=g)}return m})(this.serializer,e);const s=KN(this.serializer,e);s&&(n.labels=s),this.q_(n)}Z_(e){const n={};n.database=Wm(this.serializer),n.removeTarget=e,this.q_(n)}}class jI extends O1{constructor(e,n,s,l,u,f){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,l,f),this.serializer=u}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Fe(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Fe(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Fe(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=FN(e.writeResults,e.commitTime),s=Vi(e.commitTime);return this.listener.na(s,n)}ra(){const e={};e.database=Wm(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map((s=>HN(this.serializer,s)))};this.q_(n)}}class kI{}class UI extends kI{constructor(e,n,s,l){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,s,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,f])=>this.connection.Go(e,Jm(n,s),l,u,f))).catch((u=>{throw u.name==="FirebaseError"?(u.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new le(Z.UNKNOWN,u.toString())}))}Ho(e,n,s,l,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([f,m])=>this.connection.Ho(e,Jm(n,s),l,f,m,u))).catch((f=>{throw f.name==="FirebaseError"?(f.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),f):new le(Z.UNKNOWN,f.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class zI{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fr(n),this.aa=!1):oe("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class BI{constructor(e,n,s,l,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=u,this.Aa.Oo((f=>{s.enqueueAndForget((async()=>{oa(this)&&(oe(ra,"Restarting streams for network reachability change."),await(async function(p){const g=Se(p);g.Ea.add(4),await Eu(g),g.Ra.set("Unknown"),g.Ea.delete(4),await sf(g)})(this))}))})),this.Ra=new zI(s,l)}}async function sf(r){if(oa(r))for(const e of r.da)await e(!0)}async function Eu(r){for(const e of r.da)await e(!1)}function M1(r,e){const n=Se(r);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Yp(n)?Gp(n):Nl(n).O_()&&Fp(n,e))}function Hp(r,e){const n=Se(r),s=Nl(n);n.Ia.delete(e),s.O_()&&V1(n,e),n.Ia.size===0&&(s.O_()?s.L_():oa(n)&&n.Ra.set("Unknown"))}function Fp(r,e){if(r.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Nl(r).Y_(e)}function V1(r,e){r.Va.Ue(e),Nl(r).Z_(e)}function Gp(r){r.Va=new LN({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Nl(r).start(),r.Ra.ua()}function Yp(r){return oa(r)&&!Nl(r).x_()&&r.Ia.size>0}function oa(r){return Se(r).Ea.size===0}function L1(r){r.Va=void 0}async function qI(r){r.Ra.set("Online")}async function HI(r){r.Ia.forEach(((e,n)=>{Fp(r,e)}))}async function FI(r,e){L1(r),Yp(r)?(r.Ra.ha(e),Gp(r)):r.Ra.set("Unknown")}async function GI(r,e,n){if(r.Ra.set("Online"),e instanceof v1&&e.state===2&&e.cause)try{await(async function(l,u){const f=u.cause;for(const m of u.targetIds)l.Ia.has(m)&&(await l.remoteSyncer.rejectListen(m,f),l.Ia.delete(m),l.Va.removeTarget(m))})(r,e)}catch(s){oe(ra,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await jh(r,s)}else if(e instanceof gh?r.Va.Ze(e):e instanceof _1?r.Va.st(e):r.Va.tt(e),!n.isEqual(Te.min()))try{const s=await I1(r.localStore);n.compareTo(s)>=0&&await(function(u,f){const m=u.Va.Tt(f);return m.targetChanges.forEach(((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const T=u.Ia.get(g);T&&u.Ia.set(g,T.withResumeToken(p.resumeToken,f))}})),m.targetMismatches.forEach(((p,g)=>{const T=u.Ia.get(p);if(!T)return;u.Ia.set(p,T.withResumeToken(Kt.EMPTY_BYTE_STRING,T.snapshotVersion)),V1(u,p);const b=new ns(T.target,p,g,T.sequenceNumber);Fp(u,b)})),u.remoteSyncer.applyRemoteEvent(m)})(r,n)}catch(s){oe(ra,"Failed to raise snapshot:",s),await jh(r,s)}}async function jh(r,e,n){if(!Cl(e))throw e;r.Ea.add(1),await Eu(r),r.Ra.set("Offline"),n||(n=()=>I1(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{oe(ra,"Retrying IndexedDB access"),await n(),r.Ea.delete(1),await sf(r)}))}function P1(r,e){return e().catch((n=>jh(r,n,e)))}async function af(r){const e=Se(r),n=fs(e);let s=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Cp;for(;YI(e);)try{const l=await RI(e.localStore,s);if(l===null){e.Ta.length===0&&n.L_();break}s=l.batchId,QI(e,l)}catch(l){await jh(e,l)}j1(e)&&k1(e)}function YI(r){return oa(r)&&r.Ta.length<10}function QI(r,e){r.Ta.push(e);const n=fs(r);n.O_()&&n.X_&&n.ea(e.mutations)}function j1(r){return oa(r)&&!fs(r).x_()&&r.Ta.length>0}function k1(r){fs(r).start()}async function KI(r){fs(r).ra()}async function XI(r){const e=fs(r);for(const n of r.Ta)e.ea(n.mutations)}async function $I(r,e,n){const s=r.Ta.shift(),l=Pp.from(s,e,n);await P1(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await af(r)}async function JI(r,e){e&&fs(r).X_&&await(async function(s,l){if((function(f){return ON(f)&&f!==Z.ABORTED})(l.code)){const u=s.Ta.shift();fs(s).B_(),await P1(s,(()=>s.remoteSyncer.rejectFailedWrite(u.batchId,l))),await af(s)}})(r,e),j1(r)&&k1(r)}async function sE(r,e){const n=Se(r);n.asyncQueue.verifyOperationInProgress(),oe(ra,"RemoteStore received new credentials");const s=oa(n);n.Ea.add(3),await Eu(n),s&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await sf(n)}async function ZI(r,e){const n=Se(r);e?(n.Ea.delete(2),await sf(n)):e||(n.Ea.add(2),await Eu(n),n.Ra.set("Unknown"))}function Nl(r){return r.ma||(r.ma=(function(n,s,l){const u=Se(n);return u.sa(),new PI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:qI.bind(null,r),t_:HI.bind(null,r),r_:FI.bind(null,r),H_:GI.bind(null,r)}),r.da.push((async e=>{e?(r.ma.B_(),Yp(r)?Gp(r):r.Ra.set("Unknown")):(await r.ma.stop(),L1(r))}))),r.ma}function fs(r){return r.fa||(r.fa=(function(n,s,l){const u=Se(n);return u.sa(),new jI(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:KI.bind(null,r),r_:JI.bind(null,r),ta:XI.bind(null,r),na:$I.bind(null,r)}),r.da.push((async e=>{e?(r.fa.B_(),await af(r)):(await r.fa.stop(),r.Ta.length>0&&(oe(ra,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qp{constructor(e,n,s,l,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=l,this.removalCallback=u,this.deferred=new lr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((f=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,l,u){const f=Date.now()+s,m=new Qp(e,n,f,l,u);return m.start(s),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new le(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Kp(r,e){if(fr("AsyncQueue",`${e}: ${r}`),Cl(r))return new le(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class cl{static emptySet(e){return new cl(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||de.comparator(n.key,s.key):(n,s)=>de.comparator(n.key,s.key),this.keyedMap=Bo(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,s)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof cl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const l=n.getNext().key,u=s.getNext().key;if(!l.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new cl;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}class aE{constructor(){this.ga=new ut(de.comparator)}track(e){const n=e.doc.key,s=this.ga.get(n);s?e.type!==0&&s.type===3?this.ga=this.ga.insert(n,e):e.type===3&&s.type!==1?this.ga=this.ga.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.ga=this.ga.remove(n):e.type===1&&s.type===2?this.ga=this.ga.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):_e(63341,{Rt:e,pa:s}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal(((n,s)=>{e.push(s)})),e}}class _l{constructor(e,n,s,l,u,f,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=u,this.fromCache=f,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,l,u){const f=[];return n.forEach((m=>{f.push({type:0,doc:m})})),new _l(e,n,cl.emptySet(n),f,s,l,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let l=0;l<n.length;l++)if(n[l].type!==s[l].type||!n[l].doc.isEqual(s[l].doc))return!1;return!0}}class WI{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class e4{constructor(){this.queries=lE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const l=Se(n),u=l.queries;l.queries=lE(),u.forEach(((f,m)=>{for(const p of m.Sa)p.onError(s)}))})(this,new le(Z.ABORTED,"Firestore shutting down"))}}function lE(){return new la((r=>s1(r)),Zh)}async function U1(r,e){const n=Se(r);let s=3;const l=e.query;let u=n.queries.get(l);u?!u.ba()&&e.Da()&&(s=2):(u=new WI,s=e.Da()?0:1);try{switch(s){case 0:u.wa=await n.onListen(l,!0);break;case 1:u.wa=await n.onListen(l,!1);break;case 2:await n.onFirstRemoteStoreListen(l)}}catch(f){const m=Kp(f,`Initialization of query '${il(e.query)}' failed`);return void e.onError(m)}n.queries.set(l,u),u.Sa.push(e),e.va(n.onlineState),u.wa&&e.Fa(u.wa)&&Xp(n)}async function z1(r,e){const n=Se(r),s=e.query;let l=3;const u=n.queries.get(s);if(u){const f=u.Sa.indexOf(e);f>=0&&(u.Sa.splice(f,1),u.Sa.length===0?l=e.Da()?0:1:!u.ba()&&e.Da()&&(l=2))}switch(l){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function t4(r,e){const n=Se(r);let s=!1;for(const l of e){const u=l.query,f=n.queries.get(u);if(f){for(const m of f.Sa)m.Fa(l)&&(s=!0);f.wa=l}}s&&Xp(n)}function n4(r,e,n){const s=Se(r),l=s.queries.get(e);if(l)for(const u of l.Sa)u.onError(n);s.queries.delete(e)}function Xp(r){r.Ca.forEach((e=>{e.next()}))}var np,oE;(oE=np||(np={})).Ma="default",oE.Cache="cache";class B1{constructor(e,n,s){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=s||{}}Fa(e){if(!this.options.includeMetadataChanges){const s=[];for(const l of e.docChanges)l.type!==3&&s.push(l);e=new _l(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const s=n!=="Offline";return(!this.options.qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=_l.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==np.Cache}}class q1{constructor(e){this.key=e}}class H1{constructor(e){this.key=e}}class i4{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Le(),this.mutatedKeys=Le(),this.eu=a1(e),this.tu=new cl(this.eu)}get nu(){return this.Ya}ru(e,n){const s=n?n.iu:new aE,l=n?n.tu:this.tu;let u=n?n.mutatedKeys:this.mutatedKeys,f=l,m=!1;const p=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,g=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(e.inorderTraversal(((T,b)=>{const x=l.get(T),j=Wh(this.query,b)?b:null,G=!!x&&this.mutatedKeys.has(x.key),X=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let H=!1;x&&j?x.data.isEqual(j.data)?G!==X&&(s.track({type:3,doc:j}),H=!0):this.su(x,j)||(s.track({type:2,doc:j}),H=!0,(p&&this.eu(j,p)>0||g&&this.eu(j,g)<0)&&(m=!0)):!x&&j?(s.track({type:0,doc:j}),H=!0):x&&!j&&(s.track({type:1,doc:x}),H=!0,(p||g)&&(m=!0)),H&&(j?(f=f.add(j),u=X?u.add(T):u.delete(T)):(f=f.delete(T),u=u.delete(T)))})),this.query.limit!==null)for(;f.size>this.query.limit;){const T=this.query.limitType==="F"?f.last():f.first();f=f.delete(T.key),u=u.delete(T.key),s.track({type:1,doc:T})}return{tu:f,iu:s,Cs:m,mutatedKeys:u}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,l){const u=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const f=e.iu.ya();f.sort(((T,b)=>(function(j,G){const X=H=>{switch(H){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _e(20277,{Rt:H})}};return X(j)-X(G)})(T.type,b.type)||this.eu(T.doc,b.doc))),this.ou(s),l=l??!1;const m=n&&!l?this._u():[],p=this.Xa.size===0&&this.current&&!l?1:0,g=p!==this.Za;return this.Za=p,f.length!==0||g?{snapshot:new _l(this.query,e.tu,u,f,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new aE,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((n=>this.Ya=this.Ya.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ya=this.Ya.delete(n))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=Le(),this.tu.forEach((s=>{this.uu(s.key)&&(this.Xa=this.Xa.add(s.key))}));const n=[];return e.forEach((s=>{this.Xa.has(s)||n.push(new H1(s))})),this.Xa.forEach((s=>{e.has(s)||n.push(new q1(s))})),n}cu(e){this.Ya=e.Qs,this.Xa=Le();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return _l.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $p="SyncEngine";class r4{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class s4{constructor(e){this.key=e,this.hu=!1}}class a4{constructor(e,n,s,l,u,f){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=l,this.currentUser=u,this.maxConcurrentLimboResolutions=f,this.Pu={},this.Tu=new la((m=>s1(m)),Zh),this.Iu=new Map,this.Eu=new Set,this.du=new ut(de.comparator),this.Au=new Map,this.Ru=new Up,this.Vu={},this.mu=new Map,this.fu=yl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function l4(r,e,n=!0){const s=X1(r);let l;const u=s.Tu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),l=u.view.lu()):l=await F1(s,e,n,!0),l}async function o4(r,e){const n=X1(r);await F1(n,e,!0,!1)}async function F1(r,e,n,s){const l=await CI(r.localStore,Mi(e)),u=l.targetId,f=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await u4(r,e,u,f==="current",l.resumeToken)),r.isPrimaryClient&&n&&M1(r.remoteStore,l),m}async function u4(r,e,n,s,l){r.pu=(b,x,j)=>(async function(X,H,te,ne){let ie=H.view.ru(te);ie.Cs&&(ie=await eE(X.localStore,H.query,!1).then((({documents:w})=>H.view.ru(w,ie))));const Ee=ne&&ne.targetChanges.get(H.targetId),ge=ne&&ne.targetMismatches.get(H.targetId)!=null,xe=H.view.applyChanges(ie,X.isPrimaryClient,Ee,ge);return cE(X,H.targetId,xe.au),xe.snapshot})(r,b,x,j);const u=await eE(r.localStore,e,!0),f=new i4(e,u.Qs),m=f.ru(u.documents),p=vu.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",l),g=f.applyChanges(m,r.isPrimaryClient,p);cE(r,n,g.au);const T=new r4(e,n,f);return r.Tu.set(e,T),r.Iu.has(n)?r.Iu.get(n).push(e):r.Iu.set(n,[e]),g.snapshot}async function c4(r,e,n){const s=Se(r),l=s.Tu.get(e),u=s.Iu.get(l.targetId);if(u.length>1)return s.Iu.set(l.targetId,u.filter((f=>!Zh(f,e)))),void s.Tu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await ep(s.localStore,l.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(l.targetId),n&&Hp(s.remoteStore,l.targetId),ip(s,l.targetId)})).catch(Rl)):(ip(s,l.targetId),await ep(s.localStore,l.targetId,!0))}async function h4(r,e){const n=Se(r),s=n.Tu.get(e),l=n.Iu.get(s.targetId);n.isPrimaryClient&&l.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),Hp(n.remoteStore,s.targetId))}async function f4(r,e,n){const s=v4(r);try{const l=await(function(f,m){const p=Se(f),g=it.now(),T=m.reduce(((j,G)=>j.add(G.key)),Le());let b,x;return p.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let G=dr(),X=Le();return p.Ns.getEntries(j,T).next((H=>{G=H,G.forEach(((te,ne)=>{ne.isValidDocument()||(X=X.add(te))}))})).next((()=>p.localDocuments.getOverlayedDocuments(j,G))).next((H=>{b=H;const te=[];for(const ne of m){const ie=RN(ne,b.get(ne.key).overlayedDocument);ie!=null&&te.push(new ys(ne.key,ie,JT(ie.value.mapValue),zn.exists(!0)))}return p.mutationQueue.addMutationBatch(j,g,te,m)})).next((H=>{x=H;const te=H.applyToLocalDocumentSet(b,X);return p.documentOverlayCache.saveOverlays(j,H.batchId,te)}))})).then((()=>({batchId:x.batchId,changes:o1(b)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(l.batchId),(function(f,m,p){let g=f.Vu[f.currentUser.toKey()];g||(g=new ut(Ve)),g=g.insert(m,p),f.Vu[f.currentUser.toKey()]=g})(s,l.batchId,n),await Tu(s,l.changes),await af(s.remoteStore)}catch(l){const u=Kp(l,"Failed to persist write");n.reject(u)}}async function G1(r,e){const n=Se(r);try{const s=await wI(n.localStore,e);e.targetChanges.forEach(((l,u)=>{const f=n.Au.get(u);f&&(Fe(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?f.hu=!0:l.modifiedDocuments.size>0?Fe(f.hu,14607):l.removedDocuments.size>0&&(Fe(f.hu,42227),f.hu=!1))})),await Tu(n,s,e)}catch(s){await Rl(s)}}function uE(r,e,n){const s=Se(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const l=[];s.Tu.forEach(((u,f)=>{const m=f.view.va(e);m.snapshot&&l.push(m.snapshot)})),(function(f,m){const p=Se(f);p.onlineState=m;let g=!1;p.queries.forEach(((T,b)=>{for(const x of b.Sa)x.va(m)&&(g=!0)})),g&&Xp(p)})(s.eventManager,e),l.length&&s.Pu.H_(l),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function d4(r,e,n){const s=Se(r);s.sharedClientState.updateQueryState(e,"rejected",n);const l=s.Au.get(e),u=l&&l.key;if(u){let f=new ut(de.comparator);f=f.insert(u,Zt.newNoDocument(u,Te.min()));const m=Le().add(u),p=new nf(Te.min(),new Map,new ut(Ve),f,m);await G1(s,p),s.du=s.du.remove(u),s.Au.delete(e),Jp(s)}else await ep(s.localStore,e,!1).then((()=>ip(s,e,n))).catch(Rl)}async function m4(r,e){const n=Se(r),s=e.batch.batchId;try{const l=await AI(n.localStore,e);Q1(n,s,null),Y1(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Tu(n,l)}catch(l){await Rl(l)}}async function p4(r,e,n){const s=Se(r);try{const l=await(function(f,m){const p=Se(f);return p.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let T;return p.mutationQueue.lookupMutationBatch(g,m).next((b=>(Fe(b!==null,37113),T=b.keys(),p.mutationQueue.removeMutationBatch(g,b)))).next((()=>p.mutationQueue.performConsistencyCheck(g))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(g,T,m))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,T))).next((()=>p.localDocuments.getDocuments(g,T)))}))})(s.localStore,e);Q1(s,e,n),Y1(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Tu(s,l)}catch(l){await Rl(l)}}function Y1(r,e){(r.mu.get(e)||[]).forEach((n=>{n.resolve()})),r.mu.delete(e)}function Q1(r,e,n){const s=Se(r);let l=s.Vu[s.currentUser.toKey()];if(l){const u=l.get(e);u&&(n?u.reject(n):u.resolve(),l=l.remove(e)),s.Vu[s.currentUser.toKey()]=l}}function ip(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Iu.get(e))r.Tu.delete(s),n&&r.Pu.yu(s,n);r.Iu.delete(e),r.isPrimaryClient&&r.Ru.jr(e).forEach((s=>{r.Ru.containsKey(s)||K1(r,s)}))}function K1(r,e){r.Eu.delete(e.path.canonicalString());const n=r.du.get(e);n!==null&&(Hp(r.remoteStore,n),r.du=r.du.remove(e),r.Au.delete(n),Jp(r))}function cE(r,e,n){for(const s of n)s instanceof q1?(r.Ru.addReference(s.key,e),g4(r,s)):s instanceof H1?(oe($p,"Document no longer in limbo: "+s.key),r.Ru.removeReference(s.key,e),r.Ru.containsKey(s.key)||K1(r,s.key)):_e(19791,{wu:s})}function g4(r,e){const n=e.key,s=n.path.canonicalString();r.du.get(n)||r.Eu.has(s)||(oe($p,"New document in limbo: "+n),r.Eu.add(s),Jp(r))}function Jp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const n=new de(et.fromString(e)),s=r.fu.next();r.Au.set(s,new s4(n)),r.du=r.du.insert(n,s),M1(r.remoteStore,new ns(Mi(Mp(n.path)),s,"TargetPurposeLimboResolution",Xh.ce))}}async function Tu(r,e,n){const s=Se(r),l=[],u=[],f=[];s.Tu.isEmpty()||(s.Tu.forEach(((m,p)=>{f.push(s.pu(p,e,n).then((g=>{if((g||n)&&s.isPrimaryClient){const T=g?!g.fromCache:n?.targetChanges.get(p.targetId)?.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(g){l.push(g);const T=Bp.As(p.targetId,g);u.push(T)}})))})),await Promise.all(f),s.Pu.H_(l),await(async function(p,g){const T=Se(p);try{await T.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ee.forEach(g,(x=>ee.forEach(x.Es,(j=>T.persistence.referenceDelegate.addReference(b,x.targetId,j))).next((()=>ee.forEach(x.ds,(j=>T.persistence.referenceDelegate.removeReference(b,x.targetId,j)))))))))}catch(b){if(!Cl(b))throw b;oe(qp,"Failed to update sequence numbers: "+b)}for(const b of g){const x=b.targetId;if(!b.fromCache){const j=T.Ms.get(x),G=j.snapshotVersion,X=j.withLastLimboFreeSnapshotVersion(G);T.Ms=T.Ms.insert(x,X)}}})(s.localStore,u))}async function y4(r,e){const n=Se(r);if(!n.currentUser.isEqual(e)){oe($p,"User change. New user:",e.toKey());const s=await N1(n.localStore,e);n.currentUser=e,(function(u,f){u.mu.forEach((m=>{m.forEach((p=>{p.reject(new le(Z.CANCELLED,f))}))})),u.mu.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Tu(n,s.Ls)}}function _4(r,e){const n=Se(r),s=n.Au.get(e);if(s&&s.hu)return Le().add(s.key);{let l=Le();const u=n.Iu.get(e);if(!u)return l;for(const f of u){const m=n.Tu.get(f);l=l.unionWith(m.view.nu)}return l}}function X1(r){const e=Se(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=G1.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_4.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=d4.bind(null,e),e.Pu.H_=t4.bind(null,e.eventManager),e.Pu.yu=n4.bind(null,e.eventManager),e}function v4(r){const e=Se(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=m4.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p4.bind(null,e),e}class kh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=rf(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return SI(this.persistence,new EI,e.initialUser,this.serializer)}Cu(e){return new C1(zp.mi,this.serializer)}Du(e){return new II}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kh.provider={build:()=>new kh};class E4 extends kh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Fe(this.persistence.referenceDelegate instanceof Ph,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new sI(s,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new C1((s=>Ph.mi(s,n)),this.serializer)}}class rp{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>uE(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=y4.bind(null,this.syncEngine),await ZI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new e4})()}createDatastore(e){const n=rf(e.databaseInfo.databaseId),s=(function(u){return new LI(u)})(e.databaseInfo);return(function(u,f,m,p){return new UI(u,f,m,p)})(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return(function(s,l,u,f,m){return new BI(s,l,u,f,m)})(this.localStore,this.datastore,e.asyncQueue,(n=>uE(this.syncEngine,n,0)),(function(){return iE.v()?new iE:new DI})())}createSyncEngine(e,n){return(function(l,u,f,m,p,g,T){const b=new a4(l,u,f,m,p,g);return T&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){await(async function(n){const s=Se(n);oe(ra,"RemoteStore shutting down."),s.Ea.add(5),await Eu(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}rp.provider={build:()=>new rp};class $1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fr("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout((()=>{this.muted||e(n)}),0)}}const ds="FirestoreClient";class T4{constructor(e,n,s,l,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=l,this.user=Jt.UNAUTHENTICATED,this.clientId=Rp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,(async f=>{oe(ds,"Received user=",f.uid),await this.authCredentialListener(f),this.user=f})),this.appCheckCredentials.start(s,(f=>(oe(ds,"Received new app check token=",f),this.appCheckCredentialListener(f,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new lr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Kp(n,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Dm(r,e){r.asyncQueue.verifyOperationInProgress(),oe(ds,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener((async l=>{s.isEqual(l)||(await N1(e.localStore,l),s=l)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function hE(r,e){r.asyncQueue.verifyOperationInProgress();const n=await b4(r);oe(ds,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener((s=>sE(e.remoteStore,s))),r.setAppCheckTokenChangeListener(((s,l)=>sE(e.remoteStore,l))),r._onlineComponents=e}async function b4(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){oe(ds,"Using user provided OfflineComponentProvider");try{await Dm(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(n))throw n;dl("Error using user provided cache. Falling back to memory cache: "+n),await Dm(r,new kh)}}else oe(ds,"Using default OfflineComponentProvider"),await Dm(r,new E4(void 0));return r._offlineComponents}async function J1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(oe(ds,"Using user provided OnlineComponentProvider"),await hE(r,r._uninitializedComponentsProvider._online)):(oe(ds,"Using default OnlineComponentProvider"),await hE(r,new rp))),r._onlineComponents}function S4(r){return J1(r).then((e=>e.syncEngine))}async function Z1(r){const e=await J1(r),n=e.eventManager;return n.onListen=l4.bind(null,e.syncEngine),n.onUnlisten=c4.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=o4.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=h4.bind(null,e.syncEngine),n}function A4(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new $1({next:x=>{T.Nu(),f.enqueueAndForget((()=>z1(u,b)));const j=x.docs.has(m);!j&&x.fromCache?g.reject(new le(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&x.fromCache&&p&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new B1(Mp(m.path),T,{includeMetadataChanges:!0,qa:!0});return U1(u,b)})(await Z1(r),r.asyncQueue,e,n,s))),s.promise}function w4(r,e,n={}){const s=new lr;return r.asyncQueue.enqueueAndForget((async()=>(function(u,f,m,p,g){const T=new $1({next:x=>{T.Nu(),f.enqueueAndForget((()=>z1(u,b))),x.fromCache&&p.source==="server"?g.reject(new le(Z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(x)},error:x=>g.reject(x)}),b=new B1(m,T,{includeMetadataChanges:!0,qa:!0});return U1(u,b)})(await Z1(r),r.asyncQueue,e,n,s))),s.promise}function W1(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const fE=new Map;const eb="firestore.googleapis.com",dE=!0;class mE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new le(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=eb,this.ssl=dE}else this.host=e.host,this.ssl=e.ssl??dE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=R1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<iI)throw new le(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zC("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=W1(e.experimentalLongPollingOptions??{}),(function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new le(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,l){return s.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class lf{constructor(e,n,s,l){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new le(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new le(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new IC;switch(s.type){case"firstParty":return new VC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new le(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const s=fE.get(n);s&&(oe("ComponentProvider","Removing Datastore"),fE.delete(n),s.terminate())})(this),Promise.resolve()}}function x4(r,e,n,s={}){r=ii(r,lf);const l=Sl(e),u=r._getSettings(),f={...u,emulatorOptions:r._getEmulatorOptions()},m=`${e}:${n}`;l&&(FE(`https://${m}`),GE("Firestore",!0)),u.host!==eb&&u.host!==m&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p={...u,host:m,ssl:l,emulatorOptions:s};if(!Ws(p,f)&&(r._setSettings(p),s.mockUserToken)){let g,T;if(typeof s.mockUserToken=="string")g=s.mockUserToken,T=Jt.MOCK_USER;else{g=Bw(s.mockUserToken,r._app?.options.projectId);const b=s.mockUserToken.sub||s.mockUserToken.user_id;if(!b)throw new le(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Jt(b)}r._authCredentials=new DC(new UT(g,T))}}class ua{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new ua(this.firestore,e,this._query)}}class yt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ls(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yt(this.firestore,e,this._key)}toJSON(){return{type:yt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(gu(n,yt._jsonSchema))return new yt(e,s||null,new de(et.fromString(n.referencePath)))}}yt._jsonSchemaVersion="firestore/documentReference/1.0",yt._jsonSchema={type:Nt("string",yt._jsonSchemaVersion),referencePath:Nt("string")};class ls extends ua{constructor(e,n,s){super(e,n,Mp(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yt(this.firestore,null,new de(e))}withConverter(e){return new ls(this.firestore,e,this._path)}}function vl(r,e,...n){if(r=Ut(r),zT("collection","path",e),r instanceof lf){const s=et.fromString(e,...n);return R0(s),new ls(r,null,s)}{if(!(r instanceof yt||r instanceof ls))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return R0(s),new ls(r.firestore,null,s)}}function sa(r,e,...n){if(r=Ut(r),arguments.length===1&&(e=Rp.newId()),zT("doc","path",e),r instanceof lf){const s=et.fromString(e,...n);return x0(s),new yt(r,null,new de(s))}{if(!(r instanceof yt||r instanceof ls))throw new le(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(et.fromString(e,...n));return x0(s),new yt(r.firestore,r instanceof ls?r.converter:null,new de(s))}}const pE="AsyncQueue";class gE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new D1(this,"async_queue_retry"),this._c=()=>{const s=Im();s&&oe(pE,"Visibility state changed to "+s.visibilityState),this.M_.w_()},this.ac=e;const n=Im();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Im();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const n=new lr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Cl(e))throw e;oe(pE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const n=this.ac.then((()=>(this.rc=!0,e().catch((s=>{throw this.nc=s,this.rc=!1,fr("INTERNAL UNHANDLED ERROR: ",yE(s)),s})).then((s=>(this.rc=!1,s))))));return this.ac=n,n}enqueueAfterDelay(e,n,s){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const l=Qp.createAndSchedule(this,e,n,s,(u=>this.hc(u)));return this.tc.push(l),l}uc(){this.nc&&_e(47125,{Pc:yE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((n,s)=>n.targetTimeMs-s.targetTimeMs));for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function yE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class ca extends lf{constructor(e,n,s,l){super(e,n,s,l),this.type="firestore",this._queue=new gE,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new gE(e),this._firestoreClient=void 0,await e}}}function R4(r,e){const n=typeof r=="object"?r:XE(),s=typeof r=="string"?r:Nh,l=gp(n,"firestore").getImmediate({identifier:s});if(!l._initialized){const u=Uw("firestore");u&&x4(l,...u)}return l}function Zp(r){if(r._terminated)throw new le(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||C4(r),r._firestoreClient}function C4(r){const e=r._freezeSettings(),n=(function(l,u,f,m){return new JC(l,u,f,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,W1(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new T4(r._authCredentials,r._appCheckCredentials,r._queue,n,r._componentsProvider&&(function(l){const u=l?._online.build();return{_offline:l?._offline.build(u),_online:u}})(r._componentsProvider))}class kn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new kn(Kt.fromBase64String(e))}catch(n){throw new le(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new kn(Kt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,kn._jsonSchema))return kn.fromBase64String(e.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:Nt("string",kn._jsonSchemaVersion),bytes:Nt("string")};class of{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new le(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class uf{constructor(e){this._methodName=e}}class Li{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new le(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new le(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Li._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Li._jsonSchema))return new Li(e.latitude,e.longitude)}}Li._jsonSchemaVersion="firestore/geoPoint/1.0",Li._jsonSchema={type:Nt("string",Li._jsonSchemaVersion),latitude:Nt("number"),longitude:Nt("number")};class Pi{constructor(e){this._values=(e||[]).map((n=>n))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,l){if(s.length!==l.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==l[u])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Pi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Pi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((n=>typeof n=="number")))return new Pi(e.vectorValues);throw new le(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Pi._jsonSchemaVersion="firestore/vectorValue/1.0",Pi._jsonSchema={type:Nt("string",Pi._jsonSchemaVersion),vectorValues:Nt("object")};const N4=/^__.*__$/;class I4{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class tb{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function nb(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _e(40011,{Ac:r})}}class Wp{constructor(e,n,s,l,u,f){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=l,u===void 0&&this.Rc(),this.fieldTransforms=u||[],this.fieldMask=f||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new Wp({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.gc(e),s}yc(e){const n=this.path?.child(e),s=this.Vc({path:n,fc:!1});return s.Rc(),s}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return Uh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(nb(this.Ac)&&N4.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class D4{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||rf(e)}Cc(e,n,s,l=!1){return new Wp({Ac:e,methodName:n,Dc:s,path:Qt.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cf(r){const e=r._freezeSettings(),n=rf(r._databaseId);return new D4(r._databaseId,!!e.ignoreUndefinedProperties,n)}function ib(r,e,n,s,l,u={}){const f=r.Cc(u.merge||u.mergeFields?2:0,e,n,l);tg("Data must be an object, but it was:",f,s);const m=rb(s,f);let p,g;if(u.merge)p=new bn(f.fieldMask),g=f.fieldTransforms;else if(u.mergeFields){const T=[];for(const b of u.mergeFields){const x=sp(e,b,n);if(!f.contains(x))throw new le(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);ab(T,x)||T.push(x)}p=new bn(T),g=f.fieldTransforms.filter((b=>p.covers(b.field)))}else p=null,g=f.fieldTransforms;return new I4(new fn(m),p,g)}class hf extends uf{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof hf}}class eg extends uf{_toFieldTransform(e){return new SN(e.path,new su)}isEqual(e){return e instanceof eg}}function O4(r,e,n,s){const l=r.Cc(1,e,n);tg("Data must be an object, but it was:",l,s);const u=[],f=fn.empty();gs(s,((p,g)=>{const T=ng(e,p,n);g=Ut(g);const b=l.yc(T);if(g instanceof hf)u.push(T);else{const x=bu(g,b);x!=null&&(u.push(T),f.set(T,x))}}));const m=new bn(u);return new tb(f,m,l.fieldTransforms)}function M4(r,e,n,s,l,u){const f=r.Cc(1,e,n),m=[sp(e,s,n)],p=[l];if(u.length%2!=0)throw new le(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(sp(e,u[x])),p.push(u[x+1]);const g=[],T=fn.empty();for(let x=m.length-1;x>=0;--x)if(!ab(g,m[x])){const j=m[x];let G=p[x];G=Ut(G);const X=f.yc(j);if(G instanceof hf)g.push(j);else{const H=bu(G,X);H!=null&&(g.push(j),T.set(j,H))}}const b=new bn(g);return new tb(T,b,f.fieldTransforms)}function V4(r,e,n,s=!1){return bu(n,r.Cc(s?4:3,e))}function bu(r,e){if(sb(r=Ut(r)))return tg("Unsupported field value:",e,r),rb(r,e);if(r instanceof uf)return(function(s,l){if(!nb(l.Ac))throw l.Sc(`${s._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(l);u&&l.fieldTransforms.push(u)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(s,l){const u=[];let f=0;for(const m of s){let p=bu(m,l.wc(f));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),f++}return{arrayValue:{values:u}}})(r,e)}return(function(s,l){if((s=Ut(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return EN(l.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=it.fromDate(s);return{timestampValue:Lh(l.serializer,u)}}if(s instanceof it){const u=new it(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Lh(l.serializer,u)}}if(s instanceof Li)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof kn)return{bytesValue:E1(l.serializer,s._byteString)};if(s instanceof yt){const u=l.databaseId,f=s.firestore._databaseId;if(!f.isEqual(u))throw l.Sc(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:kp(s.firestore._databaseId||l.databaseId,s._key.path)}}if(s instanceof Pi)return(function(f,m){return{mapValue:{fields:{[XT]:{stringValue:$T},[Ih]:{arrayValue:{values:f.toArray().map((g=>{if(typeof g!="number")throw m.Sc("VectorValues must only contain numeric values.");return Vp(m.serializer,g)}))}}}}}})(s,l);throw l.Sc(`Unsupported field value: ${Kh(s)}`)})(r,e)}function rb(r,e){const n={};return HT(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):gs(r,((s,l)=>{const u=bu(l,e.mc(s));u!=null&&(n[s]=u)})),{mapValue:{fields:n}}}function sb(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Li||r instanceof kn||r instanceof yt||r instanceof uf||r instanceof Pi)}function tg(r,e,n){if(!sb(n)||!BT(n)){const s=Kh(n);throw s==="an object"?e.Sc(r+" a custom object"):e.Sc(r+" "+s)}}function sp(r,e,n){if((e=Ut(e))instanceof of)return e._internalPath;if(typeof e=="string")return ng(r,e);throw Uh("Field path arguments must be of type string or ",r,!1,void 0,n)}const L4=new RegExp("[~\\*/\\[\\]]");function ng(r,e,n){if(e.search(L4)>=0)throw Uh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new of(...e.split("."))._internalPath}catch{throw Uh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function Uh(r,e,n,s,l){const u=s&&!s.isEmpty(),f=l!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||f)&&(p+=" (found",u&&(p+=` in field ${s}`),f&&(p+=` in document ${l}`),p+=")"),new le(Z.INVALID_ARGUMENT,m+r+p)}function ab(r,e){return r.some((n=>n.isEqual(e)))}class lb{constructor(e,n,s,l,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=l,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new yt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new P4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ig("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class P4 extends lb{data(){return super.data()}}function ig(r,e){return typeof e=="string"?ng(r,e):e instanceof of?e._internalPath:e._delegate._internalPath}function j4(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new le(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class rg{}class ob extends rg{}function Ho(r,e,...n){let s=[];e instanceof rg&&s.push(e),s=s.concat(n),(function(u){const f=u.filter((p=>p instanceof sg)).length,m=u.filter((p=>p instanceof ff)).length;if(f>1||f>0&&m>0)throw new le(Z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const l of s)r=l._apply(r);return r}class ff extends ob{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new ff(e,n,s)}_apply(e){const n=this._parse(e);return ub(e._query,n),new ua(e.firestore,e.converter,Xm(e._query,n))}_parse(e){const n=cf(e.firestore);return(function(u,f,m,p,g,T,b){let x;if(g.isKeyField()){if(T==="array-contains"||T==="array-contains-any")throw new le(Z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${T}' queries on documentId().`);if(T==="in"||T==="not-in"){vE(b,T);const G=[];for(const X of b)G.push(_E(p,u,X));x={arrayValue:{values:G}}}else x=_E(p,u,b)}else T!=="in"&&T!=="not-in"&&T!=="array-contains-any"||vE(b,T),x=V4(m,f,b,T==="in"||T==="not-in");return Ct.create(g,T,x)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function sh(r,e,n){const s=e,l=ig("where",r);return ff._create(l,s,n)}class sg extends rg{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sg(e,n)}_parse(e){const n=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return n.length===1?n[0]:ri.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(l,u){let f=l;const m=u.getFlattenedFilters();for(const p of m)ub(f,p),f=Xm(f,p)})(e._query,n),new ua(e.firestore,e.converter,Xm(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class ag extends ob{constructor(e,n,s){super(),this.type=e,this._limit=n,this._limitType=s}static _create(e,n,s){return new ag(e,n,s)}_apply(e){return new ua(e.firestore,e.converter,Mh(e._query,this._limit,this._limitType))}}function k4(r){return ag._create("limit",r,"F")}function _E(r,e,n){if(typeof(n=Ut(n))=="string"){if(n==="")throw new le(Z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!r1(e)&&n.indexOf("/")!==-1)throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(et.fromString(n));if(!de.isDocumentKey(s))throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L0(r,new de(s))}if(n instanceof yt)return L0(r,n._key);throw new le(Z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kh(n)}.`)}function vE(r,e){if(!Array.isArray(r)||r.length===0)throw new le(Z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ub(r,e){const n=(function(l,u){for(const f of l)for(const m of f.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null})(r.filters,(function(l){switch(l){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new le(Z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class U4{convertValue(e,n="none"){switch(hs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(cs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw _e(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return gs(e,((l,u)=>{s[l]=this.convertValue(u,n)})),s}convertVectorValue(e){const n=e.fields?.[Ih].arrayValue?.values?.map((s=>gt(s.doubleValue)));return new Pi(n)}convertGeoPoint(e){return new Li(gt(e.latitude),gt(e.longitude))}convertArray(e,n){return(e.values||[]).map((s=>this.convertValue(s,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Jh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(nu(e));default:return null}}convertTimestamp(e){const n=us(e);return new it(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=et.fromString(e);Fe(x1(s),9688,{name:e});const l=new iu(s.get(1),s.get(3)),u=new de(s.popFirst(5));return l.isEqual(n)||fr(`Document ${u} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}function cb(r,e,n){let s;return s=r?r.toFirestore(e):e,s}class Fo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zs extends lb{constructor(e,n,s,l,u,f){super(e,n,s,l,f),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new yh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ig("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Zs._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Zs._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zs._jsonSchema={type:Nt("string",Zs._jsonSchemaVersion),bundleSource:Nt("string","DocumentSnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class yh extends Zs{data(e={}){return super.data(e)}}class hl{constructor(e,n,s,l){this._firestore=e,this._userDataWriter=n,this._snapshot=l,this.metadata=new Fo(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((s=>{e.call(n,new yh(this._firestore,this._userDataWriter,s.key,s,new Fo(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new le(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(l,u){if(l._snapshot.oldDocs.isEmpty()){let f=0;return l._snapshot.docChanges.map((m=>{const p=new yh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Fo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:f++}}))}{let f=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((m=>u||m.type!==3)).map((m=>{const p=new yh(l._firestore,l._userDataWriter,m.doc.key,m.doc,new Fo(l._snapshot.mutatedKeys.has(m.doc.key),l._snapshot.fromCache),l.query.converter);let g=-1,T=-1;return m.type!==0&&(g=f.indexOf(m.doc.key),f=f.delete(m.doc.key)),m.type!==1&&(f=f.add(m.doc),T=f.indexOf(m.doc.key)),{type:z4(m.type),doc:p,oldIndex:g,newIndex:T}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new le(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=hl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Rp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],l=[];return this.docs.forEach((u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),l.push(u.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function z4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _e(61501,{type:r})}}function hb(r){r=ii(r,yt);const e=ii(r.firestore,ca);return A4(Zp(e),r._key).then((n=>H4(e,r,n)))}hl._jsonSchemaVersion="firestore/querySnapshot/1.0",hl._jsonSchema={type:Nt("string",hl._jsonSchemaVersion),bundleSource:Nt("string","QuerySnapshot"),bundleName:Nt("string"),bundle:Nt("string")};class fb extends U4{constructor(e){super(),this.firestore=e}convertBytes(e){return new kn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new yt(this.firestore,null,n)}}function lg(r){r=ii(r,ua);const e=ii(r.firestore,ca),n=Zp(e),s=new fb(e);return j4(r._query),w4(n,r._query).then((l=>new hl(e,s,r,l)))}function db(r,e,n){r=ii(r,yt);const s=ii(r.firestore,ca),l=cb(r.converter,e);return df(s,[ib(cf(s),"setDoc",r._key,l,r.converter!==null,n).toMutation(r._key,zn.none())])}function B4(r,e,n,...s){r=ii(r,yt);const l=ii(r.firestore,ca),u=cf(l);let f;return f=typeof(e=Ut(e))=="string"||e instanceof of?M4(u,"updateDoc",r._key,e,n,s):O4(u,"updateDoc",r._key,e),df(l,[f.toMutation(r._key,zn.exists(!0))])}function q4(r){return df(ii(r.firestore,ca),[new Lp(r._key,zn.none())])}function og(r,e){const n=ii(r.firestore,ca),s=sa(r),l=cb(r.converter,e);return df(n,[ib(cf(r.firestore),"addDoc",s._key,l,r.converter!==null,{}).toMutation(s._key,zn.exists(!1))]).then((()=>s))}function df(r,e){return(function(s,l){const u=new lr;return s.asyncQueue.enqueueAndForget((async()=>f4(await S4(s),l,u))),u.promise})(Zp(r),e)}function H4(r,e,n){const s=n.docs.get(e._key),l=new fb(r);return new Zs(r,l,e._key,s,new Fo(n.hasPendingWrites,n.fromCache),e.converter)}function F4(){return new eg("serverTimestamp")}(function(e,n=!0){(function(l){xl=l})(Al),fl(new ea("firestore",((s,{instanceIdentifier:l,options:u})=>{const f=s.getProvider("app").getImmediate(),m=new ca(new OC(s.getProvider("auth-internal")),new LC(f,s.getProvider("app-check-internal")),(function(g,T){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new le(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(g.options.projectId,T)})(f,l),f);return u={useFetchStreams:n,...u},m._setSettings(u),m}),"PUBLIC").setMultipleInstances(!0)),ss(b0,S0,e),ss(b0,S0,"esm2020")})();const G4={apiKey:"AIzaSyAFyfNwxUhzXkFTnsWdEC8hQ6UmgTPw-o0",authDomain:"h4i-fall25-final-project.firebaseapp.com",projectId:"h4i-fall25-final-project",storageBucket:"h4i-fall25-final-project.firebasestorage.app",messagingSenderId:"978129154350",appId:"1:978129154350:web:79062cf504981ca71a4abf"},mb=KE(G4),mr=CC(mb),Un=R4(mb),pb="/h4i-Team1-Final-Project/assets/ShellFaxLogo-DHJrtL8p.jpeg";function Y4(){const r=pr(),[e,n]=U.useState(""),[s,l]=U.useState(""),[u,f]=U.useState(""),m=async()=>{try{await mR(mr,e,s)}catch(p){f(String(p)||"Login failed")}};return v.jsxs("div",{className:"bg-[#fefcf8]",children:[v.jsx("div",{children:v.jsx("img",{src:pb,alt:"ShellFax Logo",className:"w-[542px] h-[131px] top-[13px] left-[20px]"})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs("div",{className:"relative w-[548px] h-[646px] bg-[#D1D1D6] rounded-[28px] border-[5px] border-[#0000003D] pt-6",children:[v.jsx("button",{onClick:()=>r("/signup"),className:"absolute top-4 left-4 px-4 py-2 text-sm font-medium text-black hover:underline",children:"Sign Up"}),v.jsx("div",{className:"flex justify-center pt-[9.63px]",children:v.jsxs("div",{className:"w-[60.75px] h-[57.75px] border-2 border-black rounded-full flex flex-col items-center pt-2 relative",children:[v.jsx("div",{className:"w-[24px] h-[24px] border-2 border-black rounded-full"}),v.jsx("div",{className:"absolute bottom-1 w-[32px] h-[12px] overflow-hidden",children:v.jsx("div",{className:"w-[32px] h-[32px] border-2 border-black rounded-full "})})]})}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h1",{className:"font-['Montserrat'] font-bold text-[40px] text-center",children:"LOGIN"}),v.jsx("h1",{className:"font-['Static/Headline Small/Font'] text-[25px] font-medium text-center text-[#00000091]",children:"Join the ShellFax Family!"})]}),v.jsx("div",{className:"flex flex-col items-center mt-10",children:v.jsx("div",{className:"w-[360px] h-[56px] bg-[#FFFFFF] rounded-[28px] flex items-center px-[4px] pl-4",children:v.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:p=>n(p.target.value),className:"w-full h-full bg-transparent border-none outline-none placeholder:text-black"})})}),v.jsx("div",{className:"flex flex-col items-center mt-10",children:v.jsx("div",{className:"w-[360px] h-[56px] bg-[#FFFFFF] rounded-[28px] flex items-center px-[4px] pl-4",children:v.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:p=>l(p.target.value),className:"w-full h-full bg-transparent border-none outline-none placeholder:text-black"})})}),v.jsx("div",{className:"flex flex-col items-center mt-10",children:v.jsx("button",{onClick:m,className:"w-[300px] h-[48px] bg-[#F5BC13] rounded-[24px] text-black font-semibold text-lg hover:bg-[#FF0505]",children:"Login"})}),u&&v.jsx("div",{children:u})]})})]})}function Q4(){const r=pr(),[e,n]=U.useState(""),[s,l]=U.useState(""),[u,f]=U.useState(""),m=async()=>{try{const g=(await dR(mr,e,s)).user,T=e.endsWith("@shellfax.com")?"vendor":"customer";await db(sa(Un,"users",g.uid),{email:e,role:T}),r(T==="vendor"?"/vendorProduct":"/")}catch(p){f(String(p)||"Sign up failed")}};return v.jsxs("div",{children:[v.jsx("div",{children:v.jsx("img",{src:pb,alt:"ShellFax Logo",className:"w-[542px] h-[131px] top-[13px] left-[20px] bg-white"})}),v.jsx("div",{className:"flex justify-center",children:v.jsxs("div",{className:"relative w-[548px] h-[646px] bg-[#D1D1D6] rounded-[28px] border-[5px] border-[#0000003D] pt-6",children:[v.jsx("button",{onClick:()=>r("/login"),className:"absolute top-4 left-4 px-4 py-2 text-sm font-medium text-black hover:underline",children:"Login"}),v.jsx("div",{className:"flex justify-center pt-[9.63px]",children:v.jsxs("div",{className:"w-[60.75px] h-[57.75px] border-2 border-black rounded-full flex flex-col items-center pt-2 relative",children:[v.jsx("div",{className:"w-[24px] h-[24px] border-2 border-black rounded-full"}),v.jsx("div",{className:"absolute bottom-1 w-[32px] h-[12px] overflow-hidden",children:v.jsx("div",{className:"w-[32px] h-[32px] border-2 border-black rounded-full "})})]})}),v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("h1",{className:"font-['Montserrat'] font-bold text-[40px] text-center",children:"SIGN UP"}),v.jsx("h1",{className:"font-['Static/Headline Small/Font'] text-[25px] font-medium text-center text-[#00000091]",children:"Join the ShellFax Family!"})]}),v.jsx("div",{className:"flex flex-col items-center mt-10",children:v.jsx("div",{className:"w-[360px] h-[56px] bg-[#FFFFFF] rounded-[28px] flex items-center px-[4px] pl-4",children:v.jsx("input",{type:"email",placeholder:"Email",value:e,onChange:p=>n(p.target.value),className:"w-full h-full bg-transparent border-none outline-none placeholder:text-black"})})}),v.jsx("div",{className:"flex flex-col items-center mt-10",children:v.jsx("div",{className:"w-[360px] h-[56px] bg-[#FFFFFF] rounded-[28px] flex items-center px-[4px] pl-4",children:v.jsx("input",{type:"password",placeholder:"Password",value:s,onChange:p=>l(p.target.value),className:"w-full h-full bg-transparent border-none outline-none placeholder:text-black"})})}),v.jsx("div",{className:"flex flex-col items-center mt-10",children:v.jsx("button",{onClick:m,className:"w-[300px] h-[48px] bg-[#F5BC13] rounded-[24px] text-black font-semibold text-lg hover:bg-[#FF0505]",children:"Sign Up"})}),u&&v.jsx("div",{children:u})]})})]})}var gb={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},EE=Js.createContext&&Js.createContext(gb),K4=["attr","size","title"];function X4(r,e){if(r==null)return{};var n=$4(r,e),s,l;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(r);for(l=0;l<u.length;l++)s=u[l],!(e.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(r,s)&&(n[s]=r[s])}return n}function $4(r,e){if(r==null)return{};var n={};for(var s in r)if(Object.prototype.hasOwnProperty.call(r,s)){if(e.indexOf(s)>=0)continue;n[s]=r[s]}return n}function zh(){return zh=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])}return r},zh.apply(this,arguments)}function TE(r,e){var n=Object.keys(r);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(r);e&&(s=s.filter(function(l){return Object.getOwnPropertyDescriptor(r,l).enumerable})),n.push.apply(n,s)}return n}function Bh(r){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TE(Object(n),!0).forEach(function(s){J4(r,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(n)):TE(Object(n)).forEach(function(s){Object.defineProperty(r,s,Object.getOwnPropertyDescriptor(n,s))})}return r}function J4(r,e,n){return e=Z4(e),e in r?Object.defineProperty(r,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):r[e]=n,r}function Z4(r){var e=W4(r,"string");return typeof e=="symbol"?e:e+""}function W4(r,e){if(typeof r!="object"||!r)return r;var n=r[Symbol.toPrimitive];if(n!==void 0){var s=n.call(r,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(r)}function yb(r){return r&&r.map((e,n)=>Js.createElement(e.tag,Bh({key:n},e.attr),yb(e.child)))}function yr(r){return e=>Js.createElement(e3,zh({attr:Bh({},r.attr)},e),yb(r.child))}function e3(r){var e=n=>{var{attr:s,size:l,title:u}=r,f=X4(r,K4),m=l||n.size||"1em",p;return n.className&&(p=n.className),r.className&&(p=(p?p+" ":"")+r.className),Js.createElement("svg",zh({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,f,{className:p,style:Bh(Bh({color:r.color||n.color},n.style),r.style),height:m,width:m,xmlns:"http://www.w3.org/2000/svg"}),u&&Js.createElement("title",null,u),r.children)};return EE!==void 0?Js.createElement(EE.Consumer,null,n=>e(n)):e(gb)}function t3(r){return yr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224,202.66A53.34,53.34,0,1,0,277.36,256,53.38,53.38,0,0,0,224,202.66Zm124.71-41a54,54,0,0,0-30.41-30.41c-21-8.29-71-6.43-94.3-6.43s-73.25-1.93-94.31,6.43a54,54,0,0,0-30.41,30.41c-8.28,21-6.43,71.05-6.43,94.33S91,329.26,99.32,350.33a54,54,0,0,0,30.41,30.41c21,8.29,71,6.43,94.31,6.43s73.24,1.93,94.3-6.43a54,54,0,0,0,30.41-30.41c8.35-21,6.43-71.05,6.43-94.33S357.1,182.74,348.75,161.67ZM224,338a82,82,0,1,1,82-82A81.9,81.9,0,0,1,224,338Zm85.38-148.3a19.14,19.14,0,1,1,19.13-19.14A19.1,19.1,0,0,1,309.42,189.74ZM400,32H48A48,48,0,0,0,0,80V432a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V80A48,48,0,0,0,400,32ZM382.88,322c-1.29,25.63-7.14,48.34-25.85,67s-41.4,24.63-67,25.85c-26.41,1.49-105.59,1.49-132,0-25.63-1.29-48.26-7.15-67-25.85s-24.63-41.42-25.85-67c-1.49-26.42-1.49-105.61,0-132,1.29-25.63,7.07-48.34,25.85-67s41.47-24.56,67-25.78c26.41-1.49,105.59-1.49,132,0,25.63,1.29,48.33,7.15,67,25.85s24.63,41.42,25.85,67.05C384.37,216.44,384.37,295.56,382.88,322Z"},child:[]}]})(r)}function n3(r){return yr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M549.655 124.083c-6.281-23.65-24.787-42.276-48.284-48.597C458.781 64 288 64 288 64S117.22 64 74.629 75.486c-23.497 6.322-42.003 24.947-48.284 48.597-11.412 42.867-11.412 132.305-11.412 132.305s0 89.438 11.412 132.305c6.281 23.65 24.787 41.5 48.284 47.821C117.22 448 288 448 288 448s170.78 0 213.371-11.486c23.497-6.321 42.003-24.171 48.284-47.821 11.412-42.867 11.412-132.305 11.412-132.305s0-89.438-11.412-132.305zm-317.51 213.508V175.185l142.739 81.205-142.739 81.201z"},child:[]}]})(r)}function i3(r){return yr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(r)}function r3(r){return yr({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528.12 301.319l47.273-208C578.806 78.301 567.391 64 551.99 64H159.208l-9.166-44.81C147.758 8.021 137.93 0 126.529 0H24C10.745 0 0 10.745 0 24v16c0 13.255 10.745 24 24 24h69.883l70.248 343.435C147.325 417.1 136 435.222 136 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-15.674-6.447-29.835-16.824-40h209.647C430.447 426.165 424 440.326 424 456c0 30.928 25.072 56 56 56s56-25.072 56-56c0-22.172-12.888-41.332-31.579-50.405l5.517-24.276c3.413-15.018-8.002-29.319-23.403-29.319H218.117l-6.545-32h293.145c11.206 0 20.92-7.754 23.403-18.681z"},child:[]}]})(r)}function s3(r){return yr({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 48C141.1 48 48 141.1 48 256s93.1 208 208 208 208-93.1 208-208S370.9 48 256 48zm143.3 263.9c-8.1-2.6-23.7-3.4-29.5-10.4-2.9-3.5-1-16.6-1-16.6 25.2-1.4 31-6.1 31-6.1 3.9-2.3 2.1-2.7.1-6.1-10.9-18.3-6-41.5-6.5-61.6-.4-16.7-4.8-35-20-44.4-7.6-4.7-19.7-6.9-31.4-6.9-9.5 0-18.7 1.4-25.3 4.1-42.4 17-17.4 73.2-31.9 105.4-2.5 5.4-6.1 7.3.2 10.5 0 0 7.5 4.4 28.9 6.3 0 0 .3 12.6 0 13.9-1.1 4.9-11.8 8.3-15.8 9.4-2.7.7-8.7 2.5-16.4 5.7-3.7 1.5-3.1 6.9.8 7.6 3.9.7 8.1 1.7 11.5 2.9 0 0 26.4 6 46 25 13.2 12.7 18.1 27.6 20 44.6.5 4.5-1.7 8.9-5.5 11.5l-5.7 3.6c-1.9 1.1-4.2-.2-4.3-2.4 0-29.5-17.8-55.5-45.8-65.2-13.5-4.7-28.1-5-41.6-9.7-4.1-1.4-12.2-3.1-13.9-7.8-1.6-4.6-1.6-10-1.9-14.8-.2-3.8-.3-7.6-.3-11.4 0-2.5 6.4-7.8 7.8-10.1 5.4-9 5.9-21.1 6.9-31.3 8.7 2.4 9.8-13.7 11.3-18.6 1.1-3.4 5-20.9-2.6-23.6 2.5-4.4 3.5-9.8 4.2-14.7 2-12.8 2.8-26.8-1.1-39.3-8.1-26-33-40.6-59.3-41.4-26.7-.9-53.5 11.9-63.5 37.8-4.8 12.6-4.4 26.3-2.8 39.5.7 6 1.7 12.7 4.7 18.1-6.4 2.8-4.5 17.7-3.4 21.3 1.6 5.1 3 23.4 12.1 20.9.8 8.1 1.7 16.4 3.9 24.3 1.5 5.3 4.6 9.8 8.2 13.9 1.8 2 2.7 2.2 2.6 4.8-.1 7.8.1 16.2-1.9 23.8s-18.7 10.8-25.4 12.2c-14.8 3-28.6 4.7-41.4 11.5C84.8 320.6 76 289 76 256c0-47.9 19.2-94 53.2-127.7C162.7 95 207.1 76.4 254.3 76c47.6-.4 93.7 18.1 127.8 51.5 34.8 34.1 54 79.9 54 128.5 0 24.9-5 48.9-14.5 71.1-5.6-7-13.4-12.3-22.3-15.2z"},child:[]}]})(r)}function a3(r){return yr({attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"},child:[]},{tag:"path",attr:{fillRule:"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"},child:[]}]})(r)}function l3(r){return yr({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Login"},child:[{tag:"g",attr:{},child:[{tag:"path",attr:{d:"M20.944,18.432a2.577,2.577,0,0,1-2.729,2.5c-2.153.012-4.307,0-6.46,0a.5.5,0,0,1,0-1c2.2,0,4.4.032,6.6,0,1.107-.016,1.589-.848,1.589-1.838V5.63a1.545,1.545,0,0,0-.969-1.471,3.027,3.027,0,0,0-1.061-.095H11.755a.5.5,0,0,1,0-1c2.225,0,4.465-.085,6.688,0a2.566,2.566,0,0,1,2.5,2.67Z"},child:[]},{tag:"path",attr:{d:"M15.794,12.354a.459.459,0,0,0,.138-.312A.3.3,0,0,0,15.938,12a.29.29,0,0,0-.006-.041.455.455,0,0,0-.138-.313L12.125,7.978a.5.5,0,0,0-.707.707L14.234,11.5H3.492a.5.5,0,0,0,0,1H14.234l-2.816,2.815a.5.5,0,0,0,.707.707Z"},child:[]}]}]}]})(r)}const _b="/h4i-Team1-Final-Project/assets/shellfax-logo-Blqg3z4j.png",or=()=>{const r=pr(),[e,n]=U.useState(null);U.useEffect(()=>Sp(mr,f=>{n(f)}),[]);const s=e?.email?.endsWith("@shellfax.com")??!1,l=async()=>{try{await yR(mr),r("/login")}catch(u){console.error("Logout error:",u)}};return v.jsx("nav",{className:"bg-red-500 p-4",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx(ei,{to:"/",className:"flex items-center",children:v.jsx("img",{src:_b,alt:"Shellfax Logo",className:"h-16 w-auto"})}),v.jsxs("div",{className:"flex items-center space-x-4",children:[s&&v.jsx(ei,{to:"/VendorProduct","aria-label":"Vendor Dashboard",children:v.jsx("button",{type:"button",className:"bg-yellow-300 text-black px-4 py-2 rounded-2xl text-md font-medium hover:bg-yellow-400","aria-label":"Vendor Dashboard",children:"Manage Inventory"})}),v.jsx(ei,{to:"/","aria-label":"Home",children:v.jsx(i3,{color:"yellow",size:30})}),v.jsx(ei,{to:"/cart","aria-label":"Cart",children:v.jsx(r3,{color:"yellow",size:30})}),v.jsx(ei,{to:"/contact","aria-label":"Contact",children:v.jsx(s3,{color:"yellow",size:30})}),v.jsx(ei,{to:"/customer","aria-label":"Profile",children:v.jsx(a3,{color:"yellow",size:30})}),v.jsx("button",{onClick:l,"aria-label":"Logout",className:"text-yellow",type:"button",children:v.jsx(l3,{color:"black",size:30})})]})]})})};function bE(){const r=li(),[e,n]=U.useState([]),[s,l]=U.useState(!1),[u,f]=U.useState(!1),[m,p]=U.useState(!1),[g,T]=U.useState({firstName:"",lastName:"",address:"",zipCode:"",city:"",state:""}),[b,x]=U.useState({cardNumber:"",expiration:"",cvc:""}),[j,G]=U.useState(!1);U.useEffect(()=>{l(!1);try{const w=localStorage.getItem("shellfax_cart");if(w){const R=JSON.parse(w);n(R)}else n([])}catch(w){console.error("Error loading cart:",w),n([])}finally{l(!0)}},[r.pathname]),U.useEffect(()=>{s&&localStorage.setItem("shellfax_cart",JSON.stringify(e))},[e,s]);const X=w=>{n(e.filter(R=>R.id!==w))},H=()=>e.reduce((w,R)=>w+R.price,0),te=()=>e.length>0?499:0,ne=()=>Math.round(H()*.07),ie=()=>H()+te()+ne(),Ee=()=>{e.length!==0&&f(!0)},ge=async w=>{if(w.preventDefault(),!j){alert("Please accept the terms and conditions");return}try{const R=mr.currentUser;if(!R){alert("You must be logged in to place an order");return}const C={userId:R.uid,userEmail:R.email,items:e.map(L=>({carId:L.id,make:L.make,model:L.model,year:L.year,trim:L.trim,color:L.color,price:L.price,mileage:L.mileage,image_url:L.image_url})),shippingInfo:{firstName:g.firstName,lastName:g.lastName,address:g.address,city:g.city,state:g.state,zipCode:g.zipCode},paymentInfo:{method:"Credit Card (simulated)",lastFourDigits:b.cardNumber.slice(-4)},pricing:{subtotal:H(),shipping:te(),tax:ne(),total:ie()},orderDate:F4(),status:"completed"},V=vl(Un,"orders"),D=await og(V,C);console.log("Order saved with ID:",D.id),n([]),f(!1),p(!0),T({firstName:"",lastName:"",address:"",zipCode:"",city:"",state:""}),x({cardNumber:"",expiration:"",cvc:""}),G(!1)}catch(R){console.error("Error saving order:",R),alert("There was an error processing your order. Please try again.")}},xe=()=>{p(!1)};return m?v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(or,{}),v.jsx("div",{className:"container mx-auto px-4 py-12",children:v.jsx("div",{className:"max-w-2xl mx-auto text-center",children:v.jsxs("div",{className:"bg-yellow-400 rounded-2xl border-4 border-gray-800 p-12",children:[v.jsx("h1",{className:"text-5xl font-bold mb-6",children:"THANK YOU!"}),v.jsx("p",{className:"text-2xl mb-8",children:"Your order has been successfully placed."}),v.jsx("p",{className:"text-lg mb-8",children:"We'll contact you shortly with delivery details."}),v.jsx(ei,{to:"/",onClick:xe,className:"inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full transition-colors",children:"Back to Home"})]})})})]}):u?v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(or,{}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"CHECKOUT"}),v.jsx("form",{onSubmit:ge,children:v.jsxs("div",{className:"grid lg:grid-cols-2 gap-6 max-w-7xl mx-auto",children:[v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-gray-200 rounded-2xl border-4 border-gray-800 p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Shipping Information"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"First Name"}),v.jsx("input",{type:"text",value:g.firstName,onChange:w=>T({...g,firstName:w.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Last Name"}),v.jsx("input",{type:"text",value:g.lastName,onChange:w=>T({...g,lastName:w.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Address"}),v.jsx("input",{type:"text",value:g.address,onChange:w=>T({...g,address:w.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Zip Code"}),v.jsx("input",{type:"text",value:g.zipCode,onChange:w=>T({...g,zipCode:w.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"City"}),v.jsx("input",{type:"text",value:g.city,onChange:w=>T({...g,city:w.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"State"}),v.jsxs("select",{value:g.state,onChange:w=>T({...g,state:w.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0,children:[v.jsx("option",{value:"",children:"Select"}),v.jsx("option",{value:"MD",children:"MD"}),v.jsx("option",{value:"VA",children:"VA"}),v.jsx("option",{value:"DC",children:"DC"}),v.jsx("option",{value:"PA",children:"PA"})]})]})]})]})]}),v.jsxs("div",{className:"bg-gray-200 rounded-2xl border-4 border-gray-800 p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Payment Information"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Card Number"}),v.jsx("input",{type:"text",placeholder:"1234 1234 1234 1234",value:b.cardNumber,onChange:w=>x({...b,cardNumber:w.target.value}),maxLength:19,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]}),v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"Expiration"}),v.jsx("input",{type:"text",placeholder:"MM/YY",value:b.expiration,onChange:w=>x({...b,expiration:w.target.value}),maxLength:5,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-1",children:"CVC"}),v.jsx("input",{type:"text",placeholder:"CVC",value:b.cvc,onChange:w=>x({...b,cvc:w.target.value}),maxLength:3,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg",required:!0})]})]})]})]})]}),v.jsxs("div",{className:"space-y-6",children:[e.map(w=>v.jsx("div",{className:"bg-gray-200 rounded-2xl border-4 border-gray-800 overflow-hidden",children:v.jsxs("div",{className:"p-6",children:[v.jsx("img",{src:w.image_url,alt:`${w.year} ${w.make} ${w.model}`,className:"w-full h-64 object-cover rounded-lg mb-4"}),v.jsxs("h3",{className:"text-3xl font-bold text-center mb-4",children:[w.year," ",w.make," ",w.model]})]})},w.id)),v.jsxs("div",{className:"bg-gray-200 rounded-2xl border-4 border-gray-800 p-6",children:[v.jsxs("div",{className:"space-y-3 mb-6",children:[v.jsxs("div",{className:"flex justify-between text-lg",children:[v.jsx("span",{children:"Shipping"}),v.jsxs("span",{children:["$",te().toLocaleString()]})]}),v.jsxs("div",{className:"flex justify-between text-lg",children:[v.jsx("span",{children:"Discount"}),v.jsx("span",{children:"$0"})]}),v.jsxs("div",{className:"flex justify-between text-lg",children:[v.jsx("span",{children:"Subtotal"}),v.jsxs("span",{children:["$",H().toLocaleString()]})]}),v.jsxs("div",{className:"flex justify-between text-lg",children:[v.jsx("span",{children:"Tax"}),v.jsxs("span",{children:["$",ne().toLocaleString()]})]}),v.jsx("div",{className:"border-t-2 border-gray-400 pt-3",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-2xl font-bold",children:"Total"}),v.jsxs("span",{className:"text-2xl font-bold",children:["$",ie().toLocaleString()]})]})})]}),v.jsx("div",{className:"mb-6",children:v.jsxs("label",{className:"flex items-start gap-2 cursor-pointer",children:[v.jsx("input",{type:"checkbox",checked:j,onChange:w=>G(w.target.checked),className:"mt-1",required:!0}),v.jsxs("span",{className:"text-sm",children:["I accept the terms"," ",v.jsx("a",{href:"#",className:"text-red-600 underline hover:text-red-700",children:"Read our T&C's"})]})]})}),v.jsx("button",{type:"submit",className:"w-full bg-gray-900 hover:bg-gray-800 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"CONFIRM PAYMENT"})]})]})]})})]})]}):v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(or,{}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"YOUR CART"}),e.length===0?v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-gray-200 rounded-2xl border-4 border-gray-800 p-12 text-center",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4",children:"No Items in Cart"}),v.jsx("p",{className:"text-xl mb-6",children:"Your cart is empty. Start shopping to add vehicles!"}),v.jsx(ei,{to:"/",className:"inline-block bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-8 rounded-full transition-colors",children:"Browse Inventory"})]})}):v.jsxs("div",{className:"max-w-6xl mx-auto",children:[v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-2 gap-6 mb-8",children:e.map(w=>v.jsxs("div",{className:"bg-gray-200 rounded-2xl border-4 border-gray-800 overflow-hidden",children:[v.jsx("img",{src:w.image_url,alt:`${w.year} ${w.make} ${w.model}`,className:"w-full h-64 object-cover"}),v.jsxs("div",{className:"p-6",children:[v.jsxs("h3",{className:"text-2xl font-bold mb-2",children:[w.year," ",w.make," ",w.model]}),v.jsx("p",{className:"text-gray-600 mb-2",children:w.trim}),v.jsxs("p",{className:"text-xl font-bold text-red-600 mb-4",children:["$",w.price.toLocaleString()]}),v.jsxs("div",{className:"flex gap-2",children:[v.jsx(ei,{to:`/car/${w.id}`,className:"flex-1 bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-4 rounded-lg text-center transition-colors",children:"View Details"}),v.jsx("button",{onClick:()=>X(w.id),className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Remove"})]})]})]},w.id))}),v.jsx("div",{className:"max-w-md mx-auto",children:v.jsxs("div",{className:"bg-yellow-400 rounded-2xl border-4 border-gray-800 p-6",children:[v.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Order Summary"}),v.jsxs("div",{className:"space-y-2 mb-4",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Subtotal:"}),v.jsxs("span",{className:"font-bold",children:["$",H().toLocaleString()]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Shipping:"}),v.jsxs("span",{className:"font-bold",children:["$",te().toLocaleString()]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{children:"Tax (7%):"}),v.jsxs("span",{className:"font-bold",children:["$",ne().toLocaleString()]})]}),v.jsx("div",{className:"border-t-2 border-gray-800 pt-2 mt-2",children:v.jsxs("div",{className:"flex justify-between text-xl",children:[v.jsx("span",{className:"font-bold",children:"Total:"}),v.jsxs("span",{className:"font-bold",children:["$",ie().toLocaleString()]})]})})]}),v.jsx("button",{onClick:Ee,className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-full transition-colors",children:"Proceed to Checkout"}),e.length>=2&&v.jsx("p",{className:"text-sm text-center mt-4 text-gray-700",children:"Maximum 2 vehicles per order"})]})})]})]})]})}const o3=()=>{const[r,e]=U.useState(""),[n,s]=U.useState(""),[l,u]=U.useState(""),[f,m]=U.useState(""),[p,g]=U.useState(!1),T=pr(),b=async()=>{g(!0);let j=[];const G=f.trim().toLowerCase(),X=f?G.charAt(0).toUpperCase()+G.slice(1):"",H=l.trim().toLowerCase(),te=l?H.charAt(0).toUpperCase()+H.slice(1):"",ne=parseInt(r.trim()),ie=parseFloat(n.trim());if(!X&&!te&&!ne&&!ie){alert("Please enter at least one search criteria"),g(!1),T("/");return}try{let ge=vl(Un,"cars");X&&(ge=Ho(ge,sh("make","==",X))),te&&(ge=Ho(ge,sh("model","==",te))),ne&&(ge=Ho(ge,sh("year","==",ne))),ie&&(ge=Ho(ge,sh("price","<=",ie))),j=(await lg(ge)).docs.map(w=>({...w.data(),id:w.id}))}catch(Ee){console.error("Error searching cars:",Ee),j=[]}finally{g(!1),T("/searchresults",{state:{query:[X,te,ie,ne],results:j}})}},x=[{value:f,set:m,placeholder:"CAR MAKE"},{value:l,set:u,placeholder:"CAR MODEL"},{value:n,set:s,placeholder:"PRICE"},{value:r,set:e,placeholder:"YEAR"}];return v.jsx(v.Fragment,{children:v.jsx("section",{className:"bg-red-600 py-12",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx("h2",{className:"text-4xl font-bold text-center text-black mb-8",children:"FIND THE CAR FOR YOU TODAY!"}),v.jsx("div",{className:"flex flex-wrap justify-center gap-4 mb-6",children:x.map((j,G)=>v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",value:j.value,onChange:X=>j.set(X.target.value),placeholder:j.placeholder,className:"bg-yellow-400 text-gray-900 placeholder-gray-700 px-6 py-3 pr-12 rounded-full w-48 font-medium uppercase"}),v.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xl",children:""})]},G))}),v.jsx("div",{className:"flex justify-center",children:v.jsxs("div",{className:"relative w-full max-w-md",children:[v.jsx("button",{onClick:b,disabled:p,className:"w-full p-2 my-6 rounded-2xl bg-yellow-300 focus:outline-none focus:ring-1 focus:ring-black text-black disabled:opacity-50 disabled:cursor-not-allowed",children:p?"SEARCHING...":"SEARCH FOR YOUR DREAM CAR"}),v.jsx("span",{className:"absolute right-2 top-1/2 -translate-y-1/2 text-xl",children:""})]})})]})})})},u3="/h4i-Team1-Final-Project/assets/money-icon-B6o6Qd-5.png",c3="/h4i-Team1-Final-Project/assets/trophy-icon-Czn3kU5f.png",h3="/h4i-Team1-Final-Project/assets/people-icon-C1OtaGVZ.png",f3="/h4i-Team1-Final-Project/assets/checkmark-icon-S_Zc9YqG.png",d3="/h4i-Team1-Final-Project/assets/stars-icon-DAq4wC0Z.png",m3="/h4i-Team1-Final-Project/assets/user-icon-A-Xrxwxb.png";function p3(){const[r,e]=U.useState(null),[n,s]=U.useState([]),[l,u]=U.useState(!0);U.useEffect(()=>{(async()=>{try{u(!0);const p=vl(Un,"cars"),g=Ho(p,k4(4)),T=await lg(g),b=[];T.forEach(x=>{b.push({id:x.id,...x.data()})}),b.length>0&&(e(b[0]),s(b.slice(1,4)))}catch(p){console.error("Error fetching cars:",p)}finally{u(!1)}})()},[]);const f=[{name:"Anonymous Review",text:"I've bought cars from other places before, but this dealership truly stands out. The staff was knowledgeable, patient, and helped me make the best decision. I left with my dream car and complete confidence in my purchase.",rating:5},{name:"Jordan Mitchell",text:"From pricing to service, everything was transparent and smooth. They walked me through every step and made sure I understood all my options. Easily the most stress-free car-buying experience I've ever had.",rating:5},{name:"Ariana Collins",text:"Exceptional service from start to finish. The team listened to what I needed, found the perfect vehicle, and handled everything quickly. Highly recommend them to anyone looking for quality and reliability.",rating:5}];return v.jsxs("div",{className:"min-h-screen bg-gray-900",children:[v.jsx(or,{}),v.jsx("section",{className:"bg-white",children:v.jsx("div",{className:"container mx-auto px-4 py-12",children:l?v.jsx("div",{className:"text-center py-20",children:v.jsx("p",{className:"text-2xl text-gray-600",children:"Loading featured car..."})}):r?v.jsxs("div",{className:"grid lg:grid-cols-2 gap-8 items-stretch",children:[v.jsx("div",{className:"border-4 border-gray-900 p-8 bg-gray-100 h-full flex items-center justify-center",children:v.jsx("img",{src:r.image_url||"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=600&h=400&fit=crop",alt:`${r.year} ${r.make} ${r.model}`,className:"w-full h-auto rounded-lg shadow-md"})}),v.jsxs("div",{className:"bg-yellow-400 p-8 rounded-lg h-full flex flex-col",children:[v.jsxs("h2",{className:"text-5xl font-bold text-gray-900 mb-4",children:[r.year," ",r.make," ",r.model]}),v.jsxs("p",{className:"text-gray-900 mb-6 leading-relaxed text-3xl",children:["This ",r.year," ",r.make," ",r.model," ","offers a smooth and efficient driving experience with its"," ",r.trim||"well-equipped design",". With only"," ",r.mileage?.toLocaleString()," miles, it's been lightly driven and well-maintained, making it an excellent choice for commuters or first-time buyers. Finished in"," ",r.color,", it delivers reliability, comfort, and great fuel economy without breaking the bank."]}),v.jsxs("p",{className:"text-5xl font-bold text-red-600 mt-auto",children:["$",r.price?.toLocaleString()]})]})]}):v.jsx("div",{className:"text-center py-20",children:v.jsx("p",{className:"text-2xl text-gray-600",children:"No featured car available"})})})}),v.jsx(o3,{}),v.jsx("section",{className:"bg-yellow-400 py-12",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx("h2",{className:"text-4xl font-bold text-center text-gray-900 mb-8",children:"FEATURED & SUGGESTED CARS"}),l?v.jsx("div",{className:"text-center py-10",children:v.jsx("p",{className:"text-2xl text-gray-800",children:"Loading cars..."})}):n.length>0?v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>v.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[v.jsx("div",{className:"p-4 bg-gray-50",children:v.jsxs("h3",{className:"text-lg font-bold text-center",children:[m.year," ",m.make," ",m.model]})}),v.jsx("img",{src:m.image_url||"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=400&h=300&fit=crop",alt:`${m.year} ${m.make} ${m.model}`,className:"w-full h-64 object-cover"}),v.jsxs("div",{className:"p-4",children:[v.jsxs("p",{className:"text-gray-700 mb-2",children:[v.jsx("strong",{children:"Price:"})," $",m.price?.toLocaleString()]}),v.jsxs("p",{className:"text-gray-700 mb-2",children:[v.jsx("strong",{children:"Mileage:"})," ",m.mileage?.toLocaleString()," ","miles"]}),v.jsxs("p",{className:"text-gray-700",children:[v.jsx("strong",{children:"Color:"})," ",m.color]})]})]},m.id))}):v.jsx("div",{className:"text-center py-10",children:v.jsx("p",{className:"text-2xl text-gray-800",children:"No suggested cars available"})})]})}),v.jsx("section",{className:"bg-red-600 py-12",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx("h2",{className:"text-4xl font-bold text-center text-black mb-12",children:"WHY US!"}),v.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:[{title:"AWARD WINNING",text:"Recognized for excellence year after year  our award-winning dealership sets the standard for quality and customer satisfaction.",icon:c3},{title:"MOST RELIABLE",text:"Count on every step of the way. From honest guidance to dependable vehicles, reliability is at the heart of everything we do.",icon:f3},{title:"FLEXIBLE PRICING",text:"Transparent, competitive pricing with no hidden fees  giving you the best value without the stress.",icon:u3},{title:"CONSISTENT SERVICE",text:"Premium customer service from trained professionals who go the extra mile to keep you moving forward on the road with confidence.",icon:h3}].map((m,p)=>v.jsxs("div",{className:"bg-yellow-400 p-6 rounded-lg",children:[v.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:m.title}),v.jsx("p",{className:"text-gray-800 text-sm mb-4",children:m.text}),v.jsx("div",{className:"flex justify-center mt-4",children:v.jsx("img",{src:m.icon,alt:m.title,className:"w-24 h-24 object-contain"})})]},p))}),v.jsx("h2",{className:"text-4xl font-bold text-center text-black mb-8",children:"CUSTOMER REVIEWS"}),v.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:f.map((m,p)=>v.jsxs("div",{className:"bg-yellow-400 p-6 rounded-lg",children:[v.jsx("h3",{className:"font-bold text-gray-900 mb-2",children:m.name}),v.jsx("p",{className:"text-gray-800 text-sm mb-4",children:m.text}),v.jsx("div",{className:"flex justify-center gap-1 mb-4",children:v.jsx("img",{src:d3,alt:"5 stars",className:"h-28 w-auto"})}),v.jsx("div",{className:"flex justify-center mt-4",children:v.jsx("img",{src:m3,alt:m.name,className:"w-16 h-16 rounded-full"})})]},p))})]})}),v.jsx("footer",{className:"bg-white py-8",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("div",{className:"flex items-center justify-center gap-3 mb-4",children:v.jsx("img",{src:_b,alt:"Shellfax Logo",className:"h-16 w-auto"})}),v.jsx("p",{className:"text-gray-900 font-bold text-xl",children:" 2025"})]})})]})}function g3(r){return yr({attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M15.4024 21V14.0344H17.7347L18.0838 11.3265H15.4024V9.59765C15.4024 8.81364 15.62 8.27934 16.7443 8.27934L18.1783 8.27867V5.85676C17.9302 5.82382 17.0791 5.75006 16.0888 5.75006C14.0213 5.75006 12.606 7.01198 12.606 9.32952V11.3265H10.2677V14.0344H12.606V21H4C3.44772 21 3 20.5523 3 20V4C3 3.44772 3.44772 3 4 3H20C20.5523 3 21 3.44772 21 4V20C21 20.5523 20.5523 21 20 21H15.4024Z"},child:[]}]})(r)}function y3(r){return yr({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 32C28.7 32 0 60.7 0 96V416c0 35.3 28.7 64 64 64H384c35.3 0 64-28.7 64-64V96c0-35.3-28.7-64-64-64H64zm297.1 84L257.3 234.6 379.4 396H283.8L209 298.1 123.3 396H75.8l111-126.9L69.7 116h98l67.7 89.5L313.6 116h47.5zM323.3 367.6L153.4 142.9H125.1L296.9 367.6h26.3z"},child:[]}]})(r)}function SE(){const[r,e]=U.useState({firstName:"",lastName:"",emailAddress:"",phoneNumber:"",message:""}),n=async s=>{s.preventDefault();try{const l=vl(Un,"messages");await og(l,{...r}),e({firstName:"",lastName:"",emailAddress:"",phoneNumber:"",message:""}),alert("The message was sent.")}catch(l){alert("Failed to send the message, please try again"+l)}};return v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(or,{}),v.jsx("div",{className:"max-w-7xl mx-auto px-4 py-8",children:v.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-gray-100 rounded-2xl border-4 border-gray-800 p-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"SEND US A MESSAGE"}),v.jsxs("form",{onSubmit:n,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"firstName",className:"block font-medium text-sm mb-1",children:"First Name"}),v.jsx("input",{type:"text",id:"firstName",value:r.firstName,onChange:s=>e({...r,firstName:s.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"lastName",className:"block font-medium text-sm mb-1",children:"Last Name"}),v.jsx("input",{type:"text",id:"lastName",value:r.lastName,onChange:s=>e({...r,lastName:s.target.value}),className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"emailAddress",className:"block font-medium text-sm mb-1",children:"Email Address"}),v.jsx("input",{type:"email",id:"emailAddress",value:r.emailAddress,onChange:s=>e({...r,emailAddress:s.target.value}),placeholder:"thebestdealer@gmail.com",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"phoneNumber",className:"block font-medium text-sm mb-1",children:"Phone Number"}),v.jsx("input",{type:"tel",id:"phoneNumber",value:r.phoneNumber,onChange:s=>e({...r,phoneNumber:s.target.value}),placeholder:"(123) 123-1234",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gray-400",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"message",className:"block font-medium text-sm mb-1",children:"Message"}),v.jsx("textarea",{id:"message",value:r.message,onChange:s=>e({...r,message:s.target.value}),placeholder:"Tell us how we can help you...",rows:4,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg focus:outline-none focus:border-gray-400 resize-none",required:!0})]}),v.jsx("button",{type:"submit",className:"w-full bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-full transition-colors duration-200",children:"Send Message"})]})]}),v.jsxs("div",{className:"bg-gray-100 rounded-2xl border-4 border-gray-800 p-8",children:[v.jsx("h2",{className:"text-2xl font-bold text-center mb-6",children:"CONTACT INFORMATION"}),v.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[v.jsxs("div",{className:"bg-yellow-400 rounded-xl border-2 border-gray-800 p-5",children:[v.jsx("h3",{className:"text-lg font-bold mb-2",children:"Address"}),v.jsxs("p",{className:"text-sm leading-relaxed",children:["ShellFax Car Dealership",v.jsx("br",{}),"4131 Campus Dr",v.jsx("br",{}),"College Park, MD, 20742"]}),v.jsx("a",{href:"https://maps.google.com",className:"text-red-600 font-semibold text-sm mt-2 inline-block hover:underline",children:"Get Directions"})]}),v.jsxs("div",{className:"bg-yellow-400 rounded-xl border-2 border-gray-800 p-5",children:[v.jsx("h3",{className:"text-lg font-bold mb-2",children:"Phone Numbers"}),v.jsxs("p",{className:"text-sm leading-relaxed",children:[v.jsx("strong",{children:"Sales:"})," (800)-123-4567",v.jsx("br",{}),v.jsx("strong",{children:"Service:"})," (800)-737-8423",v.jsx("br",{}),v.jsx("strong",{children:"Parts:"})," (800)-123-7278",v.jsx("br",{}),v.jsx("strong",{children:"Finance:"})," (800)-346-2623"]})]}),v.jsxs("div",{className:"bg-yellow-400 rounded-xl border-2 border-gray-800 p-5",children:[v.jsx("h3",{className:"text-lg font-bold mb-2",children:"Email Addresses"}),v.jsxs("p",{className:"text-sm leading-relaxed",children:[v.jsx("strong",{children:"General:"})," info@shellfax.com",v.jsx("br",{}),v.jsx("strong",{children:"Sales:"})," sales@shellfax.com",v.jsx("br",{}),v.jsx("strong",{children:"Parts:"})," parts@shellfax.com",v.jsx("br",{}),v.jsx("strong",{children:"Finance:"})," finance@shellfax.com"]})]}),v.jsxs("div",{className:"bg-yellow-400 rounded-xl border-2 border-gray-800 p-5",children:[v.jsx("h3",{className:"text-lg font-bold mb-3",children:"Connect With Us"}),v.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[v.jsx("a",{href:"https://www.facebook.com/login.php/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center bg-blue-600 rounded-lg p-2 hover:opacity-80 transition-opacity",children:v.jsx(g3,{color:"white",size:40})}),v.jsx("a",{href:"https://www.instagram.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center bg-gradient-to-br from-purple-600 via-pink-600 to-orange-500 rounded-lg p-2 hover:opacity-80 transition-opacity",children:v.jsx(t3,{color:"white",size:40})}),v.jsx("a",{href:"https://x.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center bg-black rounded-lg p-2 hover:opacity-80 transition-opacity",children:v.jsx(y3,{color:"white",size:40})}),v.jsx("a",{href:"https://www.youtube.com/",target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center bg-red-600 rounded-lg p-2 hover:opacity-80 transition-opacity",children:v.jsx(n3,{color:"white",size:40})})]})]})]})]})]})})]})}function vb({car:r}){const e=pr();return v.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 border-2 border-yellow-500",children:[v.jsxs("h2",{className:"text-2xl font-bold",children:[r.make," ",r.model]}),v.jsx("p",{className:"text-gray-600",children:r.trim}),v.jsx("img",{src:r.image_url,alt:r.model,className:"w-full h-48 object-contain rounded-lg"}),v.jsxs("div",{className:"flex justify-between mt-5",children:[v.jsx("p",{className:"text-gray-600 text-2xl font-bold",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(r.price)}),v.jsx("button",{className:"bg-red-500 text-white px-4 py-2 rounded-lg hover:bg-red-600",onClick:()=>e(`/car/${r.id}`),children:"View Details"})]})]})}const _3=()=>{const r=li(),{query:e,results:n}=r.state,s=e[2]?new Intl.NumberFormat("en-US",{style:"decimal",maximumFractionDigits:0}).format(e[2]):"",l=`${e[3]?e[3]:""} ${e[0]} ${e[1]} ${s?`$${s}`:""}`;return v.jsxs(v.Fragment,{children:[v.jsx(or,{}),v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("h1",{className:"text-3xl font-bold my-8",children:["Search Results for: ",l]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-2 mb-8",children:n.map(u=>v.jsx(vb,{car:u},u.id))})]})]})};function v3(){const r=pr(),[e,n]=U.useState(mr.currentUser),[s,l]=U.useState(null),[u,f]=U.useState(!1),[m,p]=U.useState(""),[g,T]=U.useState(""),[b,x]=U.useState("");U.useEffect(()=>{const G=mr.onAuthStateChanged(async X=>{if(n(X),!X)r("/login");else try{const H=await hb(sa(Un,"users",X.uid));if(H.exists()){const te=H.data();l(te),p(te.firstName||""),T(te.lastName||""),x(te.phoneNumber||"")}else l({firstName:"",lastName:"",email:X.email||"",phoneNumber:""})}catch(H){console.error("Error fetching user data:",H)}});return()=>G()},[r]);const j=async()=>{if(e)try{await db(sa(Un,"users",e.uid),{firstName:m,lastName:g,email:e.email||"",phoneNumber:b,updatedAt:new Date}),l({firstName:m,lastName:g,email:e.email||"",phoneNumber:b}),f(!1)}catch(G){console.error("Error saving profile:",G)}};return e?v.jsx(v.Fragment,{children:v.jsxs("div",{className:"min-h-screen bg-white",children:[v.jsx(or,{}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsx("h1",{className:"text-4xl font-bold text-center mb-8",children:"Welcome Back!"})}),v.jsxs("div",{className:"max-w-2xl mx-auto bg-white rounded-2xl border-4 border-gray-800 p-12 text-center",children:[v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsx("h2",{className:"text-3xl font-bold mb-4 text-left",children:" Your Profile: "}),!u&&v.jsx("button",{onClick:()=>f(!0),className:"bg-yellow-400 hover:bg-yellow-500 text-gray-900 font-bold py-2 px-6 rounded-lg transition-colors",children:"Edit Profile"})]}),u?v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block font-medium text-sm mb-2",children:"First Name:"}),v.jsx("input",{type:"text",value:m,onChange:G=>p(G.target.value),placeholder:"Enter first name",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-white"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block font-medium text-sm mb-2",children:"Last Name:"}),v.jsx("input",{type:"text",value:g,onChange:G=>T(G.target.value),placeholder:"Enter last name",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-white"})]})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Email:"}),v.jsx("input",{type:"email",value:e.email||"",disabled:!0,className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-gray-300 text-gray-600 cursor-not-allowed"}),v.jsx("p",{className:"text-xs text-gray-600 mt-1",children:"Email cannot be changed (used for login)"})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-sm font-medium mb-2",children:"Phone Number:"}),v.jsx("input",{type:"tel",value:b,onChange:G=>x(G.target.value),placeholder:"XXX-XXX-XXXX",className:"w-full px-3 py-2 border-2 border-gray-300 rounded-lg bg-white"})]}),v.jsxs("div",{className:"flex gap-3 pt-4",children:[v.jsx("button",{onClick:j,className:"flex-1 bg-red-600 hover:bg-red-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Save Profile"}),s&&v.jsx("button",{onClick:()=>{f(!1),p(s.firstName||""),T(s.lastName||""),x(s.phoneNumber||"")},className:"flex-1 bg-gray-800 hover:bg-gray-900 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Cancel"})]})]}):s&&v.jsxs("div",{className:"space-y-4 text-left",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"block text-sm font-medium",children:"First Name:"}),v.jsxs("p",{className:"text-gray-700 mb-2",children:[" ",s.firstName||"Not provided"]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"block text-sm font-medium",children:"Last Name: "}),v.jsx("p",{className:"text-gray-700 mb-2",children:s.lastName||"Not provided"})]})]}),v.jsxs("div",{children:[v.jsx("p",{className:"block text-sm font-medium",children:"Email: "}),v.jsx("p",{className:"text-gray-700 mb-2",children:s.email})]}),v.jsxs("div",{children:[v.jsx("p",{className:"block text-sm font-medium",children:"Phone Number: "}),v.jsx("p",{className:"text-gray-700 mb-2",children:s.phoneNumber||"Not provided"})]})]})]})]})}):null}function E3(){const{id:r}=jA(),e=pr(),[n,s]=U.useState(null),[l,u]=U.useState([]);U.useEffect(()=>{(async()=>{if(r)try{const p=sa(Un,"cars",r),g=await hb(p);if(g.exists()){const T={id:g.id,...g.data()};console.log(T),s(T)}else console.log("No car found with id:",r),s(null)}catch(p){console.error("Error fetching car:",p),s(null)}})()},[r]),U.useEffect(()=>{try{const m=localStorage.getItem("shellfax_cart");m&&u(JSON.parse(m))}catch(m){console.error("Error loading cart:",m)}},[]);const f=()=>{if(!n)return;if(l.length>=2){alert("Cart is full! Maximum 2 vehicles allowed. Please remove an item first.");return}if(l.some(p=>p.id===n.id)){alert("This vehicle is already in your cart!");return}const m=[...l,n];u(m),localStorage.setItem("shellfax_cart",JSON.stringify(m)),alert("Vehicle added to cart!"),e("/cart")};return v.jsxs("div",{className:"flex flex-col h-screen",children:[v.jsx(or,{}),v.jsx("div",{className:"flex-1 flex items-center",children:v.jsx("div",{className:"container mx-auto px-4 ",children:n&&v.jsxs("div",{className:"flex sm:flex-row flex-col",children:[v.jsx("div",{className:"w-1/2 h-full object-cover border-2 border-yellow-500 rounded-md",children:v.jsx("img",{src:n.image_url,alt:n.model,className:"object-cover h-full w-full"})}),v.jsxs("div",{className:"flex flex-col pl-10 w-1/2",children:[v.jsxs("h1",{className:"text-4xl font-bold",children:[n.year," ",n.make," ",n.model]}),v.jsx("p",{className:"text-gray-600 text-xl",children:n.trim}),v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("div",{className:"flex my-4 sm:flex-row flex-col gap-4",children:[v.jsxs("div",{className:"flex items-center w-1/2",children:[v.jsx("div",{className:"rounded-full p-1 flex items-center justify-center border-2 border-black",children:v.jsx("img",{src:"/src/assets/carIcons/mileage.svg",alt:"mileage",className:"w-10 h-10"})}),v.jsxs("p",{className:"text-gray-600 text-2xl pl-3",children:[n.mileage," miles"]})]}),v.jsxs("div",{className:"flex items-center w-1/2",children:[v.jsx("div",{className:"rounded-full p-1 flex items-center justify-center border-2 border-black",children:v.jsx("img",{src:"/src/assets/carIcons/drivetrain.svg",alt:"mileage",className:"w-10 h-10"})}),v.jsx("p",{className:"text-gray-600 text-2xl pl-3",children:n.drivetrain})]})]}),v.jsxs("div",{className:"flex my-4 sm:flex-row flex-col gap-4",children:[v.jsxs("div",{className:"flex items-center w-1/2",children:[v.jsx("div",{className:"rounded-full p-1 flex items-center justify-center border-2 border-black",children:v.jsx("img",{src:"/src/assets/carIcons/color.svg",alt:"color",className:"w-10 h-10"})}),v.jsx("p",{className:"text-gray-600 text-2xl pl-3",children:n.color})]}),v.jsxs("div",{className:"flex items-center w-1/2",children:[v.jsx("div",{className:"rounded-full p-1 flex items-center justify-center border-2 border-black",children:v.jsx("img",{src:"/src/assets/carIcons/seats.svg",alt:"seats",className:"w-10 h-10"})}),v.jsx("p",{className:"text-gray-600 text-2xl pl-3",children:`${n.seats} seater`})]})]})]}),v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("p",{className:"text-black text-3xl font-bold my-4",children:new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(n.price)}),v.jsx("button",{onClick:f,className:"bg-yellow-400 hover:bg-yellow-500 text-xl text-gray-900 font-bold px-6 py-4 rounded-md transition-colors",children:"Add to Cart"})]})]})]})})})]})}const T3=()=>{const[r,e]=U.useState([]),[n,s]=U.useState({make:"",model:"",year:2e3,price:0,mileage:0,trim:"",image_url:"",color:"",seats:0,drivetrain:""}),[l,u]=U.useState(null),f=async()=>{try{const x=(await lg(vl(Un,"cars"))).docs.map(j=>({id:j.id,...j.data()}));e(x)}catch(b){alert("Error (fetching)"+b)}};U.useEffect(()=>{f()},[]);const m=async b=>{b.preventDefault();try{await og(vl(Un,"cars"),{color:n.color,drivetrain:n.drivetrain,image_url:n.image_url,make:n.make,mileage:n.mileage,model:n.model,price:n.price,seats:n.seats,trim:n.trim,year:n.year}),s({make:"",model:"",year:2e3,price:0,mileage:0,trim:"",image_url:"",color:"",seats:0,drivetrain:""}),f(),alert("Car added successfully")}catch(x){alert("Error (adding)"+x)}},p=b=>{window.scrollTo({top:0,behavior:"smooth"}),u(b)},g=async b=>{if(b.preventDefault(),!!l)try{await B4(sa(Un,"cars",l.id),{color:l.color,drivetrain:l.drivetrain,image_url:l.image_url,make:l.make,mileage:l.mileage,model:l.model,price:l.price,seats:l.seats,trim:l.trim,year:l.year}),u(null),f(),alert("Car updated successfully")}catch(x){alert("Error (updating)"+x)}},T=async b=>{if(window.confirm("Are you sure you want to commit to deleting this car? (This action cannot be undone.)"))try{await q4(sa(Un,"cars",b)),f(),alert("Car deleted successfully")}catch(x){alert("Error (deleting)"+x)}};return v.jsxs("div",{children:[v.jsx(or,{}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("h1",{className:"text-3xl font-bold mb-8",children:"Vendor Inventory Dashboard"}),v.jsxs("form",{onSubmit:l?g:m,className:"mb-8 space-y-4",children:[v.jsx("input",{type:"text",placeholder:"Make",value:l?l.make:n.make,onChange:b=>l?u({...l,make:b.target.value}):s({...n,make:b.target.value}),className:"border p-2 w-full"}),v.jsx("input",{type:"text",placeholder:"Model",value:l?l.model:n.model,onChange:b=>l?u({...l,model:b.target.value}):s({...n,model:b.target.value}),className:"border p-2 w-full"}),v.jsx("input",{type:"number",placeholder:"Year",value:l?l.year:n.year,onChange:b=>l?u({...l,year:Number(b.target.value)}):s({...n,year:Number(b.target.value)}),className:"border p-2 w-full"}),v.jsx("input",{type:"number",placeholder:"Price",value:l?l.price:n.price,onChange:b=>l?u({...l,price:Number(b.target.value)}):s({...n,price:Number(b.target.value)}),className:"border p-2 w-full"}),v.jsx("input",{type:"number",placeholder:"Mileage",value:l?l.mileage:n.mileage,onChange:b=>l?u({...l,mileage:Number(b.target.value)}):s({...n,mileage:Number(b.target.value)}),className:"border p-2 w-full"}),v.jsx("input",{type:"text",placeholder:"Trim",value:l?l.trim:n.trim,onChange:b=>l?u({...l,trim:b.target.value}):s({...n,trim:b.target.value}),className:"border p-2 w-full"}),v.jsx("input",{type:"text",placeholder:"Image URL",value:l?l.image_url:n.image_url,onChange:b=>l?u({...l,image_url:b.target.value}):s({...n,image_url:b.target.value}),className:"border p-2 w-full"}),v.jsx("input",{type:"text",placeholder:"Color",value:l?l.color:n.color,onChange:b=>l?u({...l,color:b.target.value}):s({...n,color:b.target.value}),className:"border p-2 w-full"}),v.jsx("input",{type:"text",placeholder:"Drivetrain",value:l?l.drivetrain:n.drivetrain,onChange:b=>l?u({...l,drivetrain:b.target.value}):s({...n,drivetrain:b.target.value}),className:"border p-2 w-full"}),v.jsx("input",{type:"text",placeholder:"Seats",value:l?l.seats:n.seats,onChange:b=>l?u({...l,seats:Number(b.target.value)}):s({...n,seats:Number(b.target.value)}),className:"border p-2 w-full"}),v.jsx("button",{type:"submit",className:"bg-blue-500 text-white px-4 py-2 rounded",children:l?"Save Changes":"Add Car"}),l&&v.jsx("button",{type:"button",className:"ml-2 bg-gray-500 text-white px-4 py-2 rounded",onClick:()=>u(null),children:"Cancel"})]}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(b=>v.jsxs("div",{className:"flex flex-col",children:[v.jsx(vb,{car:b}),v.jsxs("div",{className:"mt-2 flex space-x-2",children:[v.jsx("button",{onClick:()=>p(b),className:"bg-yellow-500 text-white px-3 py-1 rounded",children:"Edit"}),v.jsx("button",{onClick:()=>T(b.id),className:"bg-red-500 text-white px-3 py-1 rounded",children:"Delete"})]})]},b.id))})]})]})};function tl({children:r,requireVendor:e=!1}){const n=li(),[s,l]=U.useState(null),[u,f]=U.useState(!0);return U.useEffect(()=>Sp(mr,p=>{l(p),f(!1)}),[]),u?v.jsx("div",{children:"Loading..."}):s?e&&!(s?.email&&s.email.endsWith("@shellfax.com"))?v.jsx(vh,{to:"/",replace:!0}):v.jsx(v.Fragment,{children:r}):v.jsx(vh,{to:"/login",state:{from:n},replace:!0})}function b3(){const[r,e]=U.useState(null),[n,s]=U.useState(!0);return U.useEffect(()=>Sp(mr,u=>{e(u),s(!1)}),[]),n?v.jsx("div",{children:"Loading..."}):v.jsx(Tw,{basename:"/h4i-Team1-Final-Project/",children:v.jsxs(ZA,{children:[v.jsx(Pn,{path:"/login",element:r?v.jsx(vh,{to:"/",replace:!0}):v.jsx(Y4,{})}),v.jsx(Pn,{path:"/signup",element:r?v.jsx(vh,{to:"/",replace:!0}):v.jsx(Q4,{})}),v.jsx(Pn,{path:"/",element:v.jsx(tl,{children:v.jsx(p3,{})})}),v.jsx(Pn,{path:"/searchresults",element:v.jsx(tl,{children:v.jsx(_3,{})})}),v.jsx(Pn,{path:"/car/:id",element:v.jsx(tl,{children:v.jsx(E3,{})})}),v.jsx(Pn,{path:"/cart",element:v.jsx(tl,{children:v.jsx(bE,{})})}),v.jsx(Pn,{path:"/contact",element:v.jsx(tl,{children:v.jsx(SE,{})})}),v.jsx(Pn,{path:"/customer",element:v.jsx(v3,{})}),v.jsx(Pn,{path:"/cart",element:v.jsx(bE,{})}),v.jsx(Pn,{path:"/contact",element:v.jsx(SE,{})}),v.jsx(Pn,{path:"/VendorProduct",element:v.jsx(tl,{requireVendor:!0,children:v.jsx(T3,{})})})]})})}aA.createRoot(document.getElementById("root")).render(v.jsx(U.StrictMode,{children:v.jsx(b3,{})}));
